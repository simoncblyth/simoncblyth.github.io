<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tools : bash, python, numpy, ipython, matplotlib &mdash; Opticks 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Opticks 0.0.1 documentation" href="../index.html" />
    <link rel="next" title="SysRap : Low Level System Wrapper" href="../sysrap/index.html" />
    <link rel="prev" title="ana : Opticks Analysis Scripts" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../sysrap/index.html" title="SysRap : Low Level System Wrapper"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="ana : Opticks Analysis Scripts"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Opticks 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tools : bash, python, numpy, ipython, matplotlib</a><ul>
<li><a class="reference internal" href="#working-with-bash-functions">Working with bash functions</a></li>
<li><a class="reference internal" href="#ipython-interactive-python-example">IPython : interactive python example</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">ana : Opticks Analysis Scripts</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../sysrap/index.html"
                        title="next chapter">SysRap : Low Level System Wrapper</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/ana/tools.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tools-bash-python-numpy-ipython-matplotlib">
<h1>Tools : bash, python, numpy, ipython, matplotlib<a class="headerlink" href="#tools-bash-python-numpy-ipython-matplotlib" title="Permalink to this headline">¶</a></h1>
<p>Opticks uses bash functions extensively.</p>
<p>Opticks analysis and debugging relies on:</p>
<ul class="simple">
<li>Python</li>
<li>NumPy <a class="reference external" href="http://www.numpy.org">http://www.numpy.org</a></li>
<li>IPython</li>
<li>MatPlotLib</li>
</ul>
<div class="section" id="working-with-bash-functions">
<h2>Working with bash functions<a class="headerlink" href="#working-with-bash-functions" title="Permalink to this headline">¶</a></h2>
<p>Bash functions make you into a power user of the shell, by
allowing you to operate at a higher level than individual commands
without having to write separate scripts for everything.</p>
<div class="highlight-sh"><div class="highlight"><pre>delta:tests blyth<span class="nv">$ </span><span class="nb">alias </span><span class="nv">t</span><span class="o">=</span><span class="s2">&quot;typeset -f&quot;</span>
delta:tests blyth<span class="nv">$ </span>t opticks-
opticks- <span class="o">()</span>
<span class="o">{</span>
    <span class="nb">source</span> <span class="k">$(</span>opticks-source<span class="k">)</span> <span class="o">&amp;&amp;</span> opticks-env <span class="nv">$*</span>
<span class="o">}</span>
delta:tests blyth<span class="nv">$ </span>t tprism-
tprism- <span class="o">()</span>
<span class="o">{</span>
    . <span class="k">$(</span>opticks-home<span class="k">)</span>/tests/tprism.bash <span class="o">&amp;&amp;</span> tprism-env <span class="nv">$*</span>
<span class="o">}</span>
delta:tests blyth<span class="nv">$ </span>t tprism--     <span class="c"># not defined yet</span>
delta:tests blyth<span class="nv">$ </span>tprism-        <span class="c"># running precursor defines functions including tprism-- tprism-usage and tprism-vi</span>
delta:tests blyth<span class="nv">$ </span>t tprism--
tprism-- <span class="o">()</span>
<span class="o">{</span>
    <span class="nb">local </span><span class="nv">msg</span><span class="o">=</span><span class="s2">&quot;=== $FUNCNAME :&quot;</span>;
    <span class="nb">local </span><span class="nv">cmdline</span><span class="o">=</span><span class="nv">$*</span>;
    <span class="nb">local </span><span class="nv">pol</span><span class="o">=</span><span class="k">${</span><span class="nv">1</span><span class="k">:-</span><span class="nv">s</span><span class="k">}</span>;
    <span class="nb">shift</span>;
    <span class="nb">local </span><span class="nv">tag</span><span class="o">=</span><span class="k">$(</span>tprism-tag <span class="nv">$pol</span><span class="k">)</span>;
    <span class="nb">echo</span> <span class="nv">$msg</span> pol <span class="nv">$pol</span> tag <span class="nv">$tag</span>;
    <span class="nb">local </span><span class="nv">phifrac0</span><span class="o">=</span>0.1667;
    <span class="nb">local </span><span class="nv">phifrac1</span><span class="o">=</span>0.4167;
    <span class="nb">local </span><span class="nv">phifrac2</span><span class="o">=</span>0.6667;
    <span class="nb">local </span><span class="nv">quadrant</span><span class="o">=</span><span class="nv">$phifrac1</span>,<span class="nv">$phifrac2</span>;
    <span class="nb">local </span><span class="nv">critical</span><span class="o">=</span>0.4854,0.4855;
    <span class="nb">local </span><span class="nv">material</span><span class="o">=</span>GlassSchottF2;
    <span class="nb">local </span><span class="nv">azimuth</span><span class="o">=</span><span class="nv">$quadrant</span>;
    <span class="nb">local </span><span class="nv">surfaceNormal</span><span class="o">=</span>0,1,0;
    <span class="nb">local </span><span class="nv">torch_config</span><span class="o">=(</span><span class="nb">type</span><span class="o">=</span>invcylinder <span class="nv">photons</span><span class="o">=</span>500000 <span class="nv">mode</span><span class="o">=</span><span class="k">${</span><span class="nv">pol</span><span class="k">}</span>pol,wavelengthComb <span class="nv">polarization</span><span class="o">=</span><span class="nv">$surfaceNormal</span> <span class="nv">frame</span><span class="o">=</span>-1 <span class="nv">transform</span><span class="o">=</span>0.500,0.866,0.000,0.000,-0.866,0.500,0.000,0.000,0.000,0.000,1.000,0.000,-86.603,0.000,0.000,1.000 <span class="nv">target</span><span class="o">=</span>0,-500,0 <span class="nb">source</span><span class="o">=</span>0,0,0 <span class="nv">radius</span><span class="o">=</span>300 <span class="nv">distance</span><span class="o">=</span>25 <span class="nv">zenithazimuth</span><span class="o">=</span>0,1,<span class="nv">$azimuth</span> <span class="nv">material</span><span class="o">=</span>Vacuum <span class="nv">wavelength</span><span class="o">=</span>0<span class="o">)</span>;
    <span class="nb">local </span><span class="nv">test_config</span><span class="o">=(</span><span class="nv">mode</span><span class="o">=</span>BoxInBox <span class="nv">analytic</span><span class="o">=</span>1 <span class="nv">shape</span><span class="o">=</span>box <span class="nv">parameters</span><span class="o">=</span>-1,1,0,700 <span class="nv">boundary</span><span class="o">=</span>Rock//perfectAbsorbSurface/Vacuum <span class="nv">shape</span><span class="o">=</span>prism <span class="nv">parameters</span><span class="o">=</span>60,300,300,200 <span class="nv">boundary</span><span class="o">=</span>Vacuum///<span class="nv">$material</span><span class="o">)</span>;
    op.sh <span class="nv">$*</span> --animtimemax 7 --timemax 7 --geocenter --eye 0,0,1 --test --testconfig <span class="s2">&quot;$(join _ ${test_config[@]})&quot;</span> --torch --torchconfig <span class="s2">&quot;$(join _ ${torch_config[@]})&quot;</span> --torchdbg --save --tag <span class="nv">$tag</span> --cat <span class="k">$(</span>tprism-det<span class="k">)</span>
<span class="o">}</span>

delta:tests blyth<span class="nv">$ </span>tprism-  <span class="c"># pressing [tab] shows available functions beginning tprism-</span>
tprism-        tprism-args    tprism-det     tprism-env     tprism-py      tprism-src     tprism-test    tprism-vi
tprism--       tprism-cd      tprism-dir     tprism-pol     tprism-source  tprism-tag     tprism-usage
delta:tests blyth<span class="nv">$ </span>tprism-
</pre></div>
</div>
</div>
<div class="section" id="ipython-interactive-python-example">
<h2>IPython : interactive python example<a class="headerlink" href="#ipython-interactive-python-example" title="Permalink to this headline">¶</a></h2>
<p>IPython enables you to inspect live python objects, so you can
learn by discovery.  In order to see the plots created by Opticks analysis
scripts you will need to use IPython.</p>
<div class="highlight-py"><pre>delta:ana blyth$ ipython
Python 2.7.11 (default, Dec  5 2015, 23:51:51)
Type "copyright", "credits" or "license" for more information.

IPython 1.2.1 -- An enhanced Interactive Python.
?         -&gt; Introduction and overview of IPython's features.
%quickref -&gt; Quick reference.
help      -&gt; Python's own help system.
object?   -&gt; Details about 'object', use 'object??' for extra details.

IPython profile: g4opticks

In [1]: run tprism.py --tag 1
tprism.py --tag 1
INFO:__main__:sel prism/torch/  1 : TO BT BT SA 20160716-1941 /tmp/blyth/opticks/evt/prism/fdomtorch/1.npy
INFO:__main__:prism Prism(array([  60.,  300.,  300.,    0.]),Boundary Vacuum///GlassSchottF2 ) alpha 60.0
...</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../sysrap/index.html" title="SysRap : Low Level System Wrapper"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="ana : Opticks Analysis Scripts"
             >previous</a> |</li>
        <li><a href="../index.html">Opticks 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>