
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pmt_test.py debugging notes &#8212; Opticks 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Opticks 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pmt_test.py debugging notes</a><ul>
<li><a class="reference internal" href="#issues">Issues</a><ul>
<li><a class="reference internal" href="#g4-efficiency">G4 Efficiency</a></li>
<li><a class="reference internal" href="#suspect-g4dae-export-is-missing-some-optical-surfaces">suspect g4dae export is missing some optical surfaces</a></li>
<li><a class="reference internal" href="#names-for-breakpointing">names for breakpointing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#agreement-when-avoid-edges-reduce-beam-radius-100mm-to-50mm">Agreement when avoid edges (reduce beam radius 100mm to 50mm)</a></li>
<li><a class="reference internal" href="#annular-beam-zenith-0-9-1-with-radius-100mm-accentuates-skimmers">Annular beam zenith 0.9,1 with radius 100mm accentuates skimmers</a></li>
<li><a class="reference internal" href="#after-tir-bug-fix">After TIR bug fix</a></li>
<li><a class="reference internal" href="#geant4-viz">Geant4 viz</a></li>
<li><a class="reference internal" href="#material-debug">Material Debug</a></li>
<li><a class="reference internal" href="#cfg4-skimmer-double-reflect-fixed-opticks-tir-bug">CFG4 skimmer Double Reflect, FIXED Opticks TIR bug</a></li>
<li><a class="reference internal" href="#full-range-not-so-good-explained-disc-disclin-mismatch">Full range not so good ? EXPLAINED : disc/disclin mismatch</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/ana/tpmt_debug.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pmt-test-py-debugging-notes">
<h1>pmt_test.py debugging notes<a class="headerlink" href="#pmt-test-py-debugging-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="issues">
<h2>Issues<a class="headerlink" href="#issues" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">source issue in cfg4 (b), allmost all photons doing same thing,
fixed by handling discLinear</p>
</li>
<li><p class="first">different G4 geometry, photon interaction positions in the interop visualization
show that primitives are there, but Z offsets not positioned correctly so the
boolean processing produces a more complicated geometry</p>
<ul class="simple">
<li>modify cfg4-/Detector to make just the Pyrex for simplification</li>
</ul>
</li>
<li><p class="first">after first order fixing G4 geometry to look OK,
still very different sequence histories because are missing surface/SD
handling that leads to great simplification for Opticks as most photons
are absorbed/detected on the photocathode</p>
</li>
<li><p class="first">suspect the DYB detdesc G4 positioning of the photocathode inside the vacuum
with coincident surfaces will lead to comparison problems, as this “feature”
was fixed for the surface-based translation</p>
<p>May need to compare against a correspondingly “fixed” G4 geometry</p>
</li>
<li><p class="first">examining the sensdet/hit handling in LXe example observe
that its essentially a manual thing for optical photons, so
the overhead of sensdet and hits is not useful for cfg4 purposes.
Instead just need to modify cfg4-/RecordStep to return done=true
on walking onto the photocathode : but need to identify, and
need the EFFICIENCY ?</p>
<ul class="simple">
<li>hmm what happened to to the EFFICIENCY ?
transmogrified to GSurfaceLib “detect” property that gets
copied across to GPU texture</li>
</ul>
</li>
</ul>
<p>assimpwrap-/AssimpGGeo.cc/AssimpGGeo::convertMaterials:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">438</span>             <span class="k">if</span><span class="p">(</span><span class="n">hasVectorProperty</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span> <span class="n">EFFICIENCY</span> <span class="p">))</span>
<span class="mi">439</span>             <span class="p">{</span>
<span class="mi">440</span>                 <span class="k">assert</span><span class="p">(</span><span class="n">gg</span><span class="o">-&gt;</span><span class="n">getCathode</span><span class="p">()</span> <span class="o">==</span> <span class="n">NULL</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;only expecting one material with an EFFICIENCY property&quot;</span> <span class="p">);</span>
<span class="mi">441</span>                 <span class="n">gg</span><span class="o">-&gt;</span><span class="n">setCathode</span><span class="p">(</span><span class="n">gmat</span><span class="p">)</span> <span class="p">;</span>
<span class="mi">442</span>                 <span class="n">m_cathode</span> <span class="o">=</span> <span class="n">mat</span> <span class="p">;</span>
<span class="mi">443</span>             <span class="p">}</span>
<span class="o">...</span>
<span class="mi">466</span> <span class="n">void</span> <span class="n">AssimpGGeo</span><span class="p">::</span><span class="n">convertSensors</span><span class="p">(</span><span class="n">GGeo</span><span class="o">*</span> <span class="n">gg</span><span class="p">)</span>
<span class="mi">467</span> <span class="p">{</span>
<span class="mi">468</span> <span class="o">/*</span>
<span class="mi">469</span> <span class="n">Opticks</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">surface</span> <span class="n">based</span> <span class="n">simulation</span><span class="p">,</span> <span class="k">as</span> <span class="n">opposed</span> <span class="n">to</span>
<span class="mi">470</span> <span class="n">Geant4</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">CSG</span> <span class="n">volume</span> <span class="n">based</span><span class="o">.</span> <span class="n">In</span> <span class="n">Geant4</span> <span class="n">hits</span> <span class="n">are</span> <span class="n">formed</span>
<span class="mi">471</span> <span class="n">on</span> <span class="n">stepping</span> <span class="n">into</span> <span class="n">volumes</span> <span class="k">with</span> <span class="n">associated</span> <span class="n">SensDet</span><span class="o">.</span>
<span class="mi">472</span> <span class="n">The</span> <span class="n">Opticks</span> <span class="n">equivalent</span> <span class="ow">is</span> <span class="n">intersecting</span> <span class="k">with</span> <span class="n">a</span> <span class="s2">&quot;SensorSurface&quot;</span><span class="p">,</span>
<span class="mi">473</span> <span class="n">which</span> <span class="n">are</span> <span class="n">fabricated</span> <span class="n">by</span> <span class="n">AssimpGGeo</span><span class="p">::</span><span class="n">convertSensors</span><span class="o">.</span>
<span class="mi">474</span> <span class="o">*/</span>
<span class="mi">475</span>     <span class="n">convertSensors</span><span class="p">(</span> <span class="n">gg</span><span class="p">,</span> <span class="n">m_tree</span><span class="o">-&gt;</span><span class="n">getRoot</span><span class="p">(),</span> <span class="mi">0</span><span class="p">);</span>
<span class="mi">476</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[2016-Feb-25 13:15:57.521542]:info: Detector::convertMaterial   name Pyrex materialIndex 13
[2016-Feb-25 13:15:57.523946]:info: Detector::convertMaterial   name Vacuum materialIndex 12
[2016-Feb-25 13:15:57.526100]:info: Detector::convertMaterial   name Bialkali materialIndex 4
[2016-Feb-25 13:15:57.527616]:info: Detector::convertMaterial   name OpaqueVacuum materialIndex 10
[2016-Feb-25 13:15:57.528817]:info: Detector::convertMaterial   name OpaqueVacuum materialIndex 10

simon:GMaterialLib blyth$ cat order.json

    &quot;MineralOil&quot;: &quot;4&quot;,
    &quot;Bialkali&quot;: &quot;5&quot;,
    &quot;OpaqueVacuum&quot;: &quot;11&quot;,
    &quot;Vacuum&quot;: &quot;13&quot;,
    &quot;Pyrex&quot;: &quot;14&quot;,
</pre></div>
</div>
<div class="section" id="g4-efficiency">
<h3>G4 Efficiency<a class="headerlink" href="#g4-efficiency" title="Permalink to this headline">¶</a></h3>
<p>Where does the random check against EFFICIENCY as
function of wavelength happen for G4 ? Need to get G4 to decide between
absorb/detect and return status ?</p>
<ul class="simple">
<li>answer: G4OpBoundaryProcess::DoAbsorption</li>
<li>but it seems that will never be called without an optical surface to
set the EFFICIENCY to allow DoAbsorption to get called</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>simon:geant4.10.02 blyth$ find source -name &#39;*.cc&#39; -exec grep -H EFFICIENCY {} \;
source/global/HEPNumerics/src/G4ConvergenceTester.cc:   out &lt;&lt; std::setw(20) &lt;&lt; &quot;EFFICIENCY = &quot; &lt;&lt; std::setw(13)  &lt;&lt; efficiency &lt;&lt; G4endl;
source/processes/optical/src/G4OpBoundaryProcess.cc:              aMaterialPropertiesTable-&gt;GetProperty(&quot;EFFICIENCY&quot;);
simon:geant4.10.02 blyth$


165 G4VParticleChange*
166 G4OpBoundaryProcess::PostStepDoIt(const G4Track&amp; aTrack, const G4Step&amp; aStep)
167 {
...

387               PropertyPointer =
388               aMaterialPropertiesTable-&gt;GetProperty(&quot;EFFICIENCY&quot;);
389               if (PropertyPointer) {
390                       theEfficiency =
391                       PropertyPointer-&gt;Value(thePhotonMomentum);
392               }


306 inline
307 void G4OpBoundaryProcess::DoAbsorption()
308 {
309               theStatus = Absorption;
310
311               if ( G4BooleanRand(theEfficiency) ) {
312
313                  // EnergyDeposited =/= 0 means: photon has been detected
314                  theStatus = Detection;
315                  aParticleChange.ProposeLocalEnergyDeposit(thePhotonMomentum);
316               }
317               else {
318                  aParticleChange.ProposeLocalEnergyDeposit(0.0);
319               }
320
321               NewMomentum = OldMomentum;
322               NewPolarization = OldPolarization;
323
324 //              aParticleChange.ProposeEnergy(0.0);
325               aParticleChange.ProposeTrackStatus(fStopAndKill);
326 }
</pre></div>
</div>
</div>
<div class="section" id="suspect-g4dae-export-is-missing-some-optical-surfaces">
<h3>suspect g4dae export is missing some optical surfaces<a class="headerlink" href="#suspect-g4dae-export-is-missing-some-optical-surfaces" title="Permalink to this headline">¶</a></h3>
<p>Huh DDDB/PMT/properties.xml appears to set EFFICIENCY and REFLECIVITY to zero
for PMT border surfaces</p>
<p>/usr/local/env/dyb/NuWa-trunk/dybgaudi/Detector/XmlDetDesc/DDDB/PMT/properties.xml:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>01 &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;
 2 &lt;!DOCTYPE DDDB SYSTEM &quot;../DTD/geometry.dtd&quot;&gt;
 3
 4 &lt;DDDB&gt;
 5
 6   &lt;catalog name=&quot;PmtSurfaces&quot;&gt;
 7     &lt;surfaceref href=&quot;#PmtGlassPhoCatSurface&quot;/&gt;
 8     &lt;surfaceref href=&quot;#PmtGlassVacuumSurface&quot;/&gt;
 9   &lt;/catalog&gt;
10
11   &lt;catalog name=&quot;PmtSurfaceTabProperty&quot;&gt;
12     &lt;tabpropertyref href=&quot;#PmtGlassPhoCatReflectivity&quot;/&gt;
13     &lt;tabpropertyref href=&quot;#PmtGlassPhoCatEfficiency&quot;/&gt;
14     &lt;tabpropertyref href=&quot;#PmtGlassVacuumReflectivity&quot;/&gt;
15     &lt;tabpropertyref href=&quot;#PmtGlassVacuumEfficiency&quot;/&gt;
16   &lt;/catalog&gt;
17
18   &lt;!-- Surfaces --&gt;
19
20   &lt;surface name=&quot;PmtGlassPhoCatSurface&quot;
21        model=&quot;glisur&quot;
22        finish=&quot;polished&quot;
23        type=&quot;dielectric_dielectric&quot;
24        value=&quot;0&quot;
25        volfirst=&quot;/dd/Geometry/PMT/lvPmtHemiGlass&quot;
26        volsecond=&quot;/dd/Geometry/PMT/lvPmtHemiCathode&quot;&gt;
//
//   name lvPmtHemiGlass looks wrong would expect /dd/Geometry/PMT/lvPmtHemi
//   also the lvPmtHemiCathode is child of the lvPmtHemiVacuum ??
//
//
27     &lt;tabprops address=&quot;/dd/Geometry/PMT/PmtSurfaceTabProperty/PmtGlassPhoCatReflectivity&quot;/&gt;
28     &lt;tabprops address=&quot;/dd/Geometry/PMT/PmtSurfaceTabProperty/PmtGlassPhoCatEfficiency&quot;/&gt;
29   &lt;/surface&gt;
30
31   &lt;surface name=&quot;PmtGlassVacuumSurface&quot;
32        model=&quot;glishur&quot;
//
//    typo but glisur is default anyhow
//
33        finish=&quot;polished&quot;
34        type=&quot;dielectric_dielectric&quot;
35        value=&quot;0&quot;
36        volfirst=&quot;/dd/Geometry/PMT/lvPmtHemiGlass&quot;
37        volsecond=&quot;/dd/Geometry/PMT/lvPmtHemiVacuum&quot;&gt;
//
//   again name lvPmtHemiGlass looks wrong, would expect /dd/Geometry/PMT/lvPmtHemi
//   border surfaces work
//
38     &lt;tabprops address=&quot;/dd/Geometry/PMT/PmtSurfaceTabProperty/PmtGlassVacuumReflectivity&quot;/&gt;
39     &lt;tabprops address=&quot;/dd/Geometry/PMT/PmtSurfaceTabProperty/PmtGlassVacuumEfficiency&quot;/&gt;
40   &lt;/surface&gt;
41
42   &lt;!-- Tabled properties --&gt;
43
44   &lt;tabproperty name=&quot;PmtGlassPhoCatReflectivity&quot;
45            type=&quot;REFLECTIVITY&quot;
46            xunit=&quot;eV&quot;
47            xaxis=&quot;PhotonEnergy&quot;
48            yaxis=&quot;Reflectivity&quot;&gt;
49     1.0  0.0
50     2.0  0.0
51     3.0  0.0
52     4.0  0.0
53     5.0  0.0
</pre></div>
</div>
<p>The above looks to be outdated, this one is better</p>
<ul class="simple">
<li>/usr/local/env/dyb/NuWa-trunk/dybgaudi/Detector/XmlDetDesc/DDDB/PmtPanel/properties.xml</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>simon:npy blyth$ diff /usr/local/env/dyb/NuWa-trunk/dybgaudi/Detector/XmlDetDesc/DDDB/PMT/properties.xml /usr/local/env/dyb/NuWa-trunk/dybgaudi/Detector/XmlDetDesc/DDDB/PmtPanel/properties.xml
25c25
&lt;      volfirst=&quot;/dd/Geometry/PMT/lvPmtHemiGlass&quot;
---
&gt;      volfirst=&quot;/dd/Geometry/PMT/lvPmtHemi&quot;
36c36
&lt;      volfirst=&quot;/dd/Geometry/PMT/lvPmtHemiGlass&quot;
---
&gt;      volfirst=&quot;/dd/Geometry/PMT/lvPmtHemi&quot;
simon:npy blyth$
</pre></div>
</div>
<p>With theReflectivity and theTransmittance set to zero via the logical border surface
the DoAbsorption will always get called on the photocathode boundary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">483</span>         <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">type</span> <span class="o">==</span> <span class="n">dielectric_dielectric</span><span class="p">)</span> <span class="p">{</span>
<span class="mi">484</span>
<span class="mi">485</span>           <span class="k">if</span> <span class="p">(</span> <span class="n">theFinish</span> <span class="o">==</span> <span class="n">polishedbackpainted</span> <span class="o">||</span>
<span class="mi">486</span>                <span class="n">theFinish</span> <span class="o">==</span> <span class="n">groundbackpainted</span> <span class="p">)</span> <span class="p">{</span>
<span class="mi">487</span>              <span class="n">DielectricDielectric</span><span class="p">();</span>
<span class="mi">488</span>           <span class="p">}</span>
<span class="mi">489</span>           <span class="k">else</span> <span class="p">{</span>
<span class="mi">490</span>              <span class="n">G4double</span> <span class="n">rand</span> <span class="o">=</span> <span class="n">G4UniformRand</span><span class="p">();</span>
<span class="mi">491</span>              <span class="k">if</span> <span class="p">(</span> <span class="n">rand</span> <span class="o">&gt;</span> <span class="n">theReflectivity</span> <span class="p">)</span> <span class="p">{</span>
<span class="mi">492</span>                 <span class="k">if</span> <span class="p">(</span><span class="n">rand</span> <span class="o">&gt;</span> <span class="n">theReflectivity</span> <span class="o">+</span> <span class="n">theTransmittance</span><span class="p">)</span> <span class="p">{</span>
<span class="mi">493</span>                    <span class="n">DoAbsorption</span><span class="p">();</span>
<span class="mi">494</span>                 <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="mi">495</span>                    <span class="n">theStatus</span> <span class="o">=</span> <span class="n">Transmission</span><span class="p">;</span>
<span class="mi">496</span>                    <span class="n">NewMomentum</span> <span class="o">=</span> <span class="n">OldMomentum</span><span class="p">;</span>
<span class="mi">497</span>                    <span class="n">NewPolarization</span> <span class="o">=</span> <span class="n">OldPolarization</span><span class="p">;</span>
<span class="mi">498</span>                 <span class="p">}</span>
<span class="mi">499</span>              <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="names-for-breakpointing">
<h3>names for breakpointing<a class="headerlink" href="#names-for-breakpointing" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>simon:env blyth$ nm /usr/local/env/g4/geant4.10.02.install/lib/libG4processes.dylib | c++filt | grep G4OpBoundaryProcess
0000000001390d00 unsigned short G4OpBoundaryProcess::DoAbsorption()
0000000001390de0 unsigned short G4OpBoundaryProcess::DoReflection()
0000000001391b70 unsigned short G4OpBoundaryProcess::IsApplicable(G4ParticleDefinition const&amp;)
0000000001386f40 T G4OpBoundaryProcess::PostStepDoIt(G4Track const&amp;, G4Step const&amp;)
000000000138afe0 T G4OpBoundaryProcess::DielectricLUT()
000000000138a4a0 T G4OpBoundaryProcess::DielectricMetal()
000000000138ee20 T G4OpBoundaryProcess::GetMeanFreePath(G4Track const&amp;, double, G4ForceCondition*)
000000000138eef0 T G4OpBoundaryProcess::GetReflectivity(double, double, double, double, double)
0000000001391430 unsigned short G4OpBoundaryProcess::ChooseReflection()
000000000138ee50 T G4OpBoundaryProcess::GetIncidentAngle()
000000000138b920 T G4OpBoundaryProcess::DielectricDichroic()
000000000138c560 T G4OpBoundaryProcess::DielectricDielectric()
0000000001389ec0 T G4OpBoundaryProcess::CalculateReflectivity()
000000000138e470 T G4OpBoundaryProcess::InvokeSD(G4Step const*)
0000000001386e20 T G4OpBoundaryProcess::G4OpBoundaryProcess(G4String const&amp;, G4ProcessType)
0000000001386a70 T G4OpBoundaryProcess::G4OpBoundaryProcess(G4String const&amp;, G4ProcessType)
0000000001386f10 T G4OpBoundaryProcess::~G4OpBoundaryProcess()
0000000001386ef0 T G4OpBoundaryProcess::~G4OpBoundaryProcess()
0000000001386e50 T G4OpBoundaryProcess::~G4OpBoundaryProcess()
00000000013913f0 unsigned short G4OpBoundaryProcess::G4BooleanRand(double) const
000000000138e590 T G4OpBoundaryProcess::GetFacetNormal(CLHEP::Hep3Vector const&amp;, CLHEP::Hep3Vector const&amp;) const
0000000001389200 T G4OpBoundaryProcess::BoundaryProcessVerbose() const
000000000191a720 S typeinfo for G4OpBoundaryProcess
00000000017ba0c0 S typeinfo name for G4OpBoundaryProcess
000000000191a650 S vtable for G4OpBoundaryProcess
simon:env blyth$
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>simon:env blyth$ ggv-;ggv-pmt-test --cfg4 --dbg

(lldb) b &quot;G4OpBoundaryProcess::PostStepDoIt(G4Track const&amp;, G4Step const&amp;)&quot;
Breakpoint 1: no locations (pending).
WARNING:  Unable to resolve breakpoint to any actual locations.
(lldb) r
(lldb) expr verboseLevel = 1
(lldb) b &quot;G4OpBoundaryProcess::DielectricDielectric()&quot;
</pre></div>
</div>
<ul class="simple">
<li>a Opticks</li>
<li>b CFG4</li>
</ul>
<p>After kludge photocathode are getting closer to the ballpark</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>In [18]: a.history_table()
Evt(1,&quot;torch&quot;,&quot;PmtInBox&quot;,&quot;&quot;, seqs=&quot;[]&quot;)
                          noname
                 8cd       351558       [3 ] TO BT SA
                 7cd       111189       [3 ] TO BT SD
                  4d        18047       [2 ] TO AB
                8ccd        11661       [4 ] TO BT BT SA
                 86d         3040       [3 ] TO SC SA
                 4cd         1736       [3 ] TO BT AB
                4ccd          884       [4 ] TO BT BT AB
                 8bd          742       [3 ] TO BR SA
                8c6d          394       [4 ] TO SC BT SA
                 46d          187       [3 ] TO SC AB
               86ccd          140       [5 ] TO BT BT SC SA
                7c6d          103       [4 ] TO SC BT SD
                 4bd           63       [3 ] TO BR AB
           8cccccbcd           54       [9 ] TO BT BR BT BT BT BT BT SA
                866d           33       [4 ] TO SC SC SA


In [19]: b.history_table()
Evt(-1,&quot;torch&quot;,&quot;PmtInBox&quot;,&quot;&quot;, seqs=&quot;[]&quot;)
                          noname
                 8cd       337740       [3 ] TO BT SA
                 7cd       106833       [3 ] TO BT SD

                8ccd        23119       [4 ] TO BT BT SA   &lt;&lt; CFG4 (vs 11661 for Opticks) : edge scims MO Py MO MO

                  4d        19117       [2 ] TO AB
                 86d         3199       [3 ] TO SC SA
                 4cd         2174       [3 ] TO BT AB
            8ccccbcd         1999       [8 ] TO BT BR BT BT BT BT SA

                4ccd         1693       [4 ] TO BT BT AB    &lt;&lt; CFG4 (vs 884 for Opticks) ... scimmers again
                 8bd         1267       [3 ] TO BR SA       &lt;&lt; CFG4 (vs 742 for Opticks) ???

          ccccbccbcd          641       [10] TO BT BR BT BT BR BT BT BT BT
          cbccbccbcd          458       [10] TO BT BR BT BT BR BT BT BR BT
                8c6d          405       [4 ] TO SC BT SA
               86ccd          285       [5 ] TO BT BT SC SA
              8cbbcd          198       [6 ] TO BT BR BR BT SA
                 46d          179       [3 ] TO SC AB
            4ccccbcd          136       [8 ] TO BT BR BT BT BT BT AB
                7c6d          115       [4 ] TO SC BT SD
</pre></div>
</div>
<p>Detection to absorb fraction matches efficiency fed in for 380nm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span>
<span class="mi">375203</span><span class="o">+</span><span class="mi">118603</span><span class="o">=</span><span class="mi">493806</span>
<span class="mf">118603.</span><span class="o">/</span><span class="mf">493806.</span><span class="o">=</span><span class="mf">0.24018</span>

<span class="mi">351558</span><span class="o">+</span><span class="mi">111189</span><span class="o">=</span><span class="mi">462747</span>
<span class="mf">111189.</span><span class="o">/</span><span class="mf">462747.</span><span class="o">=</span><span class="mf">0.24028</span>

<span class="n">B</span>
<span class="mi">337740</span><span class="o">+</span><span class="mi">106833</span><span class="o">=</span><span class="mi">444573</span>
<span class="mf">106833.</span><span class="o">/</span><span class="mf">444573.</span><span class="o">=</span><span class="mf">0.24030</span>

<span class="n">ggv</span> <span class="o">--</span><span class="n">surf</span> <span class="mi">6</span>    <span class="n">shows</span>
<span class="mi">380</span>                <span class="mf">0.24</span>                <span class="mf">0.76</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="agreement-when-avoid-edges-reduce-beam-radius-100mm-to-50mm">
<h2>Agreement when avoid edges (reduce beam radius 100mm to 50mm)<a class="headerlink" href="#agreement-when-avoid-edges-reduce-beam-radius-100mm-to-50mm" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">run</span> <span class="n">pmt_test</span><span class="o">.</span><span class="n">py</span>

                  <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
             <span class="mi">8</span><span class="n">cd</span>       <span class="mi">363294</span>       <span class="mi">363027</span>             <span class="mf">0.10</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">7</span><span class="n">cd</span>       <span class="mi">114962</span>       <span class="mi">114826</span>             <span class="mf">0.08</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
              <span class="mi">4</span><span class="n">d</span>        <span class="mi">16924</span>        <span class="mi">17342</span>             <span class="mf">5.10</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
             <span class="mi">86</span><span class="n">d</span>         <span class="mi">2798</span>         <span class="mi">2821</span>             <span class="mf">0.09</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">cd</span>         <span class="mi">1238</span>         <span class="mi">1198</span>             <span class="mf">0.66</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
            <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">381</span>          <span class="mi">385</span>             <span class="mf">0.02</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">46</span><span class="n">d</span>          <span class="mi">181</span>          <span class="mi">164</span>             <span class="mf">0.84</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
            <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">110</span>          <span class="mi">111</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
             <span class="mi">8</span><span class="n">bd</span>           <span class="mi">38</span>           <span class="mi">29</span>             <span class="mf">1.21</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
            <span class="mi">866</span><span class="n">d</span>           <span class="mi">32</span>           <span class="mi">34</span>             <span class="mf">0.06</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
           <span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">28</span>           <span class="mi">24</span>             <span class="mf">0.31</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
            <span class="mi">8</span><span class="n">b6d</span>            <span class="mi">3</span>           <span class="mi">22</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
            <span class="mi">466</span><span class="n">d</span>            <span class="mi">0</span>            <span class="mi">4</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">AB</span>
            <span class="mi">4</span><span class="n">c6d</span>            <span class="mi">4</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">AB</span>
           <span class="mi">8</span><span class="n">c66d</span>            <span class="mi">3</span>            <span class="mi">3</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
          <span class="mi">8</span><span class="n">cbc6d</span>            <span class="mi">1</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
           <span class="mi">4</span><span class="n">cc6d</span>            <span class="mi">2</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
            <span class="mi">4</span><span class="n">b6d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">AB</span>
            <span class="mi">86</span><span class="n">cd</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
           <span class="mi">8</span><span class="n">c6cd</span>            <span class="mi">1</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">bd</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
         <span class="mi">8</span><span class="n">cbc66d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
        <span class="mi">8</span><span class="n">ccbc66d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
                      <span class="mi">500000</span>       <span class="mi">500000</span>         <span class="mf">0.77</span>
</pre></div>
</div>
</div>
<div class="section" id="annular-beam-zenith-0-9-1-with-radius-100mm-accentuates-skimmers">
<h2>Annular beam zenith 0.9,1 with radius 100mm accentuates skimmers<a class="headerlink" href="#annular-beam-zenith-0-9-1-with-radius-100mm-accentuates-skimmers" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INFO</span><span class="p">:</span><span class="n">opticks</span><span class="o">.</span><span class="n">ana</span><span class="o">.</span><span class="n">evt</span><span class="p">:</span><span class="n">rx</span> <span class="n">shape</span> <span class="p">(</span><span class="mi">500000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
                      <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
                 <span class="mi">8</span><span class="n">cd</span>       <span class="mi">252271</span>       <span class="mi">234626</span>           <span class="mf">639.45</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
                <span class="mi">8</span><span class="n">ccd</span>       <span class="mi">117329</span>       <span class="mi">121978</span>            <span class="mf">90.32</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
                 <span class="mi">7</span><span class="n">cd</span>        <span class="mi">79667</span>        <span class="mi">74423</span>           <span class="mf">178.46</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
                  <span class="mi">4</span><span class="n">d</span>        <span class="mi">21673</span>        <span class="mi">21783</span>             <span class="mf">0.28</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>

            <span class="mi">8</span><span class="n">ccccbcd</span>          <span class="mi">215</span>        <span class="mi">10721</span>         <span class="mf">10092.91</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>

                <span class="mi">4</span><span class="n">ccd</span>         <span class="mi">8795</span>         <span class="mi">9246</span>            <span class="mf">11.27</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
                 <span class="mi">8</span><span class="n">bd</span>         <span class="mi">6985</span>         <span class="mi">6500</span>            <span class="mf">17.44</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
                 <span class="mi">4</span><span class="n">cd</span>         <span class="mi">5116</span>         <span class="mi">4919</span>             <span class="mf">3.87</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
                 <span class="mi">86</span><span class="n">d</span>         <span class="mi">3623</span>         <span class="mi">3775</span>             <span class="mf">3.12</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>

          <span class="n">ccccbccbcd</span>            <span class="mi">0</span>         <span class="mi">3632</span>          <span class="mf">3632.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span>
          <span class="n">cbccbccbcd</span>            <span class="mi">0</span>         <span class="mi">2448</span>          <span class="mf">2448.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span>

               <span class="mi">86</span><span class="n">ccd</span>         <span class="mi">1415</span>         <span class="mi">1526</span>             <span class="mf">4.19</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
              <span class="mi">8</span><span class="n">cbbcd</span>            <span class="mi">0</span>          <span class="mi">985</span>           <span class="mf">985.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
            <span class="mi">4</span><span class="n">ccccbcd</span>            <span class="mi">9</span>          <span class="mi">766</span>           <span class="mf">739.42</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
           <span class="mi">8</span><span class="n">cccccbcd</span>          <span class="mi">599</span>            <span class="mi">0</span>           <span class="mf">599.00</span>  <span class="p">[</span><span class="mi">9</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
</pre></div>
</div>
<p>Select skimmers with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">seqs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;TO BT BR BT BT BT BT SA&quot;</span><span class="p">]</span>
<span class="n">see</span> <span class="mi">215</span><span class="o">/</span><span class="mi">10721</span> <span class="kn">from</span> <span class="nn">Opticks</span><span class="o">/</span><span class="n">CfG4</span>
</pre></div>
</div>
<p>Note all the 10k CfG4 skimmers within ~0.4mm of radial range 96.71:97.1mm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">25</span><span class="p">]:</span> <span class="n">a0r</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">a0r</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">a0r</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">b0r</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span>  <span class="n">b0r</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">b0r</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">25</span><span class="p">]:</span>
<span class="p">((</span><span class="mi">215</span><span class="p">,),</span>
 <span class="mf">97.090540043228771</span><span class="p">,</span>
 <span class="mf">99.972196508157936</span><span class="p">,</span>
 <span class="p">(</span><span class="mi">10721</span><span class="p">,),</span>
 <span class="mf">96.710607829543051</span><span class="p">,</span>
 <span class="mf">97.092838713641243</span><span class="p">)</span>
</pre></div>
</div>
<p>Focus on this range with zenith 0.9671,0.9709 radius 100mm
See very differnt skimmer behavior within that annulus:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>            <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
       <span class="mi">8</span><span class="n">cd</span>       <span class="mi">348896</span>            <span class="mi">0</span>        <span class="mf">348896.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
  <span class="mi">8</span><span class="n">ccccbcd</span>            <span class="mi">0</span>       <span class="mi">275990</span>        <span class="mf">275990.00</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
       <span class="mi">7</span><span class="n">cd</span>       <span class="mi">110471</span>            <span class="mi">0</span>        <span class="mf">110471.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
<span class="n">ccccbccbcd</span>            <span class="mi">0</span>        <span class="mi">91652</span>         <span class="mf">91652.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span>
<span class="n">cbccbccbcd</span>            <span class="mi">0</span>        <span class="mi">61105</span>         <span class="mf">61105.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span>
        <span class="mi">4</span><span class="n">d</span>        <span class="mi">22079</span>        <span class="mi">22258</span>             <span class="mf">0.72</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
  <span class="mi">4</span><span class="n">ccccbcd</span>            <span class="mi">0</span>        <span class="mi">19812</span>         <span class="mf">19812.00</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
       <span class="mi">4</span><span class="n">cd</span>         <span class="mi">6553</span>         <span class="mi">6596</span>             <span class="mf">0.14</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
       <span class="mi">8</span><span class="n">bd</span>         <span class="mi">4545</span>         <span class="mi">3895</span>            <span class="mf">50.06</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
       <span class="mi">86</span><span class="n">d</span>         <span class="mi">3681</span>         <span class="mi">3653</span>             <span class="mf">0.11</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
 <span class="mi">86</span><span class="n">ccccbcd</span>            <span class="mi">0</span>         <span class="mi">3351</span>          <span class="mf">3351.00</span>  <span class="p">[</span><span class="mi">9</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
<span class="n">cccccccbcd</span>            <span class="mi">1</span>         <span class="mi">3060</span>          <span class="mf">3057.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span>
      <span class="mi">8</span><span class="n">ccd</span>         <span class="mi">2183</span>         <span class="mi">2182</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
  <span class="mi">8</span><span class="n">ccbbbcd</span>            <span class="mi">0</span>         <span class="mi">1959</span>          <span class="mf">1959.00</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
   <span class="mi">4</span><span class="n">cccbcd</span>            <span class="mi">0</span>          <span class="mi">966</span>           <span class="mf">966.00</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
      <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">489</span>          <span class="mi">420</span>             <span class="mf">5.24</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">28</span><span class="p">]:</span> <span class="n">a0r</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">a0r</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">a0r</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">b0r</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span>  <span class="n">b0r</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">b0r</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">28</span><span class="p">]:</span>
<span class="p">((</span><span class="mi">500000</span><span class="p">,),</span>
 <span class="mf">96.704678194845826</span><span class="p">,</span>
 <span class="mf">97.095561650354725</span><span class="p">,</span>
 <span class="p">(</span><span class="mi">500000</span><span class="p">,),</span>
 <span class="mf">96.704262560710802</span><span class="p">,</span>
 <span class="mf">97.095972587881292</span><span class="p">)</span>
</pre></div>
</div>
<p>After fixing photocathode shape (had omitted startTheta/deltaThera)
get better agreement for the 0.9671,0.9709 radius 100mm skimmers.
Note still some difference in reflection off Pyrex, maybe dont have same
polarization distrib between Opticks/CFG4:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>       <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
  <span class="mi">8</span><span class="n">cd</span>       <span class="mi">348896</span>       <span class="mi">349456</span>             <span class="mf">0.45</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
  <span class="mi">7</span><span class="n">cd</span>       <span class="mi">110471</span>       <span class="mi">110351</span>             <span class="mf">0.07</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
   <span class="mi">4</span><span class="n">d</span>        <span class="mi">22079</span>        <span class="mi">22131</span>             <span class="mf">0.06</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
  <span class="mi">4</span><span class="n">cd</span>         <span class="mi">6553</span>         <span class="mi">6534</span>             <span class="mf">0.03</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
  <span class="mi">8</span><span class="n">bd</span>         <span class="mi">4545</span>         <span class="mi">4002</span>            <span class="mf">34.50</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
  <span class="mi">86</span><span class="n">d</span>         <span class="mi">3681</span>         <span class="mi">3819</span>             <span class="mf">2.54</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
 <span class="mi">8</span><span class="n">ccd</span>         <span class="mi">2183</span>         <span class="mi">2182</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
 <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">489</span>          <span class="mi">423</span>             <span class="mf">4.78</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
  <span class="mi">4</span><span class="n">bd</span>          <span class="mi">351</span>          <span class="mi">333</span>             <span class="mf">0.47</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
  <span class="mi">46</span><span class="n">d</span>          <span class="mi">219</span>          <span class="mi">219</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
 <span class="mi">4</span><span class="n">ccd</span>          <span class="mi">139</span>          <span class="mi">153</span>             <span class="mf">0.67</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
 <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">136</span>          <span class="mi">138</span>             <span class="mf">0.01</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
 <span class="mi">86</span><span class="n">bd</span>           <span class="mi">69</span>           <span class="mi">43</span>             <span class="mf">6.04</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SA</span>
<span class="mi">86</span><span class="n">ccd</span>           <span class="mi">42</span>           <span class="mi">26</span>             <span class="mf">3.76</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
 <span class="mi">8</span><span class="n">b6d</span>            <span class="mi">5</span>           <span class="mi">42</span>            <span class="mf">29.13</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
<span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">38</span>           <span class="mi">41</span>             <span class="mf">0.11</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
</pre></div>
</div>
<p>After match polarization, are left with “TO SC BR SA”. CFG4 is reflection prone
after a scatter ? But borderline stats. This is still just for the skimmers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>              <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
         <span class="mi">8</span><span class="n">cd</span>       <span class="mi">348896</span>       <span class="mi">349452</span>             <span class="mf">0.44</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
         <span class="mi">7</span><span class="n">cd</span>       <span class="mi">110471</span>       <span class="mi">109961</span>             <span class="mf">1.18</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
          <span class="mi">4</span><span class="n">d</span>        <span class="mi">22079</span>        <span class="mi">21915</span>             <span class="mf">0.61</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
         <span class="mi">4</span><span class="n">cd</span>         <span class="mi">6553</span>         <span class="mi">6537</span>             <span class="mf">0.02</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
         <span class="mi">8</span><span class="n">bd</span>         <span class="mi">4545</span>         <span class="mi">4643</span>             <span class="mf">1.05</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
         <span class="mi">86</span><span class="n">d</span>         <span class="mi">3681</span>         <span class="mi">3571</span>             <span class="mf">1.67</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
        <span class="mi">8</span><span class="n">ccd</span>         <span class="mi">2183</span>         <span class="mi">2202</span>             <span class="mf">0.08</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
        <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">489</span>          <span class="mi">513</span>             <span class="mf">0.57</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
         <span class="mi">4</span><span class="n">bd</span>          <span class="mi">351</span>          <span class="mi">383</span>             <span class="mf">1.40</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
         <span class="mi">46</span><span class="n">d</span>          <span class="mi">219</span>          <span class="mi">220</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
        <span class="mi">4</span><span class="n">ccd</span>          <span class="mi">139</span>          <span class="mi">180</span>             <span class="mf">5.27</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
        <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">136</span>          <span class="mi">162</span>             <span class="mf">2.27</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
        <span class="mi">86</span><span class="n">bd</span>           <span class="mi">69</span>           <span class="mi">59</span>             <span class="mf">0.78</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SA</span>
       <span class="mi">86</span><span class="n">ccd</span>           <span class="mi">42</span>           <span class="mi">30</span>             <span class="mf">2.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
        <span class="mi">866</span><span class="n">d</span>           <span class="mi">41</span>           <span class="mi">38</span>             <span class="mf">0.11</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>

        <span class="mi">8</span><span class="n">b6d</span>            <span class="mi">5</span>           <span class="mi">40</span>            <span class="mf">27.22</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>

       <span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">38</span>           <span class="mi">33</span>             <span class="mf">0.35</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
      <span class="mi">8</span><span class="n">cbbcd</span>            <span class="mi">0</span>           <span class="mi">10</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
   <span class="mi">8</span><span class="n">cccccbcd</span>            <span class="mi">9</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">9</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
        <span class="mi">86</span><span class="n">cd</span>            <span class="mi">1</span>            <span class="mi">7</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
<span class="o">...</span>
       <span class="mi">4</span><span class="n">bcd</span>             <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">AB</span>
      <span class="mi">866</span><span class="n">ccd</span>            <span class="mi">1</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
                  <span class="mi">500000</span>       <span class="mi">500000</span>         <span class="mf">2.65</span>
</pre></div>
</div>
<p>Inner half zenith 0,0.5 still in agreement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>       <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
   <span class="mi">8</span><span class="n">cd</span>       <span class="mi">363294</span>       <span class="mi">363351</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
   <span class="mi">7</span><span class="n">cd</span>       <span class="mi">114962</span>       <span class="mi">114575</span>             <span class="mf">0.65</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
    <span class="mi">4</span><span class="n">d</span>        <span class="mi">16924</span>        <span class="mi">17217</span>             <span class="mf">2.51</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
   <span class="mi">86</span><span class="n">d</span>         <span class="mi">2798</span>         <span class="mi">2853</span>             <span class="mf">0.54</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
   <span class="mi">4</span><span class="n">cd</span>         <span class="mi">1238</span>         <span class="mi">1214</span>             <span class="mf">0.23</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
  <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">381</span>          <span class="mi">390</span>             <span class="mf">0.11</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
   <span class="mi">46</span><span class="n">d</span>          <span class="mi">181</span>          <span class="mi">165</span>             <span class="mf">0.74</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
  <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">110</span>          <span class="mi">125</span>             <span class="mf">0.96</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
   <span class="mi">8</span><span class="n">bd</span>           <span class="mi">38</span>           <span class="mi">31</span>             <span class="mf">0.71</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
  <span class="mi">866</span><span class="n">d</span>           <span class="mi">32</span>           <span class="mi">28</span>             <span class="mf">0.27</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
 <span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">28</span>           <span class="mi">23</span>             <span class="mf">0.49</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
  <span class="mi">8</span><span class="n">b6d</span>            <span class="mi">3</span>           <span class="mi">16</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
  <span class="mi">4</span><span class="n">c6d</span>            <span class="mi">4</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">AB</span>
 <span class="mi">8</span><span class="n">c66d</span>            <span class="mi">3</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
  <span class="mi">466</span><span class="n">d</span>            <span class="mi">0</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">AB</span>
 <span class="mi">4</span><span class="n">cc6d</span>            <span class="mi">2</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
  <span class="mi">4</span><span class="n">b6d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">AB</span>
 <span class="mi">7</span><span class="n">c66d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
<span class="mi">8</span><span class="n">cbc6d</span>            <span class="mi">1</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
 <span class="mi">8</span><span class="n">c6cd</span>            <span class="mi">1</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
   <span class="mi">4</span><span class="n">bd</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
            <span class="mi">500000</span>       <span class="mi">500000</span>         <span class="mf">0.66</span>
</pre></div>
</div>
<p>Pushing out to 0,0.9 “TO AB” starting to go awry.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>          <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
     <span class="mi">8</span><span class="n">cd</span>       <span class="mi">362427</span>       <span class="mi">362211</span>             <span class="mf">0.06</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
     <span class="mi">7</span><span class="n">cd</span>       <span class="mi">114703</span>       <span class="mi">113770</span>             <span class="mf">3.81</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
      <span class="mi">4</span><span class="n">d</span>        <span class="mi">17693</span>        <span class="mi">18680</span>            <span class="mf">26.78</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
     <span class="mi">86</span><span class="n">d</span>         <span class="mi">2965</span>         <span class="mi">2916</span>             <span class="mf">0.41</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
     <span class="mi">4</span><span class="n">cd</span>         <span class="mi">1379</span>         <span class="mi">1535</span>             <span class="mf">8.35</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
    <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">392</span>          <span class="mi">400</span>             <span class="mf">0.08</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
     <span class="mi">46</span><span class="n">d</span>          <span class="mi">186</span>          <span class="mi">177</span>             <span class="mf">0.22</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
    <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">105</span>          <span class="mi">115</span>             <span class="mf">0.45</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
     <span class="mi">8</span><span class="n">bd</span>           <span class="mi">73</span>           <span class="mi">92</span>             <span class="mf">2.19</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
    <span class="mi">866</span><span class="n">d</span>           <span class="mi">33</span>           <span class="mi">25</span>             <span class="mf">1.10</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
   <span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">26</span>           <span class="mi">31</span>             <span class="mf">0.44</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
    <span class="mi">8</span><span class="n">b6d</span>            <span class="mi">3</span>           <span class="mi">25</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
   <span class="mi">8</span><span class="n">c66d</span>            <span class="mi">5</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
    <span class="mi">4</span><span class="n">c6d</span>            <span class="mi">5</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">AB</span>
     <span class="mi">4</span><span class="n">bd</span>            <span class="mi">0</span>            <span class="mi">5</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
   <span class="mi">4</span><span class="n">cc6d</span>            <span class="mi">2</span>            <span class="mi">4</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
    <span class="mi">86</span><span class="n">bd</span>            <span class="mi">0</span>            <span class="mi">3</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SA</span>
    <span class="mi">466</span><span class="n">d</span>            <span class="mi">0</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">AB</span>
  <span class="mi">86</span><span class="n">cc6d</span>            <span class="mi">1</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
    <span class="mi">4</span><span class="n">b6d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">AB</span>
  <span class="mi">4</span><span class="n">cc66d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
<span class="mi">8</span><span class="n">cbc66bd</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
  <span class="mi">8</span><span class="n">cbc6d</span>            <span class="mi">1</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
   <span class="mi">8</span><span class="n">c6cd</span>            <span class="mi">1</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
   <span class="mi">7</span><span class="n">c66d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
              <span class="mi">500000</span>       <span class="mi">500000</span>         <span class="mf">3.99</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">94.995</span> <span class="mf">97.005</span> <span class="mf">94.995</span> <span class="mf">97.005</span>
                  <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
             <span class="mi">8</span><span class="n">cd</span>       <span class="mi">352957</span>       <span class="mi">353582</span>             <span class="mf">0.55</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">7</span><span class="n">cd</span>       <span class="mi">111793</span>       <span class="mi">111427</span>             <span class="mf">0.60</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
              <span class="mi">4</span><span class="n">d</span>        <span class="mi">21816</span>        <span class="mi">21692</span>             <span class="mf">0.35</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
             <span class="mi">4</span><span class="n">cd</span>         <span class="mi">5273</span>         <span class="mi">5198</span>             <span class="mf">0.54</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
             <span class="mi">86</span><span class="n">d</span>         <span class="mi">3643</span>         <span class="mi">3594</span>             <span class="mf">0.33</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
             <span class="mi">8</span><span class="n">bd</span>         <span class="mi">3299</span>         <span class="mi">3229</span>             <span class="mf">0.75</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
            <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">482</span>          <span class="mi">474</span>             <span class="mf">0.07</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">bd</span>          <span class="mi">221</span>          <span class="mi">275</span>             <span class="mf">5.88</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
             <span class="mi">46</span><span class="n">d</span>          <span class="mi">219</span>          <span class="mi">195</span>             <span class="mf">1.39</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
            <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">133</span>          <span class="mi">157</span>             <span class="mf">1.99</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
            <span class="mi">86</span><span class="n">bd</span>           <span class="mi">50</span>           <span class="mi">42</span>             <span class="mf">0.70</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SA</span>
            <span class="mi">866</span><span class="n">d</span>           <span class="mi">41</span>           <span class="mi">40</span>             <span class="mf">0.01</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
           <span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">35</span>           <span class="mi">25</span>             <span class="mf">1.67</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
            <span class="mi">8</span><span class="n">b6d</span>            <span class="mi">5</span>           <span class="mi">34</span>            <span class="mf">21.56</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
            <span class="mi">4</span><span class="n">b6d</span>            <span class="mi">0</span>            <span class="mi">5</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">AB</span>
         <span class="o">...</span>
         <span class="mi">8</span><span class="n">cbc66d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
         <span class="mi">4</span><span class="n">ccc6bd</span>            <span class="mi">1</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
                      <span class="mi">500000</span>       <span class="mi">500000</span>         <span class="mf">2.60</span>
</pre></div>
</div>
<p>Not too bad all way out to 97mm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.000</span> <span class="mf">97.002</span>  <span class="mf">0.117</span> <span class="mf">97.004</span>
                  <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
             <span class="mi">8</span><span class="n">cd</span>       <span class="mi">361978</span>       <span class="mi">361339</span>             <span class="mf">0.56</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">7</span><span class="n">cd</span>       <span class="mi">114537</span>       <span class="mi">113731</span>             <span class="mf">2.85</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
              <span class="mi">4</span><span class="n">d</span>        <span class="mi">17934</span>        <span class="mi">18876</span>            <span class="mf">24.11</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
             <span class="mi">86</span><span class="n">d</span>         <span class="mi">3021</span>         <span class="mi">3015</span>             <span class="mf">0.01</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">cd</span>         <span class="mi">1571</span>         <span class="mi">1869</span>            <span class="mf">25.82</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
            <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">390</span>          <span class="mi">415</span>             <span class="mf">0.78</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">8</span><span class="n">bd</span>          <span class="mi">184</span>          <span class="mi">330</span>            <span class="mf">41.47</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
             <span class="mi">46</span><span class="n">d</span>          <span class="mi">185</span>          <span class="mi">198</span>             <span class="mf">0.44</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
            <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">104</span>          <span class="mi">102</span>             <span class="mf">0.02</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
            <span class="mi">866</span><span class="n">d</span>           <span class="mi">33</span>           <span class="mi">27</span>             <span class="mf">0.60</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">bd</span>           <span class="mi">20</span>           <span class="mi">30</span>             <span class="mf">2.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
           <span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">22</span>           <span class="mi">20</span>             <span class="mf">0.10</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
            <span class="mi">8</span><span class="n">b6d</span>            <span class="mi">2</span>           <span class="mi">18</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
          <span class="o">...</span>
           <span class="mi">8666</span><span class="n">d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
                      <span class="mi">500000</span>       <span class="mi">500000</span>         <span class="mf">8.23</span>
</pre></div>
</div>
<p>Goes belly up beyond 97mm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">96.995</span> <span class="mf">100.005</span> <span class="mf">96.995</span> <span class="mf">100.005</span>
             <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
       <span class="mi">8</span><span class="n">ccd</span>       <span class="mi">391394</span>       <span class="mi">391429</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
       <span class="mi">4</span><span class="n">ccd</span>        <span class="mi">29418</span>        <span class="mi">29306</span>             <span class="mf">0.21</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
         <span class="mi">4</span><span class="n">d</span>        <span class="mi">22602</span>        <span class="mi">22571</span>             <span class="mf">0.02</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
        <span class="mi">8</span><span class="n">bd</span>        <span class="mi">18671</span>        <span class="mi">19186</span>             <span class="mf">7.01</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
        <span class="mi">8</span><span class="n">cd</span>        <span class="mi">10338</span>        <span class="mi">10116</span>             <span class="mf">2.41</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
        <span class="mi">4</span><span class="n">cd</span>         <span class="mi">7554</span>         <span class="mi">7510</span>             <span class="mf">0.13</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
      <span class="mi">86</span><span class="n">ccd</span>         <span class="mi">4602</span>         <span class="mi">4626</span>             <span class="mf">0.06</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
        <span class="mi">86</span><span class="n">d</span>         <span class="mi">3762</span>         <span class="mi">3729</span>             <span class="mf">0.15</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
        <span class="mi">7</span><span class="n">cd</span>         <span class="mi">3233</span>         <span class="mi">3181</span>             <span class="mf">0.42</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
        <span class="mi">4</span><span class="n">bd</span>         <span class="mi">1811</span>         <span class="mi">1662</span>             <span class="mf">6.39</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>

 <span class="n">Reordered</span> <span class="n">to</span> <span class="n">put</span> <span class="n">discrepants</span> <span class="n">together</span><span class="p">,</span>
 <span class="n">looks</span> <span class="n">like</span> <span class="n">edge</span> <span class="n">geometry</span> <span class="n">difference</span> <span class="n">between</span> <span class="n">Opticks</span> <span class="n">analytic</span> <span class="ow">and</span> <span class="n">CfG4</span>
 <span class="ow">is</span> <span class="n">culprit</span><span class="o">.</span>

 <span class="mi">3598</span> <span class="n">G4</span> <span class="n">skimmers</span> <span class="n">do</span> <span class="n">a</span> <span class="n">double</span> <span class="n">internal</span> <span class="n">reflect</span> <span class="ow">in</span> <span class="n">Pyrex</span>
 <span class="n">that</span> <span class="n">puts</span> <span class="n">them</span> <span class="n">on</span> <span class="n">path</span> <span class="n">to</span> <span class="n">transmit</span> <span class="n">out</span> <span class="ow">and</span> <span class="n">miss</span> <span class="n">the</span>
 <span class="n">rest</span> <span class="n">of</span> <span class="n">the</span> <span class="n">PMT</span>  <span class="s2">&quot;TO BT BR BR BT SA&quot;</span>

 <span class="n">Opticks</span> <span class="n">analytic</span> <span class="n">somehow</span> <span class="n">manages</span> <span class="n">to</span> <span class="n">transmit</span> <span class="n">after</span> <span class="n">the</span> <span class="mi">1</span><span class="n">st</span> <span class="n">reflect</span>
 <span class="n">leading</span> <span class="n">to</span> <span class="n">a</span> <span class="n">path</span> <span class="s2">&quot;TO BT BR BT BT BT BT SA&quot;</span> <span class="k">with</span> <span class="n">many</span> <span class="n">varying</span> <span class="n">BT</span>
 <span class="n">May</span> <span class="n">be</span> <span class="n">material</span> <span class="n">bug</span><span class="o">...</span> <span class="n">need</span> <span class="n">to</span> <span class="n">get</span> <span class="n">material</span> <span class="n">codes</span> <span class="n">going</span> <span class="ow">in</span> <span class="n">CFG4</span><span class="o">.</span>


     <span class="mi">8</span><span class="n">cbbcd</span>            <span class="mi">0</span>         <span class="mi">3598</span>          <span class="mf">3598.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>

   <span class="mi">8</span><span class="n">ccccbcd</span>          <span class="mi">762</span>            <span class="mi">0</span>           <span class="mf">762.00</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
  <span class="mi">8</span><span class="n">cccccbcd</span>         <span class="mi">1885</span>            <span class="mi">0</span>          <span class="mf">1885.00</span>  <span class="p">[</span><span class="mi">9</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
 <span class="mi">8</span><span class="n">ccccccbcd</span>          <span class="mi">746</span>            <span class="mi">0</span>           <span class="mf">746.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
      <span class="mi">1885</span><span class="o">+</span><span class="mi">762</span><span class="o">+</span><span class="mi">746</span><span class="o">=</span><span class="mi">3393</span>

   <span class="mi">8</span><span class="n">ccc6ccd</span>          <span class="mi">386</span>            <span class="mi">2</span>           <span class="mf">380.04</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
 <span class="mi">8</span><span class="n">ccccc6ccd</span>          <span class="mi">159</span>            <span class="mi">1</span>           <span class="mf">156.03</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
 <span class="n">cccccc6ccd</span>          <span class="mi">191</span>          <span class="mi">259</span>            <span class="mf">10.28</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span>
      <span class="mi">1885</span><span class="o">+</span><span class="mi">762</span><span class="o">+</span><span class="mi">746</span><span class="o">+</span><span class="mi">386</span><span class="o">=</span><span class="mi">3779</span>

   <span class="mi">8</span><span class="n">cbc6ccd</span>           <span class="mi">26</span>          <span class="mi">307</span>           <span class="mf">237.12</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
     <span class="mi">8</span><span class="n">c6ccd</span>           <span class="mi">20</span>          <span class="mi">296</span>           <span class="mf">241.06</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>

       <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">509</span>          <span class="mi">440</span>             <span class="mf">5.02</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
      <span class="mi">46</span><span class="n">ccd</span>          <span class="mi">275</span>          <span class="mi">310</span>             <span class="mf">2.09</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">AB</span>
       <span class="mi">86</span><span class="n">bd</span>          <span class="mi">287</span>          <span class="mi">271</span>             <span class="mf">0.46</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SA</span>
        <span class="mi">46</span><span class="n">d</span>          <span class="mi">223</span>          <span class="mi">224</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
     <span class="mi">4</span><span class="n">cbbcd</span>            <span class="mi">0</span>          <span class="mi">211</span>           <span class="mf">211.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">AB</span>
       <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">140</span>          <span class="mi">160</span>             <span class="mf">1.33</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
    <span class="mi">8</span><span class="n">cc6ccd</span>           <span class="mi">77</span>           <span class="mi">77</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
    <span class="o">....</span>
                 <span class="mi">500000</span>       <span class="mi">500000</span>       <span class="mf">217.45</span>
</pre></div>
</div>
<p>To see whats happening need to viz the real geometry (not triangulated standins)
together with the photon paths.
With Opticks that is difficult but probably not impossible:</p>
<ul class="simple">
<li>compositing OptiX rendered analytic geometry together with OpenGL lines,
see optix- for notes on compositing</li>
</ul>
<p>With Geant4 its probably impossible as only way to draw real geometry
(not triangulated standins) is with the G4RayTracer which doesnt do photon paths.</p>
</div>
<div class="section" id="after-tir-bug-fix">
<h2>After TIR bug fix<a class="headerlink" href="#after-tir-bug-fix" title="Permalink to this headline">¶</a></h2>
<p>Point beam at skimmer position (tag 5) in better agreement (maybe low level scatter difference remains):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">98.999</span> <span class="mf">98.999</span>
<span class="mf">98.999</span> <span class="mf">98.999</span>
                 <span class="mi">5</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
           <span class="mi">8</span><span class="n">ccd</span>       <span class="mi">404485</span>       <span class="mi">404018</span>             <span class="mf">0.27</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
           <span class="mi">4</span><span class="n">ccd</span>        <span class="mi">30537</span>        <span class="mi">30458</span>             <span class="mf">0.10</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
             <span class="mi">4</span><span class="n">d</span>        <span class="mi">22743</span>        <span class="mi">23066</span>             <span class="mf">2.28</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
            <span class="mi">8</span><span class="n">bd</span>        <span class="mi">18353</span>        <span class="mi">18369</span>             <span class="mf">0.01</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
            <span class="mi">4</span><span class="n">cd</span>         <span class="mi">6282</span>         <span class="mi">6265</span>             <span class="mf">0.02</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
          <span class="mi">86</span><span class="n">ccd</span>         <span class="mi">4790</span>         <span class="mi">4865</span>             <span class="mf">0.58</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
         <span class="mi">8</span><span class="n">cbbcd</span>         <span class="mi">4157</span>         <span class="mi">4280</span>             <span class="mf">1.79</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
            <span class="mi">86</span><span class="n">d</span>         <span class="mi">3709</span>         <span class="mi">3725</span>             <span class="mf">0.03</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
            <span class="mi">4</span><span class="n">bd</span>         <span class="mi">1575</span>         <span class="mi">1672</span>             <span class="mf">2.90</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
           <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">529</span>          <span class="mi">506</span>             <span class="mf">0.51</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
       <span class="mi">8</span><span class="n">cbc6ccd</span>          <span class="mi">497</span>          <span class="mi">301</span>            <span class="mf">48.14</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
          <span class="mi">46</span><span class="n">ccd</span>          <span class="mi">271</span>          <span class="mi">327</span>             <span class="mf">5.24</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">AB</span>
         <span class="mi">8</span><span class="n">c6ccd</span>            <span class="mi">0</span>          <span class="mi">295</span>           <span class="mf">295.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
         <span class="mi">4</span><span class="n">cbbcd</span>          <span class="mi">292</span>          <span class="mi">287</span>             <span class="mf">0.04</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">AB</span>
           <span class="mi">86</span><span class="n">bd</span>          <span class="mi">290</span>          <span class="mi">257</span>             <span class="mf">1.99</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SA</span>
            <span class="mi">46</span><span class="n">d</span>          <span class="mi">221</span>          <span class="mi">209</span>             <span class="mf">0.33</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
     <span class="n">cccccc6ccd</span>          <span class="mi">134</span>          <span class="mi">219</span>            <span class="mf">20.47</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span>
           <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">157</span>          <span class="mi">178</span>             <span class="mf">1.32</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
     <span class="mi">8</span><span class="n">ccccc6ccd</span>          <span class="mi">147</span>            <span class="mi">0</span>           <span class="mf">147.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
           <span class="mi">4</span><span class="n">bcd</span>           <span class="mi">84</span>           <span class="mi">68</span>             <span class="mf">1.68</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">AB</span>
        <span class="mi">8</span><span class="n">cc6ccd</span>           <span class="mi">67</span>           <span class="mi">77</span>             <span class="mf">0.69</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
          <span class="mi">4</span><span class="n">bbcd</span>           <span class="mi">58</span>           <span class="mi">54</span>             <span class="mf">0.14</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">AB</span>
         <span class="mi">866</span><span class="n">ccd</span>           <span class="mi">58</span>           <span class="mi">53</span>             <span class="mf">0.23</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
      <span class="mi">8</span><span class="n">ccbbbbcd</span>            <span class="mi">0</span>           <span class="mi">54</span>            <span class="mf">54.00</span>  <span class="p">[</span><span class="mi">9</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
          <span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">53</span>           <span class="mi">45</span>             <span class="mf">0.65</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
     <span class="n">cbccbbbbcd</span>           <span class="mi">53</span>            <span class="mi">0</span>            <span class="mf">53.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span>
           <span class="mi">8</span><span class="n">b6d</span>           <span class="mi">46</span>           <span class="mi">38</span>             <span class="mf">0.76</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
        <span class="mi">86</span><span class="n">cbbcd</span>           <span class="mi">40</span>           <span class="mi">36</span>             <span class="mf">0.21</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
           <span class="mi">866</span><span class="n">d</span>           <span class="mi">37</span>           <span class="mi">39</span>             <span class="mf">0.05</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
         <span class="mi">8</span><span class="n">b6ccd</span>           <span class="mi">26</span>           <span class="mi">37</span>             <span class="mf">1.92</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
       <span class="mi">4</span><span class="n">cbc6ccd</span>           <span class="mi">34</span>           <span class="mi">20</span>             <span class="mf">3.63</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">AB</span>
     <span class="n">bbbbcc6ccd</span>           <span class="mi">25</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span>
           <span class="mi">46</span><span class="n">bd</span>           <span class="mi">21</span>           <span class="mi">16</span>             <span class="mf">0.68</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">AB</span>
</pre></div>
</div>
</div>
<div class="section" id="geant4-viz">
<h2>Geant4 viz<a class="headerlink" href="#geant4-viz" title="Permalink to this headline">¶</a></h2>
<p>Attempt to get G4 vis operational to check the geometry</p>
<ul class="simple">
<li><a class="reference external" href="https://geant4.web.cern.ch/geant4/UserDocumentation/UsersGuides/ForApplicationDeveloper/html/AllResources/Control/UIcommands/_vis_ASCIITree_.html">https://geant4.web.cern.ch/geant4/UserDocumentation/UsersGuides/ForApplicationDeveloper/html/AllResources/Control/UIcommands/_vis_ASCIITree_.html</a></li>
<li><a class="reference external" href="https://geant4.web.cern.ch/geant4/UserDocumentation/UsersGuides/ForApplicationDeveloper/html/AllResources/Control/UIcommands/_vis_rayTracer_.html">https://geant4.web.cern.ch/geant4/UserDocumentation/UsersGuides/ForApplicationDeveloper/html/AllResources/Control/UIcommands/_vis_rayTracer_.html</a></li>
</ul>
<p>TODO: hookup G4DAE so can export and check the COLLADA</p>
<ul class="simple">
<li>circularity of this is interesting as can then run Opticks running on 2nd generation geometry</li>
<li>also visualization with my tools is much better than G4</li>
</ul>
</div>
<div class="section" id="material-debug">
<h2>Material Debug<a class="headerlink" href="#material-debug" title="Permalink to this headline">¶</a></h2>
<p>Opticks reflection “TO BR SA” has material assignment “MO MO”,
hmm would be useful to see the seqmat for a choice of seqhis.
CFG4 reflection</p>
<p>Agreement out to 97mm now includes material history:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.000</span> <span class="mf">97.002</span>
<span class="mf">0.117</span> <span class="mf">97.004</span>
                  <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
             <span class="mi">8</span><span class="n">cd</span>       <span class="mi">361978</span>       <span class="mi">361339</span>             <span class="mf">0.56</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">7</span><span class="n">cd</span>       <span class="mi">114537</span>       <span class="mi">113731</span>             <span class="mf">2.85</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
              <span class="mi">4</span><span class="n">d</span>        <span class="mi">17934</span>        <span class="mi">18876</span>            <span class="mf">24.11</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
             <span class="mi">86</span><span class="n">d</span>         <span class="mi">3021</span>         <span class="mi">3015</span>             <span class="mf">0.01</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">cd</span>         <span class="mi">1571</span>         <span class="mi">1869</span>            <span class="mf">25.82</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
            <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">390</span>          <span class="mi">415</span>             <span class="mf">0.78</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">8</span><span class="n">bd</span>          <span class="mi">184</span>          <span class="mi">330</span>            <span class="mf">41.47</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
             <span class="mi">46</span><span class="n">d</span>          <span class="mi">185</span>          <span class="mi">198</span>             <span class="mf">0.44</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
            <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">104</span>          <span class="mi">102</span>             <span class="mf">0.02</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
            <span class="mi">866</span><span class="n">d</span>           <span class="mi">33</span>           <span class="mi">27</span>             <span class="mf">0.60</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">bd</span>           <span class="mi">20</span>           <span class="mi">30</span>             <span class="mf">2.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
           <span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">22</span>           <span class="mi">20</span>             <span class="mf">0.10</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
            <span class="mi">8</span><span class="n">b6d</span>            <span class="mi">2</span>           <span class="mi">18</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
            <span class="mi">86</span><span class="n">bd</span>            <span class="mi">4</span>            <span class="mi">7</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SA</span>
           <span class="mi">8</span><span class="n">c66d</span>            <span class="mi">4</span>            <span class="mi">4</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
            <span class="mi">4</span><span class="n">c6d</span>            <span class="mi">2</span>            <span class="mi">4</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">AB</span>
            <span class="mi">4</span><span class="n">b6d</span>            <span class="mi">0</span>            <span class="mi">3</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">AB</span>
            <span class="mi">466</span><span class="n">d</span>            <span class="mi">0</span>            <span class="mi">3</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">AB</span>
          <span class="mi">8</span><span class="n">cbc6d</span>            <span class="mi">3</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
           <span class="mi">4</span><span class="n">cc6d</span>            <span class="mi">2</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
         <span class="mi">8</span><span class="n">cbc6bd</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
          <span class="mi">86</span><span class="n">cc6d</span>            <span class="mi">1</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
            <span class="mi">76</span><span class="n">cd</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SD</span>
      <span class="mi">8</span><span class="n">cccccc6bd</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
           <span class="mi">8</span><span class="n">c6cd</span>            <span class="mi">1</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
      <span class="n">bbbbbbbc6d</span>            <span class="mi">1</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span>
         <span class="mi">8</span><span class="n">ccbc6d</span>            <span class="mi">1</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
           <span class="mi">8666</span><span class="n">d</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
                      <span class="mi">500000</span>       <span class="mi">500000</span>         <span class="mf">8.23</span>

                  <span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
             <span class="n">ee4</span>       <span class="mi">478088</span>       <span class="mi">476939</span>             <span class="mf">1.38</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">Py</span>
              <span class="mi">44</span>        <span class="mi">17934</span>        <span class="mi">18876</span>            <span class="mf">24.11</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span>
             <span class="mi">444</span>         <span class="mi">3408</span>         <span class="mi">3573</span>             <span class="mf">3.90</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">MO</span>
            <span class="n">ee44</span>          <span class="mi">481</span>          <span class="mi">521</span>             <span class="mf">1.60</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">Py</span>
            <span class="mi">4444</span>           <span class="mi">54</span>           <span class="mi">58</span>             <span class="mf">0.14</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">MO</span>
           <span class="mf">44e44</span>           <span class="mi">24</span>           <span class="mi">22</span>             <span class="mf">0.09</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">MO</span> <span class="n">MO</span>
           <span class="n">ee444</span>            <span class="mi">4</span>            <span class="mi">4</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">Py</span>
          <span class="mi">44</span><span class="n">ee44</span>            <span class="mi">3</span>            <span class="mi">2</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">MO</span> <span class="n">MO</span>
         <span class="mi">44</span><span class="n">eee44</span>            <span class="mi">1</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">MO</span> <span class="n">MO</span>
      <span class="n">eeeeeeee44</span>            <span class="mi">1</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">Py</span>
         <span class="mi">44</span><span class="n">ee444</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">MO</span> <span class="n">MO</span>
      <span class="mf">44e5</span><span class="n">dbe444</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">OV</span> <span class="n">Vm</span> <span class="n">Bk</span> <span class="n">Py</span> <span class="n">MO</span> <span class="n">MO</span>
           <span class="mi">44444</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">MO</span>
           <span class="mi">44</span><span class="n">ee4</span>            <span class="mi">1</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">MO</span> <span class="n">MO</span>
          <span class="mf">444e44</span>            <span class="mi">1</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">MO</span> <span class="n">MO</span> <span class="n">MO</span>
            <span class="n">eee4</span>            <span class="mi">0</span>            <span class="mi">1</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">MO</span> <span class="n">Py</span> <span class="n">Py</span> <span class="n">Py</span>
                      <span class="mi">500000</span>       <span class="mi">500000</span>         <span class="mf">5.20</span>
</pre></div>
</div>
</div>
<div class="section" id="cfg4-skimmer-double-reflect-fixed-opticks-tir-bug">
<h2>CFG4 skimmer Double Reflect, FIXED Opticks TIR bug<a class="headerlink" href="#cfg4-skimmer-double-reflect-fixed-opticks-tir-bug" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>relocate to graphics/ggeoview/issues/cfg4_pmt_edge_double_reflect</li>
</ul>
<p>After fix the PMT edge is agreeing rather well:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">96.995</span> <span class="mf">100.005</span>
<span class="mf">96.995</span> <span class="mf">100.005</span>
                   <span class="mi">2</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
             <span class="mi">8</span><span class="n">ccd</span>       <span class="mi">391394</span>       <span class="mi">391429</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">ccd</span>        <span class="mi">29418</span>        <span class="mi">29306</span>             <span class="mf">0.21</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
               <span class="mi">4</span><span class="n">d</span>        <span class="mi">22602</span>        <span class="mi">22571</span>             <span class="mf">0.02</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
              <span class="mi">8</span><span class="n">bd</span>        <span class="mi">18671</span>        <span class="mi">19186</span>             <span class="mf">7.01</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
              <span class="mi">8</span><span class="n">cd</span>        <span class="mi">10338</span>        <span class="mi">10116</span>             <span class="mf">2.41</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
              <span class="mi">4</span><span class="n">cd</span>         <span class="mi">7554</span>         <span class="mi">7510</span>             <span class="mf">0.13</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
            <span class="mi">86</span><span class="n">ccd</span>         <span class="mi">4602</span>         <span class="mi">4626</span>             <span class="mf">0.06</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
              <span class="mi">86</span><span class="n">d</span>         <span class="mi">3762</span>         <span class="mi">3729</span>             <span class="mf">0.15</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
           <span class="mi">8</span><span class="n">cbbcd</span>         <span class="mi">3462</span>         <span class="mi">3598</span>             <span class="mf">2.62</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
              <span class="mi">7</span><span class="n">cd</span>         <span class="mi">3233</span>         <span class="mi">3181</span>             <span class="mf">0.42</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
              <span class="mi">4</span><span class="n">bd</span>         <span class="mi">1811</span>         <span class="mi">1662</span>             <span class="mf">6.39</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
             <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">484</span>          <span class="mi">440</span>             <span class="mf">2.10</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
         <span class="mi">8</span><span class="n">cbc6ccd</span>          <span class="mi">477</span>          <span class="mi">307</span>            <span class="mf">36.86</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
            <span class="mi">46</span><span class="n">ccd</span>          <span class="mi">275</span>          <span class="mi">310</span>             <span class="mf">2.09</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">AB</span>
           <span class="mi">8</span><span class="n">c6ccd</span>            <span class="mi">1</span>          <span class="mi">296</span>           <span class="mf">293.01</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">86</span><span class="n">bd</span>          <span class="mi">287</span>          <span class="mi">271</span>             <span class="mf">0.46</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SA</span>
       <span class="n">cccccc6ccd</span>          <span class="mi">129</span>          <span class="mi">259</span>            <span class="mf">43.56</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span>
           <span class="mi">4</span><span class="n">cbbcd</span>          <span class="mi">251</span>          <span class="mi">211</span>             <span class="mf">3.46</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">AB</span>
              <span class="mi">46</span><span class="n">d</span>          <span class="mi">223</span>          <span class="mi">224</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
             <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">140</span>          <span class="mi">160</span>             <span class="mf">1.33</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
       <span class="mi">8</span><span class="n">ccccc6ccd</span>          <span class="mi">138</span>            <span class="mi">1</span>           <span class="mf">135.03</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
          <span class="mi">8</span><span class="n">cc6ccd</span>           <span class="mi">67</span>           <span class="mi">77</span>             <span class="mf">0.69</span>  <span class="p">[</span><span class="mi">7</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">bcd</span>           <span class="mi">68</span>           <span class="mi">50</span>             <span class="mf">2.75</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">AB</span>
           <span class="mi">866</span><span class="n">ccd</span>           <span class="mi">55</span>           <span class="mi">59</span>             <span class="mf">0.14</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
            <span class="mi">4</span><span class="n">bbcd</span>           <span class="mi">51</span>           <span class="mi">42</span>             <span class="mf">0.87</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">AB</span>
             <span class="mi">866</span><span class="n">d</span>           <span class="mi">42</span>           <span class="mi">33</span>             <span class="mf">1.08</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
</pre></div>
</div>
</div>
<div class="section" id="full-range-not-so-good-explained-disc-disclin-mismatch">
<h2>Full range not so good ? EXPLAINED : disc/disclin mismatch<a class="headerlink" href="#full-range-not-so-good-explained-disc-disclin-mismatch" title="Permalink to this headline">¶</a></h2>
<p>Curious going full range 0:1 worse than would expect from pieces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NFO</span><span class="p">:</span><span class="n">opticks</span><span class="o">.</span><span class="n">ana</span><span class="o">.</span><span class="n">evt</span><span class="p">:</span><span class="n">rx</span> <span class="n">shape</span> <span class="p">(</span><span class="mi">500000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
 <span class="mf">0.000</span> <span class="mf">100.004</span>
 <span class="mf">0.187</span> <span class="mf">100.004</span>
                      <span class="mi">4</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
                 <span class="mi">8</span><span class="n">cd</span>       <span class="mi">351558</span>       <span class="mi">340273</span>           <span class="mf">184.08</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
                 <span class="mi">7</span><span class="n">cd</span>       <span class="mi">111189</span>       <span class="mi">107251</span>            <span class="mf">70.99</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
                <span class="mi">8</span><span class="n">ccd</span>        <span class="mi">11661</span>        <span class="mi">23260</span>          <span class="mf">3852.60</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
                  <span class="mi">4</span><span class="n">d</span>        <span class="mi">18047</span>        <span class="mi">19048</span>            <span class="mf">27.01</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
                 <span class="mi">86</span><span class="n">d</span>         <span class="mi">3040</span>         <span class="mi">3133</span>             <span class="mf">1.40</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
                 <span class="mi">4</span><span class="n">cd</span>         <span class="mi">1736</span>         <span class="mi">2249</span>            <span class="mf">66.04</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
                <span class="mi">4</span><span class="n">ccd</span>          <span class="mi">884</span>         <span class="mi">1732</span>           <span class="mf">274.89</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
                 <span class="mi">8</span><span class="n">bd</span>          <span class="mi">742</span>         <span class="mi">1455</span>           <span class="mf">231.39</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
                <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">375</span>          <span class="mi">424</span>             <span class="mf">3.01</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
               <span class="mi">86</span><span class="n">ccd</span>          <span class="mi">140</span>          <span class="mi">260</span>            <span class="mf">36.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
                 <span class="mi">46</span><span class="n">d</span>          <span class="mi">187</span>          <span class="mi">215</span>             <span class="mf">1.95</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
              <span class="mi">8</span><span class="n">cbbcd</span>           <span class="mi">90</span>          <span class="mi">213</span>            <span class="mf">49.93</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
                <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">103</span>          <span class="mi">132</span>             <span class="mf">3.58</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
                 <span class="mi">4</span><span class="n">bd</span>           <span class="mi">63</span>          <span class="mi">125</span>            <span class="mf">20.45</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
                <span class="mi">866</span><span class="n">d</span>           <span class="mi">33</span>           <span class="mi">38</span>             <span class="mf">0.35</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
               <span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">28</span>           <span class="mi">29</span>             <span class="mf">0.02</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
            <span class="mi">8</span><span class="n">cbc6ccd</span>           <span class="mi">20</span>           <span class="mi">22</span>             <span class="mf">0.10</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
                <span class="mi">8</span><span class="n">b6d</span>           <span class="mi">21</span>           <span class="mi">20</span>             <span class="mf">0.02</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
               <span class="mi">46</span><span class="n">ccd</span>            <span class="mi">8</span>           <span class="mi">19</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">AB</span>
                <span class="mi">86</span><span class="n">bd</span>           <span class="mi">15</span>           <span class="mi">16</span>             <span class="mf">0.03</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SA</span>
              <span class="mi">8</span><span class="n">c6ccd</span>            <span class="mi">0</span>           <span class="mi">16</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
              <span class="mi">4</span><span class="n">cbbcd</span>           <span class="mi">12</span>            <span class="mi">9</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">AB</span>
</pre></div>
</div>
<p>Radial distrib of “TO BT BT SA” looks same for both. Too large a difference, must
be migration from “TO BT SA”. Comparing those note different radial distrib</p>
<ul class="simple">
<li>flat in r for (Op)</li>
<li>linear in r for CfG4, from 0 at center to twice Op at 100mm</li>
</ul>
<p>Maybe a difference of Annular and Circle regarding position distrib ?
Nope tried using 0.0001,1 to use Annular for cicle and still getting
the same.</p>
<p>Aha, using disc for Op and disclin for CfG4 gets agreement, TODO:fix CSource bug?:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.005</span> <span class="mf">100.004</span>
<span class="mf">0.187</span> <span class="mf">100.004</span>
                  <span class="mi">4</span><span class="p">:</span><span class="n">PmtInBox</span>   <span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="n">PmtInBox</span>           <span class="n">c2</span>
             <span class="mi">8</span><span class="n">cd</span>       <span class="mi">340271</span>       <span class="mi">340273</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">7</span><span class="n">cd</span>       <span class="mi">107598</span>       <span class="mi">107251</span>             <span class="mf">0.56</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">SD</span>
            <span class="mi">8</span><span class="n">ccd</span>        <span class="mi">23217</span>        <span class="mi">23260</span>             <span class="mf">0.04</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
              <span class="mi">4</span><span class="n">d</span>        <span class="mi">18866</span>        <span class="mi">19048</span>             <span class="mf">0.87</span>  <span class="p">[</span><span class="mi">2</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">AB</span>
             <span class="mi">86</span><span class="n">d</span>         <span class="mi">3179</span>         <span class="mi">3133</span>             <span class="mf">0.34</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">cd</span>         <span class="mi">2204</span>         <span class="mi">2249</span>             <span class="mf">0.45</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">AB</span>
            <span class="mi">4</span><span class="n">ccd</span>         <span class="mi">1696</span>         <span class="mi">1732</span>             <span class="mf">0.38</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">AB</span>
             <span class="mi">8</span><span class="n">bd</span>         <span class="mi">1446</span>         <span class="mi">1455</span>             <span class="mf">0.03</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SA</span>
            <span class="mi">8</span><span class="n">c6d</span>          <span class="mi">382</span>          <span class="mi">424</span>             <span class="mf">2.19</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
           <span class="mi">86</span><span class="n">ccd</span>          <span class="mi">260</span>          <span class="mi">260</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">SA</span>
             <span class="mi">46</span><span class="n">d</span>          <span class="mi">197</span>          <span class="mi">215</span>             <span class="mf">0.79</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">AB</span>
          <span class="mi">8</span><span class="n">cbbcd</span>          <span class="mi">190</span>          <span class="mi">213</span>             <span class="mf">1.31</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
             <span class="mi">4</span><span class="n">bd</span>          <span class="mi">132</span>          <span class="mi">125</span>             <span class="mf">0.19</span>  <span class="p">[</span><span class="mi">3</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">AB</span>
            <span class="mi">7</span><span class="n">c6d</span>          <span class="mi">111</span>          <span class="mi">132</span>             <span class="mf">1.81</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SD</span>
            <span class="mi">866</span><span class="n">d</span>           <span class="mi">35</span>           <span class="mi">38</span>             <span class="mf">0.12</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">SC</span> <span class="n">SA</span>
           <span class="mi">8</span><span class="n">cc6d</span>           <span class="mi">31</span>           <span class="mi">29</span>             <span class="mf">0.07</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
        <span class="mi">8</span><span class="n">cbc6ccd</span>           <span class="mi">31</span>           <span class="mi">22</span>             <span class="mf">1.53</span>  <span class="p">[</span><span class="mi">8</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">SA</span>
            <span class="mi">8</span><span class="n">b6d</span>           <span class="mi">26</span>           <span class="mi">20</span>             <span class="mf">0.78</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">SC</span> <span class="n">BR</span> <span class="n">SA</span>
          <span class="mi">4</span><span class="n">cbbcd</span>           <span class="mi">24</span>            <span class="mi">9</span>             <span class="mf">6.82</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">AB</span>
            <span class="mi">86</span><span class="n">bd</span>           <span class="mi">19</span>           <span class="mi">16</span>             <span class="mf">0.26</span>  <span class="p">[</span><span class="mi">4</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BR</span> <span class="n">SC</span> <span class="n">SA</span>
           <span class="mi">46</span><span class="n">ccd</span>           <span class="mi">17</span>           <span class="mi">19</span>             <span class="mf">0.11</span>  <span class="p">[</span><span class="mi">5</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">AB</span>
          <span class="mi">8</span><span class="n">c6ccd</span>            <span class="mi">0</span>           <span class="mi">16</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">6</span> <span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">SA</span>
      <span class="n">cccccc6ccd</span>            <span class="mi">6</span>           <span class="mi">12</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span>
      <span class="mi">8</span><span class="n">ccccc6ccd</span>            <span class="mi">7</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SC</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">SA</span>
      <span class="n">cbccbbbbcd</span>            <span class="mi">7</span>            <span class="mi">0</span>             <span class="mf">0.00</span>  <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="n">TO</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BR</span> <span class="n">BT</span> <span class="n">BT</span> <span class="n">BR</span> <span class="n">BT</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Opticks 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>