
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>op.sh : Opticks Launching Script &#8212; Opticks 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Visualization of Geometry and Event data" href="../docs/visualization.html" />
    <link rel="prev" title="Opticks Launch Scripts" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../docs/visualization.html" title="Visualization of Geometry and Event data"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Opticks Launch Scripts"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Opticks 0.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Opticks Launch Scripts</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">op.sh : Opticks Launching Script</a><ul>
<li><a class="reference internal" href="#testing-new-geometry">Testing new geometry</a></li>
<li><a class="reference internal" href="#profile-setup">Profile Setup</a></li>
<li><a class="reference internal" href="#commandline-help">Commandline Help</a></li>
<li><a class="reference internal" href="#auto-communication-of-geocache-location-to-scripts-with-idpath-envvar">Auto-communication of geocache location to scripts with IDPATH envvar</a></li>
<li><a class="reference internal" href="#geometry-selection">Geometry Selection</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Opticks Launch Scripts</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../docs/visualization.html"
                        title="next chapter">Visualization of Geometry and Event data</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/bin/op.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="op-sh-opticks-launching-script">
<h1>op.sh : Opticks Launching Script<a class="headerlink" href="#op-sh-opticks-launching-script" title="Permalink to this headline">¶</a></h1>
<p>The <strong>op.sh</strong> script launches different Opticks executables
or scripts depending on the arguments provided. It also
sets environment variables picking a detector geometry
and selecting volumes within the geometry.</p>
<p>Most usage of Opticks should use this script.</p>
<p>To see the options specific to particular scripts or
executables use “-h” rather than the “–help”
that provides this text.</p>
<div class="section" id="testing-new-geometry">
<h2>Testing new geometry<a class="headerlink" href="#testing-new-geometry" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">opticksdata</span><span class="o">-</span>
<span class="n">opticksdata</span><span class="o">-</span><span class="n">export</span>
<span class="n">opticksdata</span><span class="o">-</span><span class="n">export</span><span class="o">-</span><span class="n">ini</span>   <span class="c1">## .ini file is needed, not the environment</span>
<span class="n">opticksdata</span><span class="o">-</span><span class="n">dump</span>         <span class="c1">## this dumps the environment</span>


<span class="n">VERBOSE</span><span class="o">=</span><span class="mi">1</span> <span class="n">op</span> <span class="o">--</span><span class="n">resource</span> <span class="o">--</span><span class="n">j1808</span> <span class="o">--</span><span class="n">dumpenv</span>
</pre></div>
</div>
</div>
<div class="section" id="profile-setup">
<h2>Profile Setup<a class="headerlink" href="#profile-setup" title="Permalink to this headline">¶</a></h2>
<p>To save typing add the below bash function to your .bash_profile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>op(){ op.sh $* ; }
</pre></div>
</div>
</div>
<div class="section" id="commandline-help">
<h2>Commandline Help<a class="headerlink" href="#commandline-help" title="Permalink to this headline">¶</a></h2>
<p>Lists of geometry config arguments and executable selection are provided by the help</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">op</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
</div>
<div class="section" id="auto-communication-of-geocache-location-to-scripts-with-idpath-envvar">
<h2>Auto-communication of geocache location to scripts with IDPATH envvar<a class="headerlink" href="#auto-communication-of-geocache-location-to-scripts-with-idpath-envvar" title="Permalink to this headline">¶</a></h2>
<p>The IDPATH is an envvar that points to the geocache directory. The envvar
is internally set by op.sh using the OpticksIDPATH executable together with the
geometry selecting argument parsing done by op.sh. This happens
prior to running the primary executable or script. This “internal” envvar
is actually only needed for python analysis scripts.</p>
<p>Sometimes it is convenient to run analysis scripts directly, ie not
via the op.sh machinery. In this case it is necessary to manually set the
IDPATH in your environment corresponding to the intended geometry.</p>
</div>
<div class="section" id="geometry-selection">
<h2>Geometry Selection<a class="headerlink" href="#geometry-selection" title="Permalink to this headline">¶</a></h2>
<p>Geometry selection is currently split between the op.sh bash script
and C++ (okc-/OpticksResource), with several internal envvars
used to effect the communication. See <em>op-geometry-setup-notes</em> for details.</p>
<p>This split approach is convenient for development however it
does force Opticks scripts and executables to be used via op.sh.
Bare use of the executables is only appropriate with the default geometry.
A potential future development is to move the geo setup entirely into C++.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../docs/visualization.html" title="Visualization of Geometry and Event data"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Opticks Launch Scripts"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Opticks 0.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Opticks Launch Scripts</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>