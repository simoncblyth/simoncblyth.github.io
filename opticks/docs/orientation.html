
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>orientation : Opticks Codebase Orientation for Developers &#8212; Opticks 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Updating this documentation" href="updating_this_documentation.html" />
    <link rel="prev" title="Quickstart Examples showing how to integrate Opticks acceleration with your simulation" href="examples.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="updating_this_documentation.html" title="Updating this documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Quickstart Examples showing how to integrate Opticks acceleration with your simulation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Opticks 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><strong>orientation</strong> : Opticks Codebase Orientation for Developers</a><ul>
<li><a class="reference internal" href="#page-overview">Page Overview</a></li>
<li><a class="reference internal" href="#opticks-objectives">Opticks Objectives</a></li>
<li><a class="reference internal" href="#geant4-opticks-optix-workflow">Geant4-Opticks-OptiX workflow</a></li>
<li><a class="reference internal" href="#physics-background">Physics Background</a></li>
<li><a class="reference internal" href="#geant4-classes-which-are-partially-ported-to-cuda-optix">Geant4 classes which are partially ported to CUDA/OptiX</a></li>
<li><a class="reference internal" href="#cmake-structure">CMake Structure</a></li>
<li><a class="reference internal" href="#bash-functions">Bash Functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="examples.html"
                        title="previous chapter">Quickstart Examples showing how to integrate Opticks acceleration with your simulation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="updating_this_documentation.html"
                        title="next chapter">Updating this documentation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/orientation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="orientation-opticks-codebase-orientation-for-developers">
<h1><a class="toc-backref" href="#id1"><strong>orientation</strong> : Opticks Codebase Orientation for Developers</a><a class="headerlink" href="#orientation-opticks-codebase-orientation-for-developers" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#orientation-opticks-codebase-orientation-for-developers" id="id1"><strong>orientation</strong> : Opticks Codebase Orientation for Developers</a><ul>
<li><a class="reference internal" href="#page-overview" id="id2">Page Overview</a></li>
<li><a class="reference internal" href="#opticks-objectives" id="id3">Opticks Objectives</a></li>
<li><a class="reference internal" href="#geant4-opticks-optix-workflow" id="id4">Geant4-Opticks-OptiX workflow</a></li>
<li><a class="reference internal" href="#physics-background" id="id5">Physics Background</a></li>
<li><a class="reference internal" href="#geant4-classes-which-are-partially-ported-to-cuda-optix" id="id6">Geant4 classes which are partially ported to CUDA/OptiX</a></li>
<li><a class="reference internal" href="#cmake-structure" id="id7">CMake Structure</a></li>
<li><a class="reference internal" href="#bash-functions" id="id8">Bash Functions</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="page-overview">
<h2><a class="toc-backref" href="#id2">Page Overview</a><a class="headerlink" href="#page-overview" title="Permalink to this headline">¶</a></h2>
<p>The focus of this description is on the Opticks usage of NVIDIA OptiX however necessary
summary contextual info for developers unfamiliar with Opticks is also collected here together
with references to more extensive documentation.</p>
</div>
<div class="section" id="opticks-objectives">
<h2><a class="toc-backref" href="#id3">Opticks Objectives</a><a class="headerlink" href="#opticks-objectives" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>replace Geant4 optical photon simulation with an equivalent GPU implementation based on NVIDIA OptiX</li>
<li>provide automated geometry translation without approximation, Geant4 -&gt; Opticks (GGeo) -&gt; NVIDIA OptiX,</li>
<li>provide a workflow that integrates the Geant4 simulation of all other particles with
Opticks/OptiX simulation of optical photons</li>
</ol>
</div>
<div class="section" id="geant4-opticks-optix-workflow">
<h2><a class="toc-backref" href="#id4">Geant4-Opticks-OptiX workflow</a><a class="headerlink" href="#geant4-opticks-optix-workflow" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="../_images/Geant4OpticksWorkflow.001.png"><img alt="Geant4-Opticks-OptiX workflow" src="../_images/Geant4OpticksWorkflow.001.png" style="width: 1024px;" /></a>
</div>
<div class="section" id="physics-background">
<h2><a class="toc-backref" href="#id5">Physics Background</a><a class="headerlink" href="#physics-background" title="Permalink to this headline">¶</a></h2>
<p>Scintillation and Cerenkov are the two physical processes which are the principal sources
of light relevant to neutrino and dark matter experiments.</p>
<ul class="simple">
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Scintillation_(physics">https://en.wikipedia.org/wiki/Scintillation_(physics</a>)</li>
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Cherenkov_radiation">https://en.wikipedia.org/wiki/Cherenkov_radiation</a></li>
</ul>
<p>After generation the photons propagate through the detector geometry
being scattered, absorbed, reemitted (in the bulk) and reflected, refracted, detected
or absorbed (on surfaces encountered).</p>
<p>The objective of simulation is to provide estimates of times and numbers of photons
that reach detectors such as Photomultipler tubes (PMTs) by creation of large samples with
various input particles types and parameters.</p>
<p>Simulation is the best way to understand complex detectors and as a result
form a better understanding of the physics of interest such as neutrinos coming
from nuclear reactors or from the sun or from distant galaxies.</p>
</div>
<div class="section" id="geant4-classes-which-are-partially-ported-to-cuda-optix">
<h2><a class="toc-backref" href="#id6">Geant4 classes which are partially ported to CUDA/OptiX</a><a class="headerlink" href="#geant4-classes-which-are-partially-ported-to-cuda-optix" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>G4Cerenkov (only generation loop)</li>
<li>G4Scintillation (only generation loop)</li>
<li>G4OpBoundaryProcess</li>
</ul>
<p>To quickly view the sources of any Geant4 classes use the opticks bash function g4-cls:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g4</span><span class="o">-</span><span class="p">;</span><span class="n">g4</span><span class="o">-</span><span class="bp">cls</span> <span class="n">G4Cerenkov</span>
</pre></div>
</div>
</div>
<div class="section" id="cmake-structure">
<h2><a class="toc-backref" href="#id7">CMake Structure</a><a class="headerlink" href="#cmake-structure" title="Permalink to this headline">¶</a></h2>
<p>Opticks is structured as a collection of ~20 modular CMake projects organized by
their dependencies. The projects are hooked together into a tree using the CMake <em>find_package</em> mechanism
which uses <em>BCM</em> (Boost CMake Modules) to reduce CMake boilerplate.  The upshot is that
you only need to worry about one level of dependencires</p>
</div>
<div class="section" id="bash-functions">
<h2><a class="toc-backref" href="#id8">Bash Functions</a><a class="headerlink" href="#bash-functions" title="Permalink to this headline">¶</a></h2>
<p>Bash functions are used for building the tree of CMake projects, see <em>om.bash</em></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="updating_this_documentation.html" title="Updating this documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Quickstart Examples showing how to integrate Opticks acceleration with your simulation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Opticks 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>