
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Visualization of Geometry and Event data &#8212; Opticks 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tests- : Opticks Integration Tests" href="../tests/index.html" />
    <link rel="prev" title="op.sh : Opticks Launching Script" href="../bin/op.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../tests/index.html" title="tests- : Opticks Integration Tests"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../bin/op.html" title="op.sh : Opticks Launching Script"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Opticks 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Visualization of Geometry and Event data</a><ul>
<li><a class="reference internal" href="#geometry-tracer-mode">Geometry Tracer Mode</a></li>
<li><a class="reference internal" href="#gui-control">GUI control</a></li>
<li><a class="reference internal" href="#navigating-in-a-geometry">Navigating in a Geometry</a></li>
<li><a class="reference internal" href="#bookmarks-and-making-interpolated-view-animation">Bookmarks and Making Interpolated View Animation</a></li>
<li><a class="reference internal" href="#controlling-animations-and-photon-presentation">Controlling Animations and Photon Presentation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../bin/op.html"
                        title="previous chapter">op.sh : Opticks Launching Script</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../tests/index.html"
                        title="next chapter">tests- : Opticks Integration Tests</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/visualization.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="visualization-of-geometry-and-event-data">
<h1>Visualization of Geometry and Event data<a class="headerlink" href="#visualization-of-geometry-and-event-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="geometry-tracer-mode">
<h2>Geometry Tracer Mode<a class="headerlink" href="#geometry-tracer-mode" title="Permalink to this headline">¶</a></h2>
<p>When visualizing geometry that is new to you it is
best to start with “–tracer” mode as it does not perform
a simulation, just views geometry.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>op --dpib --tracer
op --dyb  --tracer
op --dfar --tracer
op --dlin --tracer
op --jpmt --tracer
op --lxe --tracer
</pre></div>
</div>
<p>Sometimes this will result in a black screen, for example
when the viewpoint is within a volume and the “light” is outside
that volume.  Use the below key controls to make the geometry visible.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">V</span><span class="p">:</span> <span class="n">View</span><span class="p">::</span><span class="n">nextMode</span>                  <span class="n">rotate</span> <span class="n">view</span><span class="p">,</span> <span class="k">with</span> <span class="n">shift</span> <span class="n">modifier</span> <span class="n">rotates</span> <span class="ow">in</span> <span class="n">opposite</span> <span class="n">direction</span>
<span class="n">L</span><span class="p">:</span> <span class="n">Composition</span><span class="p">::</span><span class="n">nextNormalStyle</span>    <span class="n">flip</span> <span class="n">normal</span> <span class="ow">in</span> <span class="n">shaders</span>
<span class="n">B</span><span class="p">:</span> <span class="n">Scene</span><span class="p">::</span><span class="n">nextGeometryStyle</span>        <span class="n">bbox</span><span class="o">/</span><span class="n">norm</span><span class="o">/</span><span class="n">wire</span>
<span class="n">C</span><span class="p">:</span> <span class="n">Clipper</span><span class="p">::</span><span class="nb">next</span>                   <span class="n">toggle</span> <span class="n">geometry</span> <span class="n">clipping</span>
<span class="n">E</span><span class="p">:</span> <span class="n">Composition</span><span class="p">::</span><span class="n">nextGeometryStyle</span>  <span class="n">lightshader</span><span class="o">/</span><span class="n">normalshader</span><span class="o">/</span><span class="n">flatvertex</span><span class="o">/</span><span class="n">facecolor</span>
<span class="n">D</span><span class="p">:</span> <span class="n">Camera</span><span class="p">::</span><span class="n">nextStyle</span>               <span class="n">perspective</span><span class="o">/</span><span class="n">orthographic</span>
<span class="n">O</span><span class="p">:</span> <span class="n">OptiX</span> <span class="n">render</span> <span class="n">mode</span>               <span class="n">raytrace</span><span class="o">/</span><span class="n">hybrid</span><span class="o">/</span><span class="n">OpenGL</span>
<span class="n">G</span><span class="p">:</span> <span class="n">gui</span> <span class="n">mode</span>                        <span class="n">toggle</span> <span class="n">GUI</span>
</pre></div>
</div>
<p>Particularly useful commands for making geometry visible are:</p>
<dl class="docutils">
<dt><strong>L</strong></dt>
<dd>flips normals so light from outside a volume can still light inside the volume</dd>
<dt><strong>E</strong></dt>
<dd>changes the coloring style</dd>
</dl>
<p>For a full list of keys:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">op</span> <span class="o">--</span><span class="n">keys</span>
</pre></div>
</div>
</div>
<div class="section" id="gui-control">
<h2>GUI control<a class="headerlink" href="#gui-control" title="Permalink to this headline">¶</a></h2>
<p>Toggle between GUI modes with the <strong>G</strong> key, the modes are:</p>
<ul class="simple">
<li>no-GUI</li>
<li>animation control and time scrubber</li>
<li>full GUI menu</li>
</ul>
<p>Sections of the GUI menu:</p>
<dl class="docutils">
<dt><strong>Help</strong></dt>
<dd><strong>Needs Updating</strong></dd>
<dt><strong>Params</strong></dt>
<dd>Information about the loaded event</dd>
<dt><strong>Stats</strong></dt>
<dd><strong>Needs Updating</strong> Can be configured to contain processing timings</dd>
<dt><strong>Interactor</strong></dt>
<dd>List of the interactive key shortcuts, the same list
can be obtained from commandline with <cite>op.sh –keys</cite></dd>
<dt><strong>Scene</strong></dt>
<dd>Checkboxes to select what is displayed, <strong>bb</strong> stands for bounding box,
<strong>in</strong> stands for instance (ie the PMTs)</dd>
<dt><strong>Composition</strong></dt>
<dd>Parameters controlling the view, mostly for developer usage.</dd>
<dt><strong>View</strong></dt>
<dd>Sliders to control positions of: <strong>eye</strong>, <strong>look</strong> and <strong>up</strong></dd>
<dt><strong>Camera</strong></dt>
<dd>Sliders controlling <strong>near</strong>, <strong>far</strong>, <strong>zoom</strong> and <strong>scale</strong> of the
camera and a toggle inbetween perspective and orthographic projection
(note the D key also toggles between these projections)</dd>
<dt><strong>Clipper</strong></dt>
<dd>Sliders controlling a clipping plane that clips away some of the geometry
in clipping mode, which is toggled by pressing the <strong>C</strong> key.</dd>
<dt><strong>Trackball</strong></dt>
<dd>Sliders controlling the virtual trackball available to control the viewpoint in
modes such as the Rotate mode, which is toggled by pressing the <strong>R</strong> key.</dd>
<dt><strong>Bookmarks</strong></dt>
<dd><strong>Under Development</strong></dd>
<dt><strong>State</strong></dt>
<dd><strong>Under Development</strong></dd>
<dt><strong>Photon Flag Selection</strong></dt>
<dd>Can be used to select photons based on final flags.
NB this is different from the photon record history flag selection.</dd>
<dt><strong>GMaterialLib</strong></dt>
<dd>Lists the materials of the geometry, together with their code numbers and colors</dd>
<dt><strong>GSurfaceLib</strong></dt>
<dd>Lists the surfaces of the geometry, together with their code numbers and colors</dd>
<dt><strong>GFlags</strong></dt>
<dd>Lists the history flags of the propagation, such as <strong>BOUNDARY_TRANSMIT</strong> together
with code numbers and colors</dd>
<dt><strong>Dev</strong></dt>
<dd>Used for GUI development</dd>
</dl>
<p>Some menu sections only appear when propagating photons or with a propagation loaded. Namely:</p>
<dl class="docutils">
<dt><strong>Photon Termination Boundaries Selection</strong></dt>
<dd><strong>Under development</strong></dd>
<dt><strong>Photon Flag Sequence Selection</strong></dt>
<dd>Checkbox list of photon history sequences, allowing all photons of particular histories to
be visualized.</dd>
<dt><strong>Photon Material Sequence Selection</strong></dt>
<dd>Checkbox list of photon material sequences, allowing all photons of particular material histories to
be visualized.</dd>
</dl>
</div>
<div class="section" id="navigating-in-a-geometry">
<h2>Navigating in a Geometry<a class="headerlink" href="#navigating-in-a-geometry" title="Permalink to this headline">¶</a></h2>
<p>Navigation keys:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R</span><span class="p">:</span> <span class="n">rotate</span> <span class="n">mode</span> <span class="n">toggle</span>        <span class="n">drag</span> <span class="n">around</span> <span class="n">rotate</span> <span class="n">around</span> <span class="n">viewpoint</span>
<span class="n">S</span><span class="p">:</span> <span class="n">screen</span> <span class="n">scale</span> <span class="n">mode</span> <span class="n">toggle</span>  <span class="n">drag</span> <span class="n">up</span><span class="o">/</span><span class="n">down</span> <span class="n">to</span> <span class="n">change</span> <span class="n">screen</span> <span class="n">scale</span>
<span class="n">X</span><span class="p">:</span> <span class="n">pan</span> <span class="n">mode</span> <span class="n">toggle</span>           <span class="n">drag</span> <span class="n">to</span> <span class="n">move</span> <span class="n">viewpoint</span> <span class="n">within</span> <span class="n">screen</span> <span class="n">plane</span>
<span class="n">Y</span><span class="p">:</span> <span class="n">yfov</span> <span class="n">mode</span> <span class="n">toggle</span>
<span class="n">Z</span><span class="p">:</span> <span class="n">zoom</span> <span class="n">mode</span> <span class="n">toggle</span>          <span class="p">(</span><span class="n">actually</span> <span class="n">changes</span> <span class="n">z</span> <span class="n">position</span><span class="p">,</span> <span class="ow">not</span> <span class="n">zoom</span><span class="p">)</span>
</pre></div>
</div>
<p>Pressing the up-arrow/down-arrow keys doubles/halves the sensitivity of
all dragging. 8x or 16x sensitivity is useful within larger geometries.</p>
</div>
<div class="section" id="bookmarks-and-making-interpolated-view-animation">
<h2>Bookmarks and Making Interpolated View Animation<a class="headerlink" href="#bookmarks-and-making-interpolated-view-animation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">T</span><span class="p">:</span> <span class="n">Composition</span><span class="p">::</span><span class="n">nextViewMode</span>
<span class="n">U</span><span class="p">:</span> <span class="n">Composition</span><span class="p">::</span><span class="n">nextViewType</span><span class="p">,</span> <span class="n">use</span> <span class="n">to</span> <span class="n">cycle</span> <span class="n">thru</span> <span class="n">view</span><span class="o">/</span><span class="n">altview</span> <span class="p">:</span> <span class="n">altview</span> <span class="ow">is</span> <span class="n">InterpolatedView</span>

<span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">:</span> <span class="n">jump</span> <span class="n">to</span> <span class="n">preexisting</span> <span class="n">bookmark</span>
<span class="mi">0</span><span class="o">-</span><span class="mi">9</span> <span class="o">+</span> <span class="n">shift</span><span class="p">:</span> <span class="n">create</span> <span class="ow">or</span> <span class="n">update</span> <span class="n">bookmark</span>
<span class="n">SPACE</span><span class="p">:</span> <span class="n">update</span> <span class="n">the</span> <span class="n">current</span> <span class="n">bookmark</span><span class="p">,</span> <span class="n">commiting</span> <span class="n">trackballing</span> <span class="n">into</span> <span class="n">the</span> <span class="n">view</span> <span class="ow">and</span> <span class="n">persisting</span>
</pre></div>
</div>
<p>After bookmarking several viewpoints, pressing the U key will interpolate the viewpoint
from bookmark to bookmark.  Bookmarks are persisted between invokations.
Bookmarks are an area that needs some debugging.</p>
</div>
<div class="section" id="controlling-animations-and-photon-presentation">
<h2>Controlling Animations and Photon Presentation<a class="headerlink" href="#controlling-animations-and-photon-presentation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">M</span><span class="p">:</span> <span class="n">Composition</span><span class="p">::</span><span class="n">nextColorStyle</span>      <span class="n">m1</span><span class="o">/</span><span class="n">m2</span><span class="o">/</span><span class="n">f1</span><span class="o">/</span><span class="n">f2</span><span class="o">/</span><span class="n">p1</span><span class="o">/</span><span class="n">p2</span>
<span class="n">P</span><span class="p">:</span> <span class="n">Scene</span><span class="p">::</span><span class="n">nextPhotonStyle</span>       <span class="n">dot</span><span class="o">/</span><span class="n">longline</span><span class="o">/</span><span class="n">shortline</span>
<span class="n">G</span><span class="p">:</span> <span class="n">gui</span> <span class="n">mode</span>                        <span class="n">toggle</span> <span class="n">GUI</span>

<span class="n">Animator</span> <span class="n">modes</span> <span class="n">are</span> <span class="n">changed</span> <span class="n">by</span> <span class="n">pressing</span> <span class="n">keys</span> <span class="n">A</span><span class="p">,</span><span class="n">V</span><span class="p">,</span><span class="n">T</span>

<span class="n">A</span><span class="p">:</span> <span class="n">event</span> <span class="n">propagation</span>
<span class="n">V</span><span class="p">:</span> <span class="n">geometry</span> <span class="n">rotation</span>
<span class="n">T</span><span class="p">:</span> <span class="n">interpolated</span> <span class="n">navigation</span>

<span class="n">Holding</span> <span class="n">SHIFT</span> <span class="k">with</span> <span class="n">A</span><span class="p">,</span><span class="n">V</span><span class="p">,</span><span class="n">T</span> <span class="n">reverses</span> <span class="n">animation</span> <span class="n">time</span> <span class="n">direction</span>
<span class="n">Holding</span> <span class="n">OPTION</span> <span class="k">with</span> <span class="n">A</span><span class="p">,</span><span class="n">V</span><span class="p">,</span><span class="n">T</span> <span class="n">changes</span> <span class="n">to</span> <span class="n">previous</span> <span class="n">animation</span> <span class="n">mode</span><span class="p">,</span> <span class="n">instead</span> <span class="n">of</span> <span class="nb">next</span>
<span class="n">Holding</span> <span class="n">CONTROL</span> <span class="k">with</span> <span class="n">A</span><span class="p">,</span><span class="n">V</span><span class="p">,</span><span class="n">T</span> <span class="n">sets</span> <span class="n">animation</span> <span class="n">mode</span> <span class="n">to</span> <span class="n">OFF</span>
</pre></div>
</div>
<dl class="docutils">
<dt><strong>A</strong></dt>
<dd>starts an event propagation animation</dd>
<dt><strong>G</strong></dt>
<dd>switches between GUI modes: no-gui/time-scrubber/full-gui-menu</dd>
<dt><strong>M</strong></dt>
<dd>controls color of photon representation, based on materials m1/m2 or
flags f1/f2 or the polarization of the photon p1/p2</dd>
<dt><strong>P</strong></dt>
<dd>controls the representation of the photon, either a point, a long line
over the full path of the photon or a shortline indicating the direction
of the photon.
In <strong>Composition</strong> GUI section there is a <strong>pick.x</strong> selection that modulo
selects the photons to display.</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../tests/index.html" title="tests- : Opticks Integration Tests"
             >next</a> |</li>
        <li class="right" >
          <a href="../bin/op.html" title="op.sh : Opticks Launching Script"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Opticks 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>