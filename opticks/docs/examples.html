
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Quickstart Examples showing how to integrate Opticks acceleration with your simulation &#8212; Opticks 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Opticks 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Quickstart Examples showing how to integrate Opticks acceleration with your simulation</a><ul>
<li><a class="reference internal" href="#g4oktest-cc-basic-example">G4OKTest.cc : Basic Example</a></li>
<li><a class="reference internal" href="#cerenkovminimal-extended-example">CerenkovMinimal : Extended Example</a></li>
<li><a class="reference internal" href="#building-opticks-against-your-simulation-frameworks-externals-boost-geant4-xercesc-clhep">Building Opticks against your simulation frameworks externals : boost, geant4, xercesc, clhep</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/docs/examples.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="quickstart-examples-showing-how-to-integrate-opticks-acceleration-with-your-simulation">
<h1><a class="toc-backref" href="#id1">Quickstart Examples showing how to integrate Opticks acceleration with your simulation</a><a class="headerlink" href="#quickstart-examples-showing-how-to-integrate-opticks-acceleration-with-your-simulation" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#quickstart-examples-showing-how-to-integrate-opticks-acceleration-with-your-simulation" id="id1">Quickstart Examples showing how to integrate Opticks acceleration with your simulation</a><ul>
<li><a class="reference internal" href="#g4oktest-cc-basic-example" id="id2">G4OKTest.cc : Basic Example</a></li>
<li><a class="reference internal" href="#cerenkovminimal-extended-example" id="id3">CerenkovMinimal : Extended Example</a></li>
<li><a class="reference internal" href="#building-opticks-against-your-simulation-frameworks-externals-boost-geant4-xercesc-clhep" id="id4">Building Opticks against your simulation frameworks externals : boost, geant4, xercesc, clhep</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="g4oktest-cc-basic-example">
<h2><a class="toc-backref" href="#id2">G4OKTest.cc : Basic Example</a><a class="headerlink" href="#g4oktest-cc-basic-example" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://bitbucket.org/simoncblyth/opticks/src/master/g4ok/tests/G4OKTest.cc">https://bitbucket.org/simoncblyth/opticks/src/master/g4ok/tests/G4OKTest.cc</a></li>
</ul>
<p>This basic example uses “fake” gensteps.
The G4OKTest executable is built by the standard opticks build:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>epsilon:~ blyth$ which G4OKTest   ## not yet in path
epsilon:~ blyth$ oe               ## environment setup
epsilon:~ blyth$ which G4OKTest
/usr/local/opticks/lib/G4OKTest
epsilon:~ blyth$ t oe            ## use the typeset shortcut to introspect the bash function &quot;oe&quot;
oe ()
{
    oe- 2&gt; /dev/null
}
</pre></div>
</div>
<p>The G4OKTest executable will use the geometry identified by the OPTICKS_KEY envvar
or will create the geometry directly from GDML file identified by the “–gdmlpath”
argument.</p>
</div>
<div class="section" id="cerenkovminimal-extended-example">
<h2><a class="toc-backref" href="#id3">CerenkovMinimal : Extended Example</a><a class="headerlink" href="#cerenkovminimal-extended-example" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://bitbucket.org/simoncblyth/opticks/src/master/examples/Geant4/CerenkovMinimal/">https://bitbucket.org/simoncblyth/opticks/src/master/examples/Geant4/CerenkovMinimal/</a></li>
</ul>
<p>A larger example showing collection of real Geant4 gensteps.</p>
</div>
<div class="section" id="building-opticks-against-your-simulation-frameworks-externals-boost-geant4-xercesc-clhep">
<h2><a class="toc-backref" href="#id4">Building Opticks against your simulation frameworks externals : boost, geant4, xercesc, clhep</a><a class="headerlink" href="#building-opticks-against-your-simulation-frameworks-externals-boost-geant4-xercesc-clhep" title="Permalink to this headline">¶</a></h2>
<p>When integrating software packages having multiple versions of external packages linked together
must be avoided as that leads to incompatible interfaces that at best fail to compile and
and worst succeed to compile but cause difficult to find bugs.</p>
<p>For this reason the Opticks build uses the so called foreign external package
identified by the CMAKE_PREFIX_PATH envvar mechanism:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>epsilon:~ blyth$ opticks-foreign
boost
clhep
xercesc
g4
</pre></div>
</div>
<p>This allows Opticks to be build against the externals of your detector simulation
framework which can be installed into any directory. The envvars CMAKE_PREFIX_PATH, LD_LIBRARY_PATH, PATH,
PKG_CONFIG_PATH can be conveniently prepended using the <em>opticks-prepend-prefix</em> function or
can be manually setup by your detector simulation framework machinery.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## hookup paths to access &quot;foreign&quot; externals, not yet existing dirs just give warnings</span>
<span class="n">opticks</span><span class="o">-</span><span class="n">prepend</span><span class="o">-</span><span class="n">prefix</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">mysimframework_externals</span><span class="o">/</span><span class="n">clhep</span>
<span class="n">opticks</span><span class="o">-</span><span class="n">prepend</span><span class="o">-</span><span class="n">prefix</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">mysimframework_externals</span><span class="o">/</span><span class="n">xercesc</span>
<span class="n">opticks</span><span class="o">-</span><span class="n">prepend</span><span class="o">-</span><span class="n">prefix</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">mysimframework_externals</span><span class="o">/</span><span class="n">g4_1042</span>
<span class="n">opticks</span><span class="o">-</span><span class="n">prepend</span><span class="o">-</span><span class="n">prefix</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">mysimframework_externals</span><span class="o">/</span><span class="n">boost</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Opticks 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>