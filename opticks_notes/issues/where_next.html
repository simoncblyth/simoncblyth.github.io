<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Review Progress and Where Next ? &mdash; OpticksDevNotes 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpticksDevNotes 0.0.1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">OpticksDevNotes 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Review Progress and Where Next ?</a><ul>
<li><a class="reference internal" href="#recent-progress">Recent Progress</a></li>
<li><a class="reference internal" href="#todo-get-verbosity-under-control-in-gdml-gltf-route-especially-gparts">TODO: get verbosity under control in GDML/glTF route especially GParts</a></li>
<li><a class="reference internal" href="#todo-deep-csg-trees-are-still-being-skipped">TODO: deep csg trees are still being skipped</a></li>
<li><a class="reference internal" href="#todo-polycone-testing-general-coincident-surface-testing-how">TODO: polycone testing, general coincident surface testing(how?)</a></li>
<li><a class="reference internal" href="#todo-zero-repetition-scene-data-structure">TODO: zero-repetition scene data structure</a></li>
<li><a class="reference internal" href="#todo-analytic-path-caching">TODO: analytic path caching</a></li>
<li><a class="reference internal" href="#todo-thin-solid-polygonization">TODO: thin solid polygonization</a></li>
<li><a class="reference internal" href="#todo-push-csg-node-tree-support-thru-to-cfg4">TODO : Push CSG node tree support thru to cfg4</a></li>
<li><a class="reference internal" href="#nope-more-primitives">NOPE : More Primitives</a></li>
<li><a class="reference internal" href="#what-is-needed-to-add-primitives">What is needed to add primitives</a></li>
<li><a class="reference internal" href="#nope-add-npolygonization-of-partlist">NOPE: Add NPolygonization of partlist ?</a></li>
<li><a class="reference internal" href="#what-is-not-needed-for-each-primitive">What is NOT needed for each primitive ?</a></li>
<li><a class="reference internal" href="#done-tboolean-pmt-converts-ddbase-py-pmt-into-ncsg-node-tree">DONE: tboolean-pmt converts ddbase.py PMT into NCSG node tree</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/issues/where_next.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="review-progress-and-where-next">
<h1>Review Progress and Where Next ?<a class="headerlink" href="#review-progress-and-where-next" title="Permalink to this headline">¶</a></h1>
<div class="section" id="recent-progress">
<h2>Recent Progress<a class="headerlink" href="#recent-progress" title="Permalink to this headline">¶</a></h2>
<p>Opticks now supports:</p>
<ul class="simple">
<li>ray tracing of CSG node trees using GPU implementation of evaluative CSG
that applies directly to serialized node trees copied to GPU</li>
<li>CPU polygonization of CSG node trees using signed distance functions,
providing fast OpenGL rasterized visualization</li>
<li>Generalized transforms (Translate-Rotate-Scale) of
any node of the CSG tree, so shapes such as ellipsoids
can be derived by non-uniform scaling without
implementing separate primitives to support ellipsoids.</li>
<li>Small number of primitives: sphere, box, truncated sphere, cylinder, truncated cone, convex polyhedron</li>
<li>Interactive composited visualization of the ray traced images and rasterized
polygonization meshes together with photon propagations thru the geometry
for convenient geometry debugging.</li>
</ul>
</div>
<div class="section" id="todo-get-verbosity-under-control-in-gdml-gltf-route-especially-gparts">
<h2>TODO: get verbosity under control in GDML/glTF route especially GParts<a class="headerlink" href="#todo-get-verbosity-under-control-in-gdml-gltf-route-especially-gparts" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="todo-deep-csg-trees-are-still-being-skipped">
<h2>TODO: deep csg trees are still being skipped<a class="headerlink" href="#todo-deep-csg-trees-are-still-being-skipped" title="Permalink to this headline">¶</a></h2>
<p>Most of these are differences...</p>
<ul class="simple">
<li>complement was implemented to allow tree rearrangement, use that
to create +ve form tree (with signs all in the leaves as complements)
so then have a fully commutative CSG expression tree
that can easily be balanced</li>
</ul>
</div>
<div class="section" id="todo-polycone-testing-general-coincident-surface-testing-how">
<h2>TODO: polycone testing, general coincident surface testing(how?)<a class="headerlink" href="#todo-polycone-testing-general-coincident-surface-testing-how" title="Permalink to this headline">¶</a></h2>
<p>Polycone is implemented as &#8220;uniontree&#8221; ... suspect
may need some z-join-nudging to avoid incorrect internal
surfaces arising due to coincident surfaces.</p>
</div>
<div class="section" id="todo-zero-repetition-scene-data-structure">
<h2>TODO: zero-repetition scene data structure<a class="headerlink" href="#todo-zero-repetition-scene-data-structure" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="todo-analytic-path-caching">
<h2>TODO: analytic path caching<a class="headerlink" href="#todo-analytic-path-caching" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="todo-thin-solid-polygonization">
<h2>TODO: thin solid polygonization<a class="headerlink" href="#todo-thin-solid-polygonization" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>eg cathode</li>
</ul>
</div>
<div class="section" id="todo-push-csg-node-tree-support-thru-to-cfg4">
<h2>TODO : Push CSG node tree support thru to cfg4<a class="headerlink" href="#todo-push-csg-node-tree-support-thru-to-cfg4" title="Permalink to this headline">¶</a></h2>
<p>Add:</p>
<ul class="simple">
<li>creation of Geant4 geometries from the CSG node tree description.</li>
<li>comparisons of GPU and CPU propagations using CSG node tree geometries</li>
</ul>
</div>
<div class="section" id="nope-more-primitives">
<h2>NOPE : More Primitives<a class="headerlink" href="#nope-more-primitives" title="Permalink to this headline">¶</a></h2>
<p>Best to let the actual needs of detector geometries
to drive the implementation of primitives, otherwise
becomes a never ending task...</p>
</div>
<div class="section" id="what-is-needed-to-add-primitives">
<h2>What is needed to add primitives<a class="headerlink" href="#what-is-needed-to-add-primitives" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>sysrap/OpticksCSG_t type code and name</li>
<li>Within csg_intersect_part.h:<ul>
<li>CUDA/OptiX bounds calculation</li>
<li>CUDA/OptiX intersection calculation</li>
</ul>
</li>
<li>npy- nnode subclass for the primitive including
signed distance function for the primitive shape
(can use min, max) to do sneaky CSG inside the
primitive eg for finite cylinder</li>
</ul>
</div>
<div class="section" id="nope-add-npolygonization-of-partlist">
<h2>NOPE: Add NPolygonization of partlist ?<a class="headerlink" href="#nope-add-npolygonization-of-partlist" title="Permalink to this headline">¶</a></h2>
<p>World allow cleaning up the currently dirty GMaker/PmtInBox mode,
which makes the adhoc association of a loaded PMT mesh
with analytic part list.</p>
<p>YES BUT, partlist are very limited, only keep them around as
a possible optimization of csg tree, so this is too much of a cul-de-sac.</p>
</div>
<div class="section" id="what-is-not-needed-for-each-primitive">
<h2>What is NOT needed for each primitive ?<a class="headerlink" href="#what-is-not-needed-for-each-primitive" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Do not need a parametrized surface description to generate a mesh,
this is due to the use of generalized polygonization isosurface extraction
using signed distance functions which can be CSG combined with min/max.</li>
</ul>
</div>
<div class="section" id="done-tboolean-pmt-converts-ddbase-py-pmt-into-ncsg-node-tree">
<h2>DONE: tboolean-pmt converts ddbase.py PMT into NCSG node tree<a class="headerlink" href="#done-tboolean-pmt-converts-ddbase-py-pmt-into-ncsg-node-tree" title="Permalink to this headline">¶</a></h2>
<p>See pmt-ecd</p>
<p>Currently:</p>
<blockquote>
<div>pmt- parses detdesc PMT description (using python/lxml)
into a python node tree and creates the CSG_FLAGPARTLIST
serialization (the z-partitioned solids)
tpmt- uses in the PmtInBox mode</div></blockquote>
<p>Instead:</p>
<blockquote>
<div>Skip the non-generalizable partitioning by adding support
for converting the python node tree into CSG_FLAGNODETREE
serialization.</div></blockquote>
<p>This should allow rapid testing of a CSG node tree
description of the PMT geometry.</p>
<p>Also will gaining some experience in a familiar geometry and
code regime prior to tackling full task of parsing
general GDML into</p>
<p>Hmm : this is a bit of a cul-de-sac, as are not intending
to support detdesc in general, however as have an existing
node tree parsed from detdesc DYB PMT : it should be
rather rapid to convert that into OpticksCSG tree
serialization.</p>
<ul class="simple">
<li>this will allow to rapidly demonstrate OpticksCSG node
tree prior to tackling the larger job of converting GDML
into an &#8220;OpticksSceneGraph&#8221;</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">OpticksDevNotes 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>