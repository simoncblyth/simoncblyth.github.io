<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>lvidx103 &mdash; OpticksDevNotes 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpticksDevNotes 0.0.1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">OpticksDevNotes 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">lvidx103</a><ul>
<li><a class="reference internal" href="#issue-parsurf-bbox-bigger-in-z-g4poly-bb-misses-both-zsphere-ends-of-capsule">Issue : parsurf bbox bigger in z, g4poly bb misses both zsphere ends of capsule</a></li>
<li><a class="reference internal" href="#viz">viz</a></li>
<li><a class="reference internal" href="#opticks-opticks-tbool-vi-103">opticks-;opticks-tbool-vi 103</a></li>
<li><a class="reference internal" href="#gdml">GDML</a></li>
<li><a class="reference internal" href="#g4dae">G4DAE</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/issues/lvidx103.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="lvidx103">
<h1>lvidx103<a class="headerlink" href="#lvidx103" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>TODO: make zsphere endcaps ON the default with flags to switch them off</li>
<li>TODO: investigate no-shows in gltf viz</li>
</ul>
<div class="section" id="issue-parsurf-bbox-bigger-in-z-g4poly-bb-misses-both-zsphere-ends-of-capsule">
<h2>Issue : parsurf bbox bigger in z, g4poly bb misses both zsphere ends of capsule<a class="headerlink" href="#issue-parsurf-bbox-bigger-in-z-g4poly-bb-misses-both-zsphere-ends-of-capsule" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>10    10.035                   weight-shell0xc307920 lvidx 103 nsp    567                            union zsphere cylinder   nds[ 36]  4543 4547 4558 4562 4591 4595 4631 4635 4646 4650 ...
      10.035                   weight-shell0xc307920 lvidx 103 nsp    567

 amn (    -10.035   -10.035   -28.510)
 bmn (    -10.035   -10.035   -18.475)
 dmn (      0.000     0.000   -10.035)

 amx (     10.035    10.035    28.510)
 bmx (     10.035    10.035    18.475)
 dmx (      0.000     0.000    10.035)</pre>
</div>
</div>
<div class="section" id="viz">
<h2>viz<a class="headerlink" href="#viz" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>op --dlv103
    appears as cylinder without the spherical ends

op --dlv103 --gltf 3
op --dlv103 --gltf 1
    huh no show ???</pre>
</div>
</div>
<div class="section" id="opticks-opticks-tbool-vi-103">
<h2>opticks-;opticks-tbool-vi 103<a class="headerlink" href="#opticks-opticks-tbool-vi-103" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>~/opticks_refs/lvidx103_tbool_zscy_union_coincidence_wierdness.png</li>
</ul>
<p>Ahha ... my generated python is not setting the zsphere endcap flags,</p>
<div class="highlight-python"><pre>78 # generated by tboolean.py : 20170706-1446
79 # opticks-;opticks-tbool 103
80 # opticks-;opticks-tbool-vi 103
81
82
83 a = CSG("cylinder", param = [0.000,0.000,0.000,10.035],param1 = [-18.475,18.475,0.000,0.000])
84 b = CSG("zsphere", param = [0.000,0.000,0.000,10.035],param1 = [0.000,10.035,0.000,0.000])
85 b.transform = [[1.000,0.000,0.000,0.000],[0.000,1.000,0.000,0.000],[0.000,0.000,1.000,0.000],[0.000,0.000,18.475,1.000]]
86 ab = CSG("union", left=a, right=b)

##         a.z                                   -18.475,18.475
##         b.z   0+18.475, 10.035+18.475 -&gt;              18.475, 28.51
##                                                       ^^^^^^^
##                                                 union coincidence z=18.475
##

87
88 c = CSG("zsphere", param = [0.000,0.000,0.000,10.035],param1 = [0.000,10.035,0.000,0.000])
89 c.transform = [[1.000,0.000,0.000,0.000],[0.000,-1.000,-0.000,0.000],[0.000,0.000,-1.000,0.000],[0.000,0.000,-18.475,1.000]]
##
##    hmm transform is flipping y and z signs ?
##               &lt;rotation name="weight-shell0xc307920_rot" unit="deg" x="180" y="0" z="0"/&gt;
##

90 abc = CSG("union", left=ab, right=c)
##
##         c.z    0 -   &gt; 10.035
##              -10.035 -&gt; 0      + ( -18.475 )
##
##                   -28.51 --&gt; -18.475           union coincidence z=-18.475
##
91
92
93
94 obj = abc
95
96 con = CSG("sphere",  param=[0,0,0,10], container="1", containerscale="2", boundary=args.container , poly="IM", resolution="20" )
97 CSG.Serialize([con, obj], args.csgpath )</pre>
</div>
</div>
<div class="section" id="gdml">
<h2>GDML<a class="headerlink" href="#gdml" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>36.95/2.
Out[14]: 18.475

1249     &lt;tube aunit="deg" deltaphi="360" lunit="mm" name="WeightMidCylinder0xc307d80" rmax="10.035" rmin="0" startphi="0" z="36.95"/&gt;
1250     &lt;sphere aunit="deg" deltaphi="360" deltatheta="90" lunit="mm" name="WeightTop0xc307e28" rmax="10.035" rmin="0" startphi="0" starttheta="0"/&gt;

1251     &lt;union name="WeightMidCylinder+ChildForweight-shell0xc17e030"&gt;
1252       &lt;first ref="WeightMidCylinder0xc307d80"/&gt;
1253       &lt;second ref="WeightTop0xc307e28"/&gt;
1254       &lt;position name="WeightMidCylinder+ChildForweight-shell0xc17e030_pos" unit="mm" x="0" y="0" z="18.475"/&gt;
1255     &lt;/union&gt;
1256     &lt;sphere aunit="deg" deltaphi="360" deltatheta="90" lunit="mm" name="WeightBot0xc307f00" rmax="10.035" rmin="0" startphi="0" starttheta="0"/&gt;

1257     &lt;union name="weight-shell0xc307920"&gt;
1258       &lt;first ref="WeightMidCylinder+ChildForweight-shell0xc17e030"/&gt;
1259       &lt;second ref="WeightBot0xc307f00"/&gt;
1260       &lt;position name="weight-shell0xc307920_pos" unit="mm" x="0" y="0" z="-18.475"/&gt;
1261       &lt;rotation name="weight-shell0xc307920_rot" unit="deg" x="180" y="0" z="0"/&gt;
1262     &lt;/union&gt;</pre>
</div>
</div>
<div class="section" id="g4dae">
<h2>G4DAE<a class="headerlink" href="#g4dae" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>32744       &lt;mesh&gt;
32745         &lt;source id=&#8221;weight-shell0xc307920-Pos&#8221;&gt;
32746           &lt;float_array count=&#8221;150&#8221; id=&#8221;weight-shell0xc307920-Pos-array&#8221;&gt;
32747                 10.035 0 18.475
32748                 9.69307 2.59725 18.475
32749                 8.69056 5.0175 18.475
32750                 7.09582 7.09582 18.475
32751                 5.0175 8.69056 18.475
32752                 2.59725 9.69307 18.475
32753                 6.14446e-16 10.035 18.475
32754                 -2.59725 9.69307 18.475
32755                 -5.0175 8.69056 18.475
32756                 -7.09582 7.09582 18.475
32757                 -8.69056 5.0175 18.475
32758                 -9.69307 2.59725 18.475
32759                 -10.035 1.22889e-15 18.475
32760                 -9.69307 -2.59725 18.475
32761                 -8.69056 -5.0175 18.475
32762                 -7.09582 -7.09582 18.475
32763                 -5.0175 -8.69056 18.475
32764                 -2.59725 -9.69307 18.475
32765                 -1.84334e-15 -10.035 18.475
32766                 2.59725 -9.69307 18.475
32767                 5.0175 -8.69056 18.475
32768                 7.09582 -7.09582 18.475
32769                 8.69056 -5.0175 18.475
32770                 9.69307 -2.59725 18.475
32771                 10.035 0 -18.475
32772                 9.69307 2.59725 -18.475
32773                 8.69056 5.0175 -18.475
32774                 7.09582 7.09582 -18.475
32775                 5.0175 8.69056 -18.475
32776                 2.59725 9.69307 -18.475
32777                 6.14446e-16 10.035 -18.475
32778                 -2.59725 9.69307 -18.475
32779                 -5.0175 8.69056 -18.475
32780                 -7.09582 7.09582 -18.475
32781                 -8.69056 5.0175 -18.475
32782                 -9.69307 2.59725 -18.475
32783                 -10.035 1.22889e-15 -18.475
32784                 -9.69307 -2.59725 -18.475
32785                 -8.69056 -5.0175 -18.475
32786                 -7.09582 -7.09582 -18.475
32787                 -5.0175 -8.69056 -18.475
32788                 -2.59725 -9.69307 -18.475
32789                 -1.84334e-15 -10.035 -18.475
32790                 2.59725 -9.69307 -18.475
32791                 5.0175 -8.69056 -18.475
32792                 7.09582 -7.09582 -18.475
32793                 8.69056 -5.0175 -18.475
32794                 9.69307 -2.59725 -18.475
32795                 0 0 18.475
32796                 0 0 -18.475
32797 &lt;/float_array&gt;</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">OpticksDevNotes 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>