<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tips_for_csg_intersect_debugging &mdash; OpticksDevNotes 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpticksDevNotes 0.0.1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">OpticksDevNotes 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">tips_for_csg_intersect_debugging</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#problem-isolation-steps">Problem Isolation steps</a></li>
<li><a class="reference internal" href="#from-smoking-gun-to-fix">From smoking gun to fix</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/issues/tips_for_csg_intersect_debugging.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tips-for-csg-intersect-debugging">
<h1>tips_for_csg_intersect_debugging<a class="headerlink" href="#tips-for-csg-intersect-debugging" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>A primitive raytrace that looks correct does not mean
that the primitive will successfully work as a node/solid
in a CSG tree.</p>
<p>There are additional requirements:</p>
<ul class="simple">
<li>tmin cutting into the solid MUST yield the otherside intersect</li>
</ul>
<p>Note that some primitives have special case handling of
axial rays, this means that simple tmin near scanning
for the solid will typically not show problems unless take
action to get a precisely axial viewpoint.</p>
<p>Axial special cases provides a place for bugs to hide, see
<a class="reference internal" href="tlens-concave-ignored-due-to-cylinder-axial-photon-intersect-failure.html"><em>tlens-concave-ignored-due-to-cylinder-axial-photon-intersect-failure</em></a></p>
</div>
<div class="section" id="problem-isolation-steps">
<h2>Problem Isolation steps<a class="headerlink" href="#problem-isolation-steps" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>change type of primitive</li>
<li>try axial rays ONLY, otherwise off-axial intersects can hide issue</li>
<li>try off-axial rays</li>
</ul>
</div>
<div class="section" id="from-smoking-gun-to-fix">
<h2>From smoking gun to fix<a class="headerlink" href="#from-smoking-gun-to-fix" title="Permalink to this headline">¶</a></h2>
<p>Configure torch with a small number of photons (~10) that
all exhibit the issue, then add debugging within oxrap-/cu/</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">OpticksDevNotes 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>