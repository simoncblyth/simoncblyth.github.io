<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tpmt broken by OpticksCSG enum move &mdash; OpticksDevNotes 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpticksDevNotes 0.0.1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">OpticksDevNotes 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">tpmt broken by OpticksCSG enum move</a><ul>
<li><a class="reference internal" href="#overview">overview</a></li>
<li><a class="reference internal" href="#revisit-tpmt">revisit tpmt&#8211;</a></li>
<li><a class="reference internal" href="#root-cause-of-difficulty">root cause of difficulty</a></li>
<li><a class="reference internal" href="#symptom3-surface-attachement-failure">symptom3 : surface attachement failure</a></li>
<li><a class="reference internal" href="#symptom-2-cpu-g4-cfg4-ctestdetector-misunderstanding-primordial-csg-buffer">symptom 2 : CPU/G4 cfg4/CTestDetector misunderstanding primordial CSG buffer ?</a><ul>
<li><a class="reference internal" href="#looks-like-okg4-not-updated-since-primordial-gcsg">looks like okg4 not updated since primordial GCSG</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fixed-symptom-1-gpu-side-mis-interpreting-parts-buffer-after-enum-change">FIXED : symptom 1, GPU side mis-interpreting parts buffer after enum change</a></li>
<li><a class="reference internal" href="#review-of-analytic-pmt-serialization">review of analytic PMT serialization</a><ul>
<li><a class="reference internal" href="#comparing-existing-serializations">Comparing existing serializations</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/issues/tpmt_broken_by_OpticksCSG_enum_move.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tpmt-broken-by-optickscsg-enum-move">
<h1>tpmt broken by OpticksCSG enum move<a class="headerlink" href="#tpmt-broken-by-optickscsg-enum-move" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>shape/operator enum unification to use sysrap/OpticksCSG.{h,py} is incomplete</li>
<li>tpmt broken due to mis-interpretation of part buffer</li>
</ul>
<div class="section" id="overview">
<h2>overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>DONE: old PMT serialization needs to be rebuilt with new unified enum</li>
<li>rebuilt analytic PMT and stored into opticksdata with non-default apmtidx slot 1 (not committed)</li>
</ul>
</div>
<div class="section" id="revisit-tpmt">
<h2>revisit tpmt&#8211;<a class="headerlink" href="#revisit-tpmt" title="Permalink to this headline">¶</a></h2>
<p>The &#8211;apmtidx 1 option results in loading:</p>
<div class="highlight-python"><pre>2017-04-10 15:02:46.231 FATAL [50057] [GGeo::loadAnalyticPmt@733] GGeo::loadAnalyticPmt AnalyticPMTIndex 1 AnalyticPMTSlice ALL Path /usr/local/opticks/opticksdata/export/DayaBay/GPmt/1</pre>
</div>
<div class="highlight-python"><pre>155 tpmt--(){
...
176
177     local apmtidx=1
178     # non-default AnalyticPMTIndex currently required for updated enums
...
181    op.sh \
182        --anakey $anakey \
183        --save \
184        --test --testconfig "$(tpmt-testconfig)" \
185        --torch --torchconfig "$(tpmt-torchconfig)" \
186        --cat $(tpmt-det) \
187        --tag $tag \
188        --timemax 10 \
189        --animtimemax 10 \
190        --eye 0.0,-0.5,0.0 \
191        --geocenter \
192        --apmtidx $apmtidx \
193        $*
194
195 }</pre>
</div>
</div>
<div class="section" id="root-cause-of-difficulty">
<h2>root cause of difficulty<a class="headerlink" href="#root-cause-of-difficulty" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>kludgy association of an old triangulated PMT with the analytic CSG one,
actually it looks like there is one extra node in the triangulated ?</li>
<li>best solution would be to find a way to triangulate the CSG, so there
would then be no solid/node matching problem</li>
<li>developing CSG to triangulation will take a while, so meanwhile just
construct meshes using CSG bboxen ?  See ggeo/test/GPmtTest.cc for start of this</li>
</ul>
</div>
<div class="section" id="symptom3-surface-attachement-failure">
<h2>symptom3 : surface attachement failure<a class="headerlink" href="#symptom3-surface-attachement-failure" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>see <a class="reference internal" href="geant4_opticks_integration/surlib_with_test_geometry.html"><em>SurLib with Test Geometry</em></a></li>
</ul>
<div class="highlight-python"><pre>2017-03-16 17:49:08.898 INFO  [980504] [CTraverser::Traverse@128] CTraverser::Traverse DONE
2017-03-16 17:49:08.898 INFO  [980504] [CTraverser::Summary@104] CDetector::traverse numMaterials 5 numMaterialsWithoutMPT 0
2017-03-16 17:49:08.898 INFO  [980504] [CDetector::attachSurfaces@240] CDetector::attachSurfaces
2017-03-16 17:49:08.898 INFO  [980504] [GSurLib::examineSolidBndSurfaces@115] GSurLib::examineSolidBndSurfaces numSolids 7
Assertion failed: (node == i), function examineSolidBndSurfaces, file /Users/blyth/opticks/ggeo/GSurLib.cc, line 124.
Process 79145 stopped
* thread #1: tid = 0xef618, 0x00007fff96f1a866 libsystem_kernel.dylib`__pthread_kill + 10, queue = 'com.apple.main-thread', stop reason = signal SIGABRT
    frame #0: 0x00007fff96f1a866 libsystem_kernel.dylib`__pthread_kill + 10
libsystem_kernel.dylib`__pthread_kill + 10:
-&gt; 0x7fff96f1a866:  jae    0x7fff96f1a870            ; __pthread_kill + 20
   0x7fff96f1a868:  movq   %rax, %rdi
   0x7fff96f1a86b:  jmp    0x7fff96f17175            ; cerror_nocancel
   0x7fff96f1a870:  retq
(lldb) bt
* thread #1: tid = 0xef618, 0x00007fff96f1a866 libsystem_kernel.dylib`__pthread_kill + 10, queue = 'com.apple.main-thread', stop reason = signal SIGABRT
  * frame #0: 0x00007fff96f1a866 libsystem_kernel.dylib`__pthread_kill + 10
    frame #1: 0x00007fff8e5b735c libsystem_pthread.dylib`pthread_kill + 92
    frame #2: 0x00007fff95307b1a libsystem_c.dylib`abort + 125
    frame #3: 0x00007fff952d19bf libsystem_c.dylib`__assert_rtn + 321
    frame #4: 0x0000000101ce0ac9 libGGeo.dylib`GSurLib::examineSolidBndSurfaces(this=0x000000010e21e4a0) + 521 at GSurLib.cc:124
    frame #5: 0x0000000101ce08ad libGGeo.dylib`GSurLib::close(this=0x000000010e21e4a0) + 29 at GSurLib.cc:93
    frame #6: 0x0000000103ee0497 libcfg4.dylib`CDetector::attachSurfaces(this=0x000000010e21e1c0) + 247 at CDetector.cc:244
    frame #7: 0x0000000103e5ad26 libcfg4.dylib`CGeometry::init(this=0x000000010e21dc30) + 1446 at CGeometry.cc:73
    frame #8: 0x0000000103e5a770 libcfg4.dylib`CGeometry::CGeometry(this=0x000000010e21dc30, hub=0x000000010980c7a0) + 112 at CGeometry.cc:39
    frame #9: 0x0000000103e5ad8d libcfg4.dylib`CGeometry::CGeometry(this=0x000000010e21dc30, hub=0x000000010980c7a0) + 29 at CGeometry.cc:40
    frame #10: 0x0000000103f01286 libcfg4.dylib`CG4::CG4(this=0x000000010cadeab0, hub=0x000000010980c7a0) + 214 at CG4.cc:122
    frame #11: 0x0000000103f017bd libcfg4.dylib`CG4::CG4(this=0x000000010cadeab0, hub=0x000000010980c7a0) + 29 at CG4.cc:144
    frame #12: 0x0000000103ff1da3 libokg4.dylib`OKG4Mgr::OKG4Mgr(this=0x00007fff5fbfe6b0, argc=23, argv=0x00007fff5fbfe790) + 547 at OKG4Mgr.cc:35
    frame #13: 0x0000000103ff1ff3 libokg4.dylib`OKG4Mgr::OKG4Mgr(this=0x00007fff5fbfe6b0, argc=23, argv=0x00007fff5fbfe790) + 35 at OKG4Mgr.cc:41
    frame #14: 0x00000001000139be OKG4Test`main(argc=23, argv=0x00007fff5fbfe790) + 1486 at OKG4Test.cc:56
    frame #15: 0x00007fff9238d5fd libdyld.dylib`start + 1
(lldb)</pre>
</div>
<div class="highlight-python"><pre>(lldb) f 7
frame #7: 0x0000000103e5ad26 libcfg4.dylib`CGeometry::init(this=0x000000010e21dc30) + 1446 at CGeometry.cc:73
   70           detector  = static_cast&lt;CDetector*&gt;(new CGDMLDetector(m_hub, query)) ;
   71       }
   72
-&gt; 73       detector-&gt;attachSurfaces();
   74       //m_csurlib-&gt;convert(detector);
   75
   76       m_detector = detector ;
(lldb)</pre>
</div>
</div>
<div class="section" id="symptom-2-cpu-g4-cfg4-ctestdetector-misunderstanding-primordial-csg-buffer">
<h2>symptom 2 : CPU/G4 cfg4/CTestDetector misunderstanding primordial CSG buffer ?<a class="headerlink" href="#symptom-2-cpu-g4-cfg4-ctestdetector-misunderstanding-primordial-csg-buffer" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>actually the PmtInBox code appears to be unaware of GCSG</li>
</ul>
<div class="highlight-python"><pre>tpmt-- --okg4

2017-03-16 13:51:10.046 INFO  [889146] [OpticksGen::targetGenstep@125] OpticksGen::targetGenstep setting frame 1 1.0000,0.0000,0.0000,0.0000 0.0000,1.0000,0.0000,0.0000 0.0000,0.0000,1.0000,0.0000 0.0000,0.0000,0.0000,1.0000
2017-03-16 13:51:10.047 FATAL [889146] [GenstepNPY::setPolarization@212] GenstepNPY::setPolarization pol 0.0000,0.0000,0.0000,0.0000 npol nan,nan,nan,nan m_polw nan,nan,nan,380.0000
2017-03-16 13:51:10.047 INFO  [889146] [SLog::operator@15] OpticksHub::OpticksHub DONE

*************************************************************
 Geant4 version Name: geant4-10-02-patch-01    (26-February-2016)
                      Copyright : Geant4 Collaboration
                      Reference : NIM A 506 (2003), 250-303
                            WWW : http://cern.ch/geant4
*************************************************************

2017-03-16 13:51:10.122 FATAL [889146] [CGeometry::init@59] CGeometry::init G4 simple test geometry
2017-03-16 13:51:10.122 INFO  [889146] [GGeo::createSurLib@656] deferred creation of GSurLib
2017-03-16 13:51:10.122 INFO  [889146] [GSurLib::collectSur@79]  nsur 48
2017-03-16 13:51:10.122 INFO  [889146] [CPropLib::init@68] CPropLib::init
2017-03-16 13:51:10.122 INFO  [889146] [CPropLib::initCheckConstants@120] CPropLib::initCheckConstants mm 1 MeV 1 nanosecond 1 ns 1 nm 1e-06 GC::nanometer 1e-06 h_Planck 4.13567e-12 GC::h_Planck 4.13567e-12 c_light 299.792 GC::c_light 299.792 dscale 0.00123984
2017-03-16 13:51:10.122 INFO  [889146] [*CTestDetector::makeDetector@118] CTestDetector::makeDetector PmtInBox 1 BoxInBox 0 numSolids (from mesh0) 7 numSolids (from config) 1
Assertion failed: (numSolids == numSolidsConfig), function makeDetector, file /Users/blyth/opticks/cfg4/CTestDetector.cc, line 127.
/Users/blyth/opticks/bin/op.sh: line 580: 41465 Abort trap: 6           /usr/local/opticks/lib/OKG4Test --anakey tpmt --save --test --testconfig mode=PmtInBox_pmtpath=/usr/local/opticks/opticksdata/export/dpib/GMergedMesh/0_control=1,0,0,0_analytic=1_apmtidx=1_node=box_parameters=0,0,0,300_boundary=Rock/NONE/perfectAbsorbSurface/MineralOil --torch --torchconfig type=disc_photons=500000_wavelength=380_frame=1_source=0,0,300_target=0,0,0_radius=100_zenithazimuth=0,1,0,1_material=Vacuum_mode=_polarization= --cat PmtInBox --tag 10 --timemax 10 --animtimemax 10 --eye 0.0,-0.5,0.0 --geocenter --okg4
/Users/blyth/opticks/bin/op.sh RC 134
simon:opticks blyth$


2017-03-16 14:17:21.209 INFO  [901864] [CPropLib::initCheckConstants@120] CPropLib::initCheckConstants mm 1 MeV 1 nanosecond 1 ns 1 nm 1e-06 GC::nanometer 1e-06 h_Planck 4.13567e-12 GC::h_Planck 4.13567e-12 c_light 299.792 GC::c_light 299.792 dscale 0.00123984
2017-03-16 14:17:21.209 INFO  [901864] [*CTestDetector::makeDetector@118] CTestDetector::makeDetector PmtInBox 1 BoxInBox 0 numSolidsMesh 7 numSolidsConfig 1
2017-03-16 14:17:21.209 INFO  [901864] [GMergedMesh::dumpSolids@617] CTestDetector::makeDetector (solid count inconsistent)
    0 ce             gfloat4      0.000      0.000      0.000    300.000  bb bb min   -300.000   -300.000   -300.000  max    300.000    300.000    300.000  ni(         0,         0,         0,4294967295) id(         0,         5,         0,         0)
    1 ce             gfloat4      0.000      0.000    -18.997    149.997  bb bb min   -100.288   -100.288   -168.995  max    100.288    100.288    131.000  ni(       720,       362,         1,         0) id(         1,         4,         1,         0)
    2 ce             gfloat4      0.000      0.000    -18.247    146.247  bb bb min    -97.288    -97.288   -164.495  max     97.288     97.288    128.000  ni(       720,       362,         2,         1) id(         2,         3,         2,         0)
    3 ce             gfloat4      0.005      0.004     91.998     98.143  bb bb min    -98.138    -98.139     55.996  max     98.148     98.147    128.000  ni(       960,       482,         3,         2) id(         3,         0,         3,         0)
    4 ce             gfloat4      0.000      0.000     13.066     98.143  bb bb min    -98.143    -98.143    -30.000  max     98.143     98.143     56.131  ni(       576,       288,         4,         2) id(         4,         1,         4,         0)
    5 ce             gfloat4      0.000      0.000    -81.500     83.000  bb bb min    -27.500    -27.500   -164.500  max     27.500     27.500      1.500  ni(        96,        50,         5,         2) id(         5,         2,         4,         0)
    6 ce             gfloat4      0.000      0.000      0.000    300.000  bb bb min   -300.000   -300.000   -300.000  max    300.000    300.000    300.000  ni(        12,        24,         0,4294967295) id(         0,      1000,         0,         0)
Assertion failed: (numSolidsMesh == numSolidsConfig), function makeDetector, file /Users/blyth/opticks/cfg4/CTestDetector.cc, line 133.</pre>
</div>
<div class="section" id="looks-like-okg4-not-updated-since-primordial-gcsg">
<h3>looks like okg4 not updated since primordial GCSG<a class="headerlink" href="#looks-like-okg4-not-updated-since-primordial-gcsg" title="Permalink to this headline">¶</a></h3>
<p>Approach</p>
<ul class="simple">
<li>make connection between the analytic GCSG volumes that CTestDetector::makePMT
is going to use and the triangulated GMergedMesh solid count,
then can update the assert</li>
<li>avoid duplicity regards the analytic PMT and honour the apmtidx version, by
eliminating CPropLib::getPmtCSG</li>
</ul>
<div class="highlight-python"><pre>simon:opticks blyth$ opticks-find getPmtCSG
./cfg4/CPropLib.cc:GCSG* CPropLib::getPmtCSG(NSlice* slice)
./cfg4/CPropLib.cc:        LOG(error) &lt;&lt; "CPropLib::getPmtCSG failed to load PMT" ;
./cfg4/CPropLib.cc:        LOG(error) &lt;&lt; "CPropLib::getPmtCSG failed to getCSG from GPmt" ;
./cfg4/CTestDetector.cc:    GCSG* csg = m_mlib-&gt;getPmtCSG(slice);
./cfg4/CPropLib.hh:       GCSG*       getPmtCSG(NSlice* slice);


162 GCSG* CPropLib::getPmtCSG(NSlice* slice)
163 {
164    // hmm this is probably already loaded ???
165
166     GPmt* pmt = GPmt::load( m_ok, m_bndlib, 0, slice );    // pmtIndex:0
167
168     if(pmt == NULL)
169     {
170         LOG(error) &lt;&lt; "CPropLib::getPmtCSG failed to load PMT" ;
171         return NULL ;
172     }
173
174     GCSG* csg = pmt-&gt;getCSG();
175
176     if(csg == NULL)
177     {
178         LOG(error) &lt;&lt; "CPropLib::getPmtCSG failed to getCSG from GPmt" ;
179         return NULL ;
180     }
181     return csg ;
182 }</pre>
</div>
</div>
</div>
<div class="section" id="fixed-symptom-1-gpu-side-mis-interpreting-parts-buffer-after-enum-change">
<h2>FIXED : symptom 1, GPU side mis-interpreting parts buffer after enum change<a class="headerlink" href="#fixed-symptom-1-gpu-side-mis-interpreting-parts-buffer-after-enum-change" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>tpmt--

2017-03-15 20:48:44.712 INFO  [829428] [OContext::close@219] OContext::close numEntryPoint 2
##hemi-pmt.cu:bounds primIdx 0 is_partlist:0 min  -101.1682  -101.1682   -23.8382 max   101.1682   101.1682    56.0000
##hemi-pmt.cu:bounds primIdx 1 is_partlist:0 min   -98.1428   -98.1428    56.0000 max    98.1428    98.1428    98.0465
##hemi-pmt.cu:bounds primIdx 2 is_partlist:0 min   -98.0932   -98.0932    55.9934 max    98.0932    98.0932    98.0128
##hemi-pmt.cu:bounds primIdx 3 is_partlist:0 min   -27.5000   -27.5000  -164.5000 max    27.5000    27.5000     1.5000
##hemi-pmt.cu:bounds primIdx 4 is_partlist:0 min  -300.0100  -300.0100  -300.0100 max   300.0100   300.0100   300.0100
2017-03-15 20:48:45.342 INFO  [829428] [OPropagator::prelaunch@149] 1 : (0;500000,1) prelaunch_times vali,comp,prel,lnch  0.0000 0.2694 0.2364 0.0000
evaluative_csg primIdx_ 1 numParts 4 perfect tree fullHeight 4294967295 exceeds current limit
evaluative_csg primIdx_ 1 numParts 4 perfect tree fullHeight 4294967295 exceeds current limit
evaluative_csg primIdx_ 1 numParts 4 perfect tree fullHeight 4294967295 exceeds current limit
evaluative_csg primIdx_ 1 numParts 4 perfect tree fullHeight 4294967295 exceeds current limit</pre>
</div>
</div>
<div class="section" id="review-of-analytic-pmt-serialization">
<h2>review of analytic PMT serialization<a class="headerlink" href="#review-of-analytic-pmt-serialization" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>ana/pmt/analytic.py</li>
</ul>
<p>Recreate the analytic PMT from detdecs parse with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pmt</span><span class="o">-</span><span class="n">analytic</span><span class="o">-</span><span class="n">tmp</span>   <span class="c"># writing to $TMP/GPmt/0/GPmt.npy</span>
<span class="n">pmt</span><span class="o">-</span><span class="n">analytic</span>       <span class="c"># writing to $IDPATH/GPmt/0/GPmt.npy</span>
</pre></div>
</div>
<p>Actual one in use is from opticksdata repo $OPTICKS_DATA/export/DayaBay/GPmt/0/</p>
<div class="section" id="comparing-existing-serializations">
<h3>Comparing existing serializations<a class="headerlink" href="#comparing-existing-serializations" title="Permalink to this headline">¶</a></h3>
<p>All three look effectively the same, with no influence from new enum so far:</p>
<div class="highlight-python"><pre>simon:pmt blyth$ l /usr/local/opticks/opticksdata/export/DayaBay_VGDX_20140414-1300/g4_00.96ff965744a2f6b78c24e33c80d3a4cd.dae/GPmt/0/
total 48
-rw-r--r--  1 blyth  staff   848 Mar 15 16:27 GPmt.npy
-rw-r--r--  1 blyth  staff   289 Mar 15 16:27 GPmt_boundaries.txt
-rw-r--r--  1 blyth  staff  1168 Mar 15 16:27 GPmt_csg.npy
-rw-r--r--  1 blyth  staff    74 Mar 15 16:27 GPmt_lvnames.txt
-rw-r--r--  1 blyth  staff    47 Mar 15 16:27 GPmt_materials.txt
-rw-r--r--  1 blyth  staff    74 Mar 15 16:27 GPmt_pvnames.txt
simon:pmt blyth$
simon:pmt blyth$
simon:pmt blyth$ l $TMP/GPmt/0/
total 48
-rw-r--r--  1 blyth  wheel   848 Mar 15 17:31 GPmt.npy
-rw-r--r--  1 blyth  wheel   289 Mar 15 17:31 GPmt_boundaries.txt
-rw-r--r--  1 blyth  wheel  1168 Mar 15 17:31 GPmt_csg.npy
-rw-r--r--  1 blyth  wheel    74 Mar 15 17:31 GPmt_lvnames.txt
-rw-r--r--  1 blyth  wheel    47 Mar 15 17:31 GPmt_materials.txt
-rw-r--r--  1 blyth  wheel    74 Mar 15 17:31 GPmt_pvnames.txt
simon:pmt blyth$ diff -r --brief $IDPATH/GPmt/0 $TMP/GPmt/0
simon:pmt blyth$
simon:pmt blyth$
simon:pmt blyth$ l /usr/local/opticks/opticksdata/export/DayaBay/GPmt/0/
total 80
-rw-r--r--  1 blyth  staff   848 Jul  5  2016 GPmt.npy
-rw-r--r--  1 blyth  staff   289 Jul  5  2016 GPmt.txt
-rw-r--r--  1 blyth  staff   289 Jul  5  2016 GPmt_boundaries.txt
-rw-r--r--  1 blyth  staff   848 Jul  5  2016 GPmt_check.npy
-rw-r--r--  1 blyth  staff   289 Jul  5  2016 GPmt_check.txt
-rw-r--r--  1 blyth  staff  1168 Jul  5  2016 GPmt_csg.npy
-rw-r--r--  1 blyth  staff    47 Jul  5  2016 GPmt_csg.txt
-rw-r--r--  1 blyth  staff    74 Jul  5  2016 GPmt_lvnames.txt
-rw-r--r--  1 blyth  staff    47 Jul  5  2016 GPmt_materials.txt
-rw-r--r--  1 blyth  staff    74 Jul  5  2016 GPmt_pvnames.txt

simon:pmt blyth$ echo $OPTICKS_DATA
/usr/local/opticks/opticksdata
simon:pmt blyth$
simon:pmt blyth$ diff -r --brief $OPTICKS_DATA/export/DayaBay/GPmt/0/ $TMP/GPmt/0/
Only in /usr/local/opticks/opticksdata/export/DayaBay/GPmt/0/: GPmt.txt
Only in /usr/local/opticks/opticksdata/export/DayaBay/GPmt/0/: GPmt_check.npy
Only in /usr/local/opticks/opticksdata/export/DayaBay/GPmt/0/: GPmt_check.txt
Only in /usr/local/opticks/opticksdata/export/DayaBay/GPmt/0/: GPmt_csg.txt</pre>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">OpticksDevNotes 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>