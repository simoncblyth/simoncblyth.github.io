<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.14: http://docutils.sourceforge.net/" />
<meta name="version" content="S5 1.1" />
<title>LZ-Opticks-NVIDIA OptiX 6-&gt;7 : Notes</title>
<meta content="Navigate the HTML slides by entering a page number and pressing return" name="note" />
<meta content="LZ NVIDIA NERSC Discussion" name="title" />
<meta content="(May 2021)" name="description" />
<meta content="https://simoncblyth.bitbucket.io/env/presentation/lz_opticks_optix7_20210518.html" name="url" />
<meta content="4 May 2021" name="date" />
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<script src="ui/my-small-white/slides.js" type="text/javascript"></script>
<link rel="stylesheet" href="ui/my-small-white/slides.css"
      type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/my-small-white/outline.css"
      type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/my-small-white/print.css"
      type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/my-small-white/opera.css"
      type="text/css" media="projection" id="operaFix" />
</head>
<body>
<div class="layout">
<div id="controls"></div>
<div id="currentSlide"></div>
<div id="header">

</div>
<div id="footer">
<h1>LZ-Opticks-NVIDIA OptiX 6-&gt;7 : Notes</h1>

</div>
</div>
<div class="presentation">
<div class="slide" id="slide0">
<h1 class="title">LZ-Opticks-NVIDIA OptiX 6-&gt;7 : Notes</h1>

<!-- comment

https://docutils.sourceforge.io/docutils/parsers/rst/include/

https://docutils.sourceforge.io/docutils/parsers/rst/include/isogrk1.txt

.. raw:: html

   <span>&nbsp;</span>

.. raw:: html

   <hr/>

.. class:: small


    +- - - - - - - - - - - -+- - - - - - - - - - - -+- - - - - - - - - - -+
    | Header 1     Header 2     Header 3  |
    +- - - - - - - - - - - -+- - - - - - - - - - - -+- - - - - - - - - - -+
    | Header 1   | Header 2   | Header 3  |
    +============+============+===========+
    | body row 1 | column 2   | column 3  |
    +- - - - - - - - - - - -+- - - - - - - - - - - -+- - - - - - - - - - -+
    | body row 2 | Cells may span columns.|
    +- - - - - - - - - - - -+- - - - - - - - - - - -+- - - - - - - - - - -+
    | body row 3 | Cells may  | - Cells   |
    +- - - - - - - - - - - -+ span rows. | - contain |
    | body row 4 |            | - blocks. |
    +- - - - - - - - - - - -+- - - - - - - - - - - -+- - - - - - - - - - -+ -->
<!-- Definitions of interpreted text roles (classes) for S5/HTML data. -->
<!-- This data file has been placed in the public domain. -->
<!-- Colours
======= -->
<!-- Text Sizes
========== -->
<!-- Display in Slides (Presentation Mode) Only
========================================== -->
<!-- Display in Outline Mode Only
============================ -->
<!-- Display in Print Only
===================== -->
<!-- Display in Handout Mode Only
============================ -->
<!-- Incremental Display
=================== -->
<!-- This data file has been placed in the public domain. -->
<!-- Derived from the Unicode character mappings available from
<http://www.w3.org/2003/entities/xml/>.
Processed by unicode2rstsubs.py, part of Docutils:
<http://docutils.sourceforge.net>. -->
<!-- This data file has been placed in the public domain. -->
<!-- Derived from the Unicode character mappings available from
<http://www.w3.org/2003/entities/xml/>.
Processed by unicode2rstsubs.py, part of Docutils:
<http://docutils.sourceforge.net>. -->
<!-- This data file has been placed in the public domain. -->
<!-- Derived from the Unicode character mappings available from
<http://www.w3.org/2003/entities/xml/>.
Processed by unicode2rstsubs.py, part of Docutils:
<http://docutils.sourceforge.net>. -->

       <style type="text/css">

          div.slide { 
             background-clip: border-box;
             background-repeat: no-repeat;
             height: 100%;
          }
          div.slide#slide0-disabled{
             background-image: url(/env/graphics/ggeoview/jpmt-inside-wide_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#detector-geometry-in-opticks{
             background-image: url(/env/graphics/ggeoview/jpmt-inside-wide_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-benefits{
             background-image: url(/env/graphics/ggeoview/jpmt-inside-wide_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#visualizing-an-optical-photon-simulation{
             background-image: url(/env/graphics/ggeoview/jpmt-inside-wide_crop.png);
             background-size: 640px 360px;
             background-position: 600px 100px;
             
          }
          div.slide#overview{
             background-image: url(/env/graphics/ggeoview/jpmt-inside-wide_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#g4daeview-py-fast-opengl-3d-viewer-for-g4dae-files{
             background-image: url(/env/geant4/geometry/collada/g4daeview/20140419-170713.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#cerenkov-photons-simulation-top-view{
             background-image: url(/env/geant4/geometry/collada/g4daeview/20141224-115923.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#cerenkov-photons-simulation-side-view{
             background-image: url(/env/geant4/geometry/collada/g4daeview/20141224-115935.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#scintillation-photons-simulation-top-view{
             background-image: url(/env/geant4/geometry/collada/g4daeview/20141224-121444.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#scintillation-photons-simulation-side-view{
             background-image: url(/env/geant4/geometry/collada/g4daeview/20141224-121435.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#standard-geant4-workflow{
             background-image: url(/env/keynotefigs/G4DAEChroma/G4DAEChroma.001.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#external-photon-simulation-workflow{
             background-image: url(/env/keynotefigs/G4DAEChroma/G4DAEChroma.002.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#geant4opticksworkflow{
             background-image: url(/env/Documents/Geant4OpticksWorkflow/Geant4OpticksWorkflow.001.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#geant4opticksworkflow-2{
             background-image: url(/env/Documents/Geant4OpticksWorkflow/Geant4OpticksWorkflow.001.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#ggeoview{
             background-image: url(/env/graphics/ggeoview/ggeoview-cerenkov-001.png);
             background-size: 1047px 795px;
             background-position: 0px 0px;
             
          }
          div.slide#ggeoview-m1-points{
             background-image: url(/env/graphics/ggeoview/ggeoview-scintillation-points-mat1.png);
             background-size: 1435px 848px;
             background-position: 0px 0px;
             
          }
          div.slide#ggeoview-flag-selection{
             background-image: url(/env/graphics/ggeoview/ggeoview-scintillation-flag-seq-select.png);
             background-size: 1436px 842px;
             background-position: 0px 0px;
             
          }
          div.slide#ggeoview-cerenkov-geom-m1{
             background-image: url(/env/graphics/ggeoview/ggeoview-cerenkov-m1-geom.png);
             background-size: 1416px 845px;
             background-position: 0px 0px;
             
          }
          div.slide#detecting-neutrinos-via-optical-photons-1{
             background-image: url(/env/presentation/dayabay-principal_half.png);
             background-size: 1417px 830px;
             background-position: 0px 0px;
             
          }
          div.slide#detecting-neutrinos-via-optical-photons-2{
             background-image: url(/env/presentation/dayabay-principal_half.png);
             background-size: 1417px 830px;
             background-position: 0px 0px;
             
          }
          div.slide#opengl-instancing{
             background-image: url(/env/presentation/dayabay-principal_half.png);
             background-size: 1417px 830px;
             background-position: 0px 0px;
             
          }
          div.slide#opengl-instancing-2{
             background-image: url(/env/presentation/dayabay-principal_half.png);
             background-size: 1417px 830px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-inside-wide{
             background-image: url(/env/graphics/ggeoview/jpmt-inside-wide_half.png);
             background-size: 1432px 844px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-wide{
             background-image: url(/env/graphics/ggeoview/jpmt-wide_half.png);
             background-size: 1409px 836px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-headview{
             background-image: url(/env/graphics/ggeoview/jpmt-headview_half.png);
             background-size: 1308px 783px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-backview{
             background-image: url(/env/graphics/ggeoview/jpmt-backview_half.png);
             background-size: 1149px 794px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-approach{
             background-image: url(/env/graphics/ggeoview/jpmt-approach_half.png);
             background-size: 1431px 839px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-arrival{
             background-image: url(/env/graphics/ggeoview/jpmt-arrival_half.png);
             background-size: 1427px 841px;
             background-position: 0px 0px;
             
          }
          div.slide#optical-photon-simulation-problem{
             background-image: url(/env/graphics/ggeoview/jpmt-before-contact_half.png);
             background-size: 1430px 844px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-optical-photon-simulation-problem{
             background-image: url(/env/graphics/ggeoview/jpmt-before-contact_half.png);
             background-size: 1430px 844px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-before-contact{
             background-image: url(/env/graphics/ggeoview/jpmt-before-contact_half.png);
             background-size: 1430px 844px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-before-contact-2{
             background-image: url(/env/graphics/ggeoview/jpmt-before-contact_half.png);
             background-size: 1430px 844px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-before-contact-3{
             background-image: url(/env/graphics/ggeoview/jpmt-before-contact_half.png);
             background-size: 1430px 844px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-after-contact{
             background-image: url(/env/graphics/ggeoview/jpmt-after-contact_half.png);
             background-size: 1425px 840px;
             background-position: 0px 0px;
             
          }
          div.slide#jpmt-inside-outside{
             background-image: url(/env/graphics/ggeoview/jpmt-inside-outside_half.png);
             background-size: 1401px 842px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-optix-in-action{
             background-image: url(/env/presentation/optix-in-action_half.png);
             background-size: 966px 646px;
             background-position: 100px 50px;
             
          }
          div.slide#pmtinbox-approach-1{
             background-image: url(/env/graphics/ggeoview/PmtInBox-approach.png);
             background-size: 1069px 769px;
             background-position: 0px 0px;
             
          }
          div.slide#pmtinbox-approach-2{
             background-image: url(/env/graphics/ggeoview/PmtInBox-approach.png);
             background-size: 1069px 769px;
             background-position: 0px 0px;
             
          }
          div.slide#pmtinbox-after-1{
             background-image: url(/env/graphics/ggeoview/PmtInBox-after.png);
             background-size: 1057px 760px;
             background-position: 0px 0px;
             
          }
          div.slide#pmtinbox-after-2{
             background-image: url(/env/graphics/ggeoview/PmtInBox-after.png);
             background-size: 1057px 760px;
             background-position: 0px 0px;
             
          }
          div.slide#daya-bay-pmt-wall-photo-1{
             background-image: url(/env/presentation/gtc2016/dyb-pmt-wall-photo.png);
             background-size: 1329px 798px;
             background-position: 0px 0px;
             
          }
          div.slide#daya-bay-pmt-wall-photo-2{
             background-image: url(/env/presentation/gtc2016/dyb-pmt-wall-photo.png);
             background-size: 1329px 798px;
             background-position: 0px 0px;
             
          }
          div.slide#super-kamiokande-pmts-not-16-9{
             background-image: url(/env/presentation/gtc2016/sk-PH20-water-withboat-apr23-wm.png);
             background-size: 1181px 771px;
             background-position: 0px 0px;
             
          }
          div.slide#super-kamiokande-pmts-1{
             background-image: url(/env/presentation/PH20-water-withboat-apr23-wm_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#super-kamiokande-pmts-2{
             background-image: url(/env/presentation/PH20-water-withboat-apr23-wm_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#super-kamiokande-pmts-3{
             background-image: url(/env/presentation/PH20-water-withboat-apr23-wm_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#super-kamiokande-pmts-4{
             background-image: url(/env/presentation/PH20-water-withboat-apr23-wm_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#kamiokande-ii-1{
             background-image: url(/env/presentation/1987a.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#kamiokande-ii-2{
             background-image: url(/env/presentation/1987a.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#kamiokande-ii-3{
             background-image: url(/env/presentation/1987a.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#fast-optical-photon-simulation{
             background-image: url(/env/presentation/newtons-opticks.png);
             background-size: 374px 684px;
             background-position: 800px 0px;
             
          }
          div.slide#photomultiplier-tubes-pmts{
             background-image: url(/env/presentation/hamamatsu-pmt-16x9.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#photomultiplier-tube-operation{
             background-image: url(/env/presentation/hamamatsu-pmt-16x9.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#old-hamamatsu-photomultiplier-tubes-pmts{
             background-image: url(/env/presentation/hamamatsu-pmt.png);
             background-size: 1099px 734px;
             background-position: 0px 0px;
             
          }
          div.slide#old-photomultiplier-tube-operation{
             background-image: url(/env/presentation/hamamatsu-pmt.png);
             background-size: 1099px 734px;
             background-position: 0px 0px;
             
          }
          div.slide#jiangmen-underground-neutrino-observatory-juno{
             background-image: url(/env/presentation/juno-schematic-5.png);
             background-size: 1391px 734px;
             background-position: 0px 0px;
             
          }
          div.slide#jiangmen-underground-neutrino-observatory-goals{
             background-image: url(/env/presentation/juno-schematic-5.png);
             background-size: 1391px 734px;
             background-position: 0px 0px;
             
          }
          div.slide#dayabay-reactor-neutrino-expt-far-site{
             background-image: url(/env/presentation/DybFar_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#daya-bay-far-site-2{
             background-image: url(/env/presentation/DybFar_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#daya-bay-far-site-3{
             background-image: url(/env/presentation/DybFar_crop.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#geant4-monte-carlo-simulation-toolkit{
             background-image: url(/env/presentation/g4-hep.png);
             background-size: 1025px 621px;
             background-position: 100px 100px;
             
          }
          div.slide#geant4-monte-carlo-simulation-toolkit-generality{
             background-image: url(/env/presentation/g4-hep.png);
             background-size: 1025px 621px;
             background-position: 100px 100px;
             
          }
          div.slide#seeing-neutrinos-via-scintillation-cherenkov-light{
             background-image: url(/env/presentation/cherenkov.png);
             background-size: 316px 203px;
             background-position: 850px 400px;
             
          }
          div.slide#opticks-auto-instancing{
             background-image: url(/env/graphics/ggeoview/ggv-juno-instancing.png);
             background-size: 852px 592px;
             background-position: 450px 80px;
             
          }
          div.slide#nvidia-optix-1{
             background-image: url(/env/presentation/NVIDIAOptiXWebsite_Oct2016.png);
             background-size: 1280px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-optix-2{
             background-image: url(/env/presentation/NVIDIAOptiXWebsite_Oct2016.png);
             background-size: 1280px;
             background-position: 0px 0px;
             
          }
          div.slide#opticksdocs{
             background-image: url(/env/presentation/OpticksDocs.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#daya-bay-antineutrino-detection-via-inverse-beta-decay-1{
             background-image: url(/env/presentation/AntineutrinoDetectionViaIBDJetterSept2014.png);
             background-size: 809px 576px;
             background-position: 100px 100px;
             
          }
          div.slide#daya-bay-antineutrino-detection-via-inverse-beta-decay-2{
             background-image: url(/env/presentation/AntineutrinoDetectionViaIBDJetterSept2014.png);
             background-size: 809px 576px;
             background-position: 100px 100px;
             
          }
          div.slide#daya-bay-energy-response-model-1{
             background-image: url(/env/presentation/ZheTaupDetectorResponseModel.png);
             background-size: 968px 576px;
             background-position: 100px 100px;
             
          }
          div.slide#daya-bay-energy-response-model-2{
             background-image: url(/env/presentation/ZheTaupDetectorResponseModel.png);
             background-size: 968px 576px;
             background-position: 100px 100px;
             
          }
          div.slide#daya-bay-energy-response-model-fit-to-calibration-data-1{
             background-image: url(/env/presentation/EnergyResponseModel.png);
             background-size: 693px 504px;
             background-position: 0px 100px;
             
          }
          div.slide#daya-bay-energy-response-model-fit-to-calibration-data-2{
             background-image: url(/env/presentation/ConstrainingNonLinearity.png);
             background-size: 761px 553px;
             background-position: 0px 80px;
             
          }
          div.slide#daya-bay-ngd-analysis-most-precise-theta13{
             background-image: url(/env/presentation/DYBZheTaup2015Theta13OscillationAnalysis.png);
             background-size: 1057px 625px;
             background-position: 100px 60px;
             
          }
          div.slide#opticks-analytic-daya-bay-near-site-gpu-raytrace-3{
             background-image: url(/env/presentation/op_full_raytrace_3.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-analytic-daya-bay-near-site-gpu-raytrace-1{
             background-image: url(/env/presentation/op_full_raytrace_1.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-analytic-daya-bay-near-site-gpu-raytrace-0{
             background-image: url(/env/presentation/op_full_raytrace_0.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-analytic-daya-bay-near-site-gpu-raytrace-2{
             background-image: url(/env/presentation/op_full_raytrace_2.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-analytic-juno-chimney-gpu-raytrace-0{
             background-image: url(/env/presentation/j1707_chimney_analytic_raytrace.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-analytic-juno-pmt-snap-gpu-raytrace-1{
             background-image: url(/env/presentation/j1707-okop-snap.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#gpu-instance-culling-with-level-of-detail{
             background-image: url(/env/presentation/j1707_lod_oglrap_instcull.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-export-of-g4-geometry-to-gltf-2-0{
             background-image: url(/env/yoctoglrap/dyb_near_venice_half.png);
             background-size: 1020px 737px;
             background-position: 0px 0px;
             
          }
          div.slide#what-are-numpy-arrays{
             background-image: url(/env/presentation/what_are_numpy_arrays.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#what-are-numpy-arrays-2{
             background-image: url(/env/presentation/what_are_numpy_arrays.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#bvh{
             background-image: url(/env/presentation/nvidia/NV_Turing_Editors_Day_029.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#spatial-index-acceleration-structure{
             background-image: url(/env/presentation/nvidia/NV_Turing_Editors_Day_029.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#rendering-five-decades-of-research-1{
             background-image: url(/env/presentation/nvidia/rendering_five_decades_of_research.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#rendering-five-decades-of-research-2{
             background-image: url(/env/presentation/nvidia/rendering_five_decades_of_research.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#path-tracing-in-production-1{
             background-image: url(/env/presentation/sigraph/PathTracingInProduction_001.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#path-tracing-in-production-2{
             background-image: url(/env/presentation/sigraph/PathTracingInProduction_001.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#bvh-pascal{
             background-image: url(/env/presentation/nvidia/NV_Turing_Editors_Day_030.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#bvh-turing{
             background-image: url(/env/presentation/nvidia/NV_Turing_Editors_Day_031.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#hardware-traversal-of-bvh-spatial-index{
             background-image: url(/env/presentation/nvidia/NV_Turing_Editors_Day_031.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#siggraph-2018-announcing-worlds-first-ray-tracing-gpu{
             background-image: url(/env/presentation/nvidia/SIGGRAPH_2018_Announcing_Worlds_First_Ray_Tracing_GPU_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#siggraph-2019-eric-enderton-rt-cores{
             background-image: url(/env/presentation/nvidia/SIGGRAPH_2019_Eric_Enderton_RT_Cores.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-optix-ai-denoiser-1{
             background-image: url(/env/presentation/nvidia_demo/nvidia_optix_ai_denoiser.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-optix-ai-denoiser-2{
             background-image: url(/env/presentation/nvidia_demo/nvidia_optix_ai_denoiser.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#samples-per-pixel-1{
             background-image: url(/env/presentation/nvidia/NVIDIA_samples_per_pixel_MDL_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#samples-per-pixel-2{
             background-image: url(/env/presentation/nvidia/NVIDIA_samples_per_pixel_MDL_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#photon-mapping-1{
             background-image: url(/env/presentation/photon_mapping/PhotonMapping_001.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#photon-mapping-2{
             background-image: url(/env/presentation/photon_mapping/PhotonMapping_002.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#eric-haines-nvidia-ray-tracing-essentials-part-6-the-rendering-equation{
             background-image: url(/env/presentation/nvidia/NVIDIA_Eric_Haines_Ray_Tracing_Essentials_Part_6_The_Rendering_Equation.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#physically-based-rendering-book-www-pbr-book-org{
             background-image: url(/env/presentation/pbr/Physically_Based_Rendering_Book_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#the-rendering-equation-1{
             background-image: url(/env/presentation/rendering_equation/TheRenderingEquation_001.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#the-rendering-equation-2{
             background-image: url(/env/presentation/rendering_equation/TheRenderingEquation_002.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#project-sol{
             background-image: url(/env/presentation/nvidia_demo/project_sol_jacob_norris_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-turing-gpu-72-sm-4608-cuda-cores{
             background-image: url(/env/presentation/nvidia/NV_Turing_Editors_Day_009.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-turing-gpu-72-sm-4608-cuda-cores-spec{
             background-image: url(/env/presentation/nvidia/NV_Turing_Editors_Day_009.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#raytrace-vs-raster{
             background-image: url(/env/presentation/nvidia/NV_Turing_Editors_Day_132.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#ray-tracing-vs-rasterization{
             background-image: url(/env/presentation/nvidia/black.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#raytrace-diagram{
             background-image: url(/env/presentation/graphics/1024px-ray_trace_diagram.svg.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#j1808-top-ogl{
             background-image: url(/env/presentation/j1808/j1808_top_ogl.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#j1808-top-rtx{
             background-image: url(/env/presentation/j1808/j1808_top_rtx.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#j1808-escapes{
             background-image: url(/env/presentation/j1808/j1808_escapes.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#geocache-360{
             background-image: url(/env/presentation/geocache_360.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#geocache-360-2{
             background-image: url(/env/presentation/geocache_360.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-360-benchmark-with-optix-6-0-0-rtx-mode{
             background-image: url(/env/presentation/geocache_360.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#optix-instancing{
             background-image: url(/env/presentation/geocache_360.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#optix-instancing-2{
             background-image: url(/env/presentation/geocache_360.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#absmry-1m{
             background-image: url(/env/presentation/ana/absmry_1M.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#absmry-1m-2{
             background-image: url(/env/presentation/ana/absmry_1M.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#ta34-1m{
             background-image: url(/env/presentation/ana/ta34_1M.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#ta34-1m-2{
             background-image: url(/env/presentation/ana/ta34_1M.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#tv34-1m-a{
             background-image: url(/env/presentation/ana/tv34_1M_a.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#tv34-1m-b{
             background-image: url(/env/presentation/ana/tv34_1M_b.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#tv21-1m-a{
             background-image: url(/env/presentation/ana/tv21_1M_a.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#tv21-1m-a-2{
             background-image: url(/env/presentation/ana/tv21_1M_a.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#tv21-1m-c{
             background-image: url(/env/presentation/ana/tv21_1M_c.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#rtx-speedup{
             background-image: url(/env/presentation/ana/RTX_Speedup.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#overheads{
             background-image: url(/env/presentation/ana/Overheads.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-speedup{
             background-image: url(/env/presentation/ana/Opticks_Speedup.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-vs-geant4{
             background-image: url(/env/presentation/ana/Opticks_vs_Geant4.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-vs-geant4-2{
             background-image: url(/env/presentation/ana/Opticks_vs_Geant4.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nhit{
             background-image: url(/env/presentation/ana/NHit.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#interval-over-launch{
             background-image: url(/env/presentation/ana/Interval_over_Launch.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#titan-rtx-72-raytrace-dedicated-rt-cores-4608-cuda-cores-24gb-vram-2500-usd{
             background-image: url(/env/presentation/nvidia/TITAN_RTX.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#bench-20190526-143808{
             background-image: url(/env/presentation/ana/bench_20190526_143808.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#bench-20190526-143808-2{
             background-image: url(/env/presentation/ana/bench_20190526_143808.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#bench-20190526-202537{
             background-image: url(/env/presentation/ana/bench_20190526_202537.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#bench-20190526-202537-2{
             background-image: url(/env/presentation/ana/bench_20190526_202537.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#tv16-fastener{
             background-image: url(/env/presentation/tv/tv16_Fastener.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#tv20-polycone-neck{
             background-image: url(/env/presentation/tv/tv20_polycone_neck.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#tubs-torus-polycone-pmt20inch-polycone-neck{
             background-image: url(/env/presentation/tv/tv20_polycone_neck.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#inch-pmt-neck-cylinder-torus-polycone{
             background-image: url(/env/presentation/tv/tv20_polycone_neck.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#genstep-interface{
             background-image: url(/env/presentation/simulation/genstep_interface.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#introducing-optix-7{
             background-image: url(/env/presentation/nvidia/Introducing_OptiX_7.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#where-next-for-opticks{
             background-image: url(/env/presentation/nvidia/Introducing_OptiX_7.png);
             background-size: 640px 360px;
             background-position: 670px 300px;
             
          }
          div.slide#opticks-experience-problems-with-using-nvidia-optix{
             background-image: url(/env/presentation/nvidia/Introducing_OptiX_7.png);
             background-size: 640px 360px;
             background-position: 670px 300px;
             
          }
          div.slide#nvidia-optix-7-entirely-new-thin-api{
             background-image: url(/env/presentation/nvidia/Introducing_OptiX_7.png);
             background-size: 640px 360px;
             background-position: 670px 300px;
             
          }
          div.slide#nvidia-optix-7-entirely-new-thin-api-introduced-aug-2019{
             background-image: url(/env/presentation/nvidia/Introducing_OptiX_7.png);
             background-size: 640px 360px;
             background-position: 600px 300px;
             
          }
          div.slide#nvidia-optix-7-entirely-new-thin-api-opticks-migration-in-progress{
             background-image: url(/env/presentation/nvidia/Introducing_OptiX_7.png);
             background-size: 640px 360px;
             background-position: 670px 300px;
             
          }
          div.slide#turing-built-for-rtx{
             background-image: url(/env/presentation/nvidia/TURING_Built_for_RTX_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#turing-built-for-rtx-2{
             background-image: url(/env/presentation/nvidia/TURING_Built_for_RTX_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-rtx-metro-exodus{
             background-image: url(/env/presentation/nvidia/NVIDIA_RTX_Metro_Exodus_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#modern-gpu-ray-tracing{
             background-image: url(/env/presentation/nvidia/Modern_GPU_RAY_Tracing.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-optix-programming-model-analogous-to-rasterization-apis-opengl-shaders{
             background-image: url(/env/presentation/nvidia/Modern_GPU_RAY_Tracing.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-quadro-rtx-8000-48g{
             background-image: url(/env/presentation/nvidia/NVIDIA_Quadro_RTX.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#siggraph-2010-optix-a-general-purpose-ray-tracing-engine{
             background-image: url(/env/presentation/nvidia/SIGGRAPH_2010_OptiX_A_General_Purpose_Ray_Tracing_Engine.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#useful-speedup-1500x-but-why-not-giga-rays-s-1-photon-10-rays{
             background-image: url(/env/presentation/nvidia/dhart/dhart_siggraph_2019_RTX_traversal_custom_primitives.png);
             background-size: 720px 405px;
             background-position: 10px 210px;
             
          }
          div.slide#juno-intro-1{
             background-image: url(/env/Documents/JUNOIntro/JUNOIntro.001.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-intro-2{
             background-image: url(/env/Documents/JUNOIntro/JUNOIntro.002.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-intro-3{
             background-image: url(/env/Documents/JUNOIntro/JUNOIntro.003.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-intro-4{
             background-image: url(/env/Documents/JUNOIntro/JUNOIntro.004.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-intro-5{
             background-image: url(/env/Documents/JUNOIntro/JUNOIntro.005.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-intro-6{
             background-image: url(/env/Documents/JUNOIntro/JUNOIntro.006.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-intro-7{
             background-image: url(/env/Documents/JUNOIntro/JUNOIntro.007.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-intro-8{
             background-image: url(/env/Documents/JUNOIntro/JUNOIntro.008.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-intro-9{
             background-image: url(/env/Documents/JUNOIntro/JUNOIntro.009.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-intro-10{
             background-image: url(/env/Documents/JUNOIntro/JUNOIntro.010.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-multipurpose-pedro-nufact-2019{
             background-image: url(/env/presentation/juno/JUNO_Multipurpose_Pedro_NuFact_2019.png);
             background-size: 960px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#dhart-siggraph-2019-optix-5-traversal{
             background-image: url(/env/presentation/nvidia/dhart_siggraph_2019_OptiX_5_traversal.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#dhart-siggraph-2019-optix-5-traversal{
             background-image: url(/env/presentation/nvidia/dhart_siggraph_2019_OptiX_5_traversal.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-check-gui-to-bt5-sd{
             background-image: url(/env/presentation/ana/scan-pf-1/scan-pf-check-GUI-TO-BT5-SD.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-check-gui-to-sc-bt5-sd{
             background-image: url(/env/presentation/ana/scan-pf-1/scan-pf-check-GUI-TO-SC-BT5-SD.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-0-interval-over-launch{
             background-image: url(/env/presentation/ana/scan-pf-0/Interval_over_Launch.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-0-nhit{
             background-image: url(/env/presentation/ana/scan-pf-0/NHit.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-0-opticks-speedup{
             background-image: url(/env/presentation/ana/scan-pf-0/Opticks_Speedup.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-0-opticks-vs-geant4{
             background-image: url(/env/presentation/ana/scan-pf-0/Opticks_vs_Geant4.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-0-overheads{
             background-image: url(/env/presentation/ana/scan-pf-0/Overheads.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-0-rtx-speedup{
             background-image: url(/env/presentation/ana/scan-pf-0/RTX_Speedup.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-0-rtx-speedup-2{
             background-image: url(/env/presentation/ana/scan-pf-0/RTX_Speedup.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-1-interval-over-launch{
             background-image: url(/env/presentation/ana/scan-pf-1/Interval_over_Launch.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-1-nhit{
             background-image: url(/env/presentation/ana/scan-pf-1/NHit.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-1-opticks-speedup{
             background-image: url(/env/presentation/ana/scan-pf-1/Opticks_Speedup.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-1-opticks-speedup-2{
             background-image: url(/env/presentation/ana/scan-pf-1/Opticks_Speedup.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-1-opticks-vs-geant4{
             background-image: url(/env/presentation/ana/scan-pf-1/Opticks_vs_Geant4.png);
             background-size: 1280px 720pxS;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-1-opticks-vs-geant4-2{
             background-image: url(/env/presentation/ana/scan-pf-1/Opticks_vs_Geant4.png);
             background-size: 1280px 720pxS;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-1-opticks-vs-geant4-with-html-table{
             background-image: url(/env/presentation/ana/scan-pf-1/Opticks_vs_Geant4_with_HTML_Table.png);
             background-size: 1280px 720pxS;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-1-overheads{
             background-image: url(/env/presentation/ana/scan-pf-1/Overheads.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#scan-pf-1-rtx-speedup{
             background-image: url(/env/presentation/ana/scan-pf-1/RTX_Speedup.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-translates-g4-geometry-to-gpu-without-approximation{
             background-image: url(/env/presentation/face_view_PMTs.png);
             background-size: 640px 360px;
             background-position: 20px 340px;
             
          }
          div.slide#cupy-numpy-api-some-of-scipy-accelerated-by-nvidia-cuda-curand-cublas-cusolver-cusparse-thrust-nccl{
             background-image: url(/env/presentation/cupy/cupy_is2.png);
             background-size: 1016px 377px;
             background-position: 150px 150px;
             
          }
          div.slide#cupy-easy-interface-to-nvidia-cuda-stack{
             background-image: url(/env/presentation/cupy/cupy_stack.png);
             background-size: 1075px 429px;
             background-position: 100px 100px;
             
          }
          div.slide#c-union-trick-common-with-cuda-mixed-type-arrays-simpler-faster{
             background-image: url(/env/presentation/cuda/float_as_int.png);
             background-size: 600px 89px;
             background-position: 40px 570px;
             
          }
          div.slide#neutrino-understanding{
             background-image: url(/env/presentation/neutrino/understanding_universe_planet_sun.png);
             background-size: 1111px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#gpltcf-hamamatsur12860lmaskvirtual-subplotsfig{
             background-image: url(/env/presentation/ana/PolyconeNeck/gpltcf_HamamatsuR12860lMaskVirtual_SubPlotsFig.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#gpltcf-hamamatsur12860lmaskvirtual-subplotsfig-zoom{
             background-image: url(/env/presentation/ana/PolyconeNeck/gpltcf_HamamatsuR12860lMaskVirtual_SubPlotsFig_Zoom.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#gpltcf-hamamatsur12860lmaskvirtual-combizoom-subplotsfig{
             background-image: url(/env/presentation/ana/PolyconeNeck/gpltcf_HamamatsuR12860lMaskVirtual_combiZoom_SubPlotsFig.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#gpltcf-nnvtmcppmtlmaskvirtual-subplotsfig{
             background-image: url(/env/presentation/ana/PolyconeNeck/gpltcf_NNVTMCPPMTlMaskVirtual_SubPlotsFig.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#gpltcf-nnvtmcppmtlmaskvirtual-subplotsfig-zoom{
             background-image: url(/env/presentation/ana/PolyconeNeck/gpltcf_NNVTMCPPMTlMaskVirtual_SubPlotsFig_Zoom.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#gpltcf-nnvtmcppmtlmaskvirtual-combizoom-subplotsfig{
             background-image: url(/env/presentation/ana/PolyconeNeck/gpltcf_NNVTMCPPMTlMaskVirtual_combiZoom_SubPlotsFig.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#g4optickstest-demonstrates-geant4-opticks-hybrid-workflow{
             background-image: url(/env/presentation/fermilab_geant4_team/hans_nov2020_lar_tpc_p1_half.png),url(/env/presentation/fermilab_geant4_team/hans_nov2020_lar_tpc_p13_half.png);
             background-size: 640px 360px,640px 360px;
             background-position: 0px 360px,640px 360px;
              
          }
          div.slide#geant4-bug-2305{
             background-image: url(/env/presentation/fermilab_geant4_team/geant4_bugzilla_2305_half.png);
             background-size: 1180px 310px;
             background-position: 50px 10px;
             
          }
          div.slide#geant4-bug-2311{
             background-image: url(/env/presentation/fermilab_geant4_team/geant4_bugzilla_2311_half.png);
             background-size: 1180px 310px;
             background-position: 50px 10px;
             
          }
          div.slide#lhcb-rich-ring-imaging-cherenkov-with-opticks-sajan-easo{
             background-image: url(/env/presentation/lhcb_rich_sajan_easo/sajan_easo_prospects_june_2020_p3_half.png),url(/env/presentation/lhcb_rich_sajan_easo/sajan_easo_prospects_june_2020_p8_half.png);
             background-size: 640px 360px,640px 360px;
             background-position: 0px 360px,640px 360px;
              
          }
          div.slide#groups-io-1{
             background-image: url(/env/presentation/groups_io/groups_io_jan_2021_25_members_33_topics_half.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#groups-io-2{
             background-image: url(/env/presentation/groups_io/groups_io_jan_2021_message_history_table_half.png);
             background-size: auto auto;
             background-position: 0px 0px;
             
          }
          div.slide#opticks-corsika8-for-next-generation-neutrino-telescope-optimization{
             background-image: url(/env/presentation/sjtu_fan_hu_oceanic/fan_hu_pod_strings_geometry_half.png);
             background-size: 640px 360px;
             background-position: 640px 360px;
             
          }
          div.slide#uk-swift-hep-grant-software-infrastructure-and-technology-for-hep{
             background-image: url(/env/presentation/ben_morgan_SwiftHEP_jan_2021/detector_simulation_swiftHEP_p1_half.png),url(/env/presentation/ben_morgan_SwiftHEP_jan_2021/detector_simulation_swiftHEP_p19_half.png);
             background-size: 640px 360px,640px 360px;
             background-position: 0px 360px,640px 360px;
              
          }
          div.slide#lz-opticks-history-2018-2021-contacts-with-5-lz-people{
             background-image: url(/env/presentation/nersc_creaner/optical_sims_using_gpus_half.png),url(/env/presentation/nersc_creaner/lz_motivation_to_gpus_half.png);
             background-size: 640px 360px,640px 360px;
             background-position: 0px 360px,640px 360px;
              
          }
          div.slide#lz-opticks-simulation-on-perlmutter-6000-nvidia-a100{
             background-image: url(/env/presentation/nersc_creaner/perlmutter_half.png);
             background-size: 640px 360px;
             background-position: 640px 360px;
             
          }
          div.slide#opticks-juno-progress-efficiency-hit-culling-on-gpu{
             background-image: url(/env/presentation/optixrap/OSensorLibGeoTest_half.png),url(/env/presentation/nvidia/thrust_logo.png);
             background-size: 640px 360px,215px 91px;
             background-position: 640px 360px,390px 210px;
              
          }
          div.slide#nvidia-marbles-at-night-rtx-demo{
             background-image: url(/env/presentation/nvidia/nvidia_marbles_at_night_rtx_demo_1080p_capture_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-marbles-at-night-rtx-demo-2{
             background-image: url(/env/presentation/nvidia/nvidia_marbles_at_night_rtx_demo_1080p_capture_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-rtx-dlss-deep-learning-super-sampling{
             background-image: url(/env/presentation/nvidia/dlss_20_deep_learning_super_sampling_rtx30series_launch_event_1434_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#nvidia-rtx-dlss-deep-learning-super-sampling-2{
             background-image: url(/env/presentation/nvidia/dlss_20_deep_learning_super_sampling_rtx30series_launch_event_1434_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#ampere-2nd-generation-rtx{
             background-image: url(/env/presentation/nvidia/nvidia_ampere_architecture_half.png),url(/env/presentation/nvidia/2nd_generation_rtx_half.png),url(/env/presentation/nvidia/2nd_generation_rt_core_half.png);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 0px 360px,640px 0px,640px 360px;
               
          }
          div.slide#csg-examples{
             background-image: url(/env/presentation/csg/dyb-radial-shield.png),url(/env/presentation/csg/dyb_space_station_complement.png),url(/env/presentation/csg/dyb-cylinder-union-coincidence-speckle.png),url(/env/presentation/csg/dyb-esr-deep-tree-holes.png);
             background-size: 640px 360px,640px 360px,640px 360px,640px 360px;
             background-position: 640px 360px,0px 360px,0px 0px,640px 0px;
                
          }
          div.slide#csg-parade-grid-1{
             background-image: url(/env/presentation/OptiXTest/parade_grid_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#csg-parade-grid-2{
             background-image: url(/env/presentation/OptiXTest/parade_zsphere_grid_half.png),url(/env/presentation/OptiXTest/parade_hyperboloid_grid_half.png);
             background-size: 640px 360px,640px 360px;
             background-position: 640px 360px,0px 360px;
              
          }
          div.slide#csg-working{
             background-image: url(/env/presentation/OptiXTest/csg_ubsp_half.png),url(/env/presentation/OptiXTest/csg_dbsp_half.png),url(/env/presentation/OptiXTest/csg_ibsp_half.png);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 360px,0px 360px,640px 0px;
               
          }
          div.slide#csg-boolean-parade-grid{
             background-image: url(/env/presentation/OptiXTest/boolean_parade_grid_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-5-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__5,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-7-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__7,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-9-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__9,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-4-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__4,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-6-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__6,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-3-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__3,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-1-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__1,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-2-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__2,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-1-2-3-4-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__1,2,3,4__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-0-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__0,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-t8-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__t8,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-8-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__8,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-t0-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__t0,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-t5-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__t5,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-t6-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__t6,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-t7-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__t7,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-t4-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__t4,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-all-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys_all_00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-t3-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__t3,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-t9-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__t9,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-t2-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__t2,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#llowerchimney-phys-t1-00000{
             background-image: url(/env/presentation/snap/lLowerChimney_phys/lLowerChimney_phys__t1,__00000.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#double-greek-temple{
             background-image: url(/env/presentation/flight/double_greek_temple_half.png);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-optix-7-foundry-geometry-scan{
             background-image: url(/env/presentation/cxr/cxr_overview/cxr_i0_4,_-1.jpg),url(/env/presentation/cxr/cxr_overview/cxr_i0_2,_-1.jpg),url(/env/presentation/cxr/cxr_overview/cxr_i0_1,2,3,4_-1.jpg),url(/env/presentation/cxr/cxr_overview/cxr_i0_0,_-1.jpg);
             background-size: 640px 360px,640px 360px,640px 360px,640px 360px;
             background-position: 0px 360px,640px 0px,0px 0px,640px 360px;
                
          }
          div.slide#cxr-i0-2-1-only-nnvt-pmts{
             background-image: url(/env/presentation/cxr/cxr_overview/cxr_i0_2,_-1.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#cxr-i0-1-2-3-4-1-all-pmts{
             background-image: url(/env/presentation/cxr/cxr_overview/cxr_i0_1,2,3,4_-1.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#juno-all-pmts-2m-ray-traced-pixels-in-0-0097-s-nvidia-titan-rtx-nvidia-optix-7-0-0-opticks{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_overview/cam_0_tmin_0.4/cxr_overview_emm_1,2,3,4_moi_-1.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#cxr-i0-0-1-only-global-remainder{
             background-image: url(/env/presentation/cxr/cxr_overview/cxr_i0_0,_-1.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#cxr-i0-t8-1-exclude-slowest{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_overview/cam_0_tmin_0.4/cxr_overview_emm_t8,_moi_-1.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#cxr-i0-t8-1-exclude-slowest-1{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_overview/cam_0_tmin_0.4/cxr_overview_emm_t8,_moi_-1.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#cxr-i0-t8-1-exclude-slowest-2{
             background-image: url(/env/presentation/cxr/cxr_overview/cxr_i0_t8,_-1.jpg);
             background-size: 1280px 720px;
             background-position: 0px 0px;
             
          }
          div.slide#cxr-view{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_t8,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px;
             background-position: 640px 360px;
             
          }
          div.slide#cxr-view-0{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_view/cam_0_0,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_view/cam_0_0,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_0,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-view-1{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_view/cam_0_1,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_view/cam_0_1,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_1,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r1p{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r1p_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r1p_.jpg);
             background-size: 640px 360px,640px 360px;
             background-position: 0px 360px,640px 360px;
              
          }
          div.slide#cxr-view-2{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_view/cam_0_2,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_view/cam_0_2,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_2,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r2p{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r2p_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r2p_.jpg);
             background-size: 640px 360px,640px 360px;
             background-position: 0px 360px,640px 360px;
              
          }
          div.slide#cxr-view-3{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_view/cam_0_3,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_view/cam_0_3,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_3,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r3p{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r3p_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r3p_.jpg);
             background-size: 640px 360px,640px 360px;
             background-position: 0px 360px,640px 360px;
              
          }
          div.slide#cxr-view-4{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_view/cam_0_4,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_view/cam_0_4,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_4,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r4p{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r4p_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r4p_.jpg);
             background-size: 640px 360px,640px 360px;
             background-position: 0px 360px,640px 360px;
              
          }
          div.slide#cxr-view-5{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_view/cam_0_5,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_view/cam_0_5,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_5,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-view-6{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_view/cam_0_6,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_view/cam_0_6,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_6,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-view-7{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_view/cam_0_7,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_view/cam_0_7,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_7,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-view-8{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_view/cam_0_8,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_view/cam_0_8,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_8,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-view-9{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_view/cam_0_9,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_view/cam_0_9,/cxr_view_sWaterTube.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_view/cam_0_9,/cxr_view_sWaterTube.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r0{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r0@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r0@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r0@_.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r1{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r1@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r1@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r1@_.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r2{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r2@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r2@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r2@_.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r3{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r3@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r3@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r3@_.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r4{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r4@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r4@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r4@_.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r5{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r5@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r5@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r5@_.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r6{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r6@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r6@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r6@_.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r7{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r7@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r7@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r7@_.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r8{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r8@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r8@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r8@_.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#cxr-solid-r9{
             background-image: url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r9@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r9@_.jpg),url(/env/presentation/CSGOptiXRender/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r9@_.jpg);
             background-size: 640px 360px,640px 360px,640px 360px;
             background-position: 640px 0px,0px 360px,640px 360px;
               
          }
          div.slide#acknowledgement-opticks-hackathon-series-for-nvidia-optix-6-7{
             background-image: url(/env/presentation/logos/Oisin_future_of_LZ_optical_simulations_half.png),url(/env/presentation/logos/nvidia.png);
             background-size: 640px 360px,235px 215px;
             background-position: 640px 360px,800px 100px;
              
          }
          div.slide#lz-with-opticks-images-from-sam-eriksen-university-of-bristol{
             background-image: url(/env/presentation/lz/LZ_Opticks_OpenGL.png),url(/env/presentation/lz/LZ_Opticks_Composite.png);
             background-size: 508px 572px,580px 551px;
             background-position: 100px 100px,640px 100px;
              
          } 

       </style>
    <!-- comment

1280px_720px
640px_360px

NVIDIA
                    Memory    Bandwidth     CUDA(RT) Cores
TITAN V             12 GB       651 GB/s    5120(0)
Tesla V100          32 GB       900 GB/s    5120(0)
TITAN RTX           24 GB       672 GB/s    4608(72)
Quadro RTX 8000     48 GB       672 GB/s    4608(72)

SM*64 gives cores

https://www.techpowerup.com/gpu-specs/titan-v.c3051
https://www.techpowerup.com/gpu-specs/titan-rtx.c3311
https://www.techpowerup.com/gpu-specs/quadro-rtx-8000.c3306 -->
<style type="text/css">

    .strike { text-decoration: line-through; }
    .center {text-align: center;}

    span.redbold { color: red; font-weight:bold ; }
    span.bluebold { color: blue; font-weight:bold ; }
    span.greenbold { color: green; font-weight:bold ; }

    span.r { color: red; font-weight:bold ; }
    span.b { color: blue; font-weight:bold ; }
    span.g { color: green; font-weight:bold ; }

    span.alarm { color: red; }
    span.blue { color: blue; }
    span.warn { color: orange; }
    span.ok { color: green; }
    span.i { display: none; }
    pre.sliteral { class:"literal-block small"; }
    pre.mypre {
         display: block;
         font-family: monospace;
         font-size: 20px;
         white-space: pre;
         margin: 1em 0;
    }

    pre.mypretiny {
         display: block;
         font-family: monospace;
         font-size: 15px;
         white-space: pre;
         margin: 1em 0;
    }

    pre.myfoot {
         display: block;
         font-family: monospace;
         font-size: 18px;
         white-space: pre;
         color: white;
         position: absolute; top:86%; left:4%; width:50%; height:10% ;
    }

    a.mylink {
         display: block;
         font-family: monospace;
         font-size: 18px;
         white-space: pre;
         color: black;
         position: absolute; top:86%; left:4%; width:50%; height:10% ;
    }


    div.mytitle {
         font-size: 20px;
         color: black;
         position: absolute; top:0%; left:5%; width:90%; height:10% ;
    }

    div.mytitle2 {
         font-size: 20px;
         color: black;
         position: absolute; top:5%; left:5%; width:90%; height:10% ;
    }



    div.mycredit {
         font-size: 20px;
         color: black;
         position: absolute; top:90%; left:5%; width:80%; height:10% ;
    }

    div.mysidebar {
        margin: 0 0 0.5em 1em;
        border: medium outset;
        padding: 1em;
        background-color: #ffffee;
        width: 20%;
        float: right;
        clear: right;
    }

    table.mytable th {
         background-color: #ede;
    }
    table.mytable tr:nth-child(even) {
        background-color: #F3F3FF;
    }
    table.mytable tr:nth-child(odd) {
        background-color: #FFFFEE;
    }


</style><ul class="small simple">
<li><a class="reference external" href="https://github.com/simoncblyth/CSG/commits">https://github.com/simoncblyth/CSG/commits</a> <a class="reference external" href="https://github.com/simoncblyth/CSGOptiX/commits">https://github.com/simoncblyth/CSGOptiX/commits</a></li>
<li><a class="reference external" href="https://github.com/simoncblyth/CSG_GGeo/commits">https://github.com/simoncblyth/CSG_GGeo/commits</a></li>
</ul>
<p class="small"><strong>PROGRESS</strong> : OptiXTest -&gt; <em>CSG</em> + <em>CSGOptiX</em>, added <em>CSG_GGeo</em></p>
<ul class="small simple">
<li><strong>CSG</strong> : <em>CSGFoundry</em> model, simple intersect headers : <span class="redbold">CPU testable</span></li>
<li><strong>CSG_GGeo</strong> : loads <em>Opticks/GGeo</em>, converts to <strong>CSG</strong></li>
<li><strong>CSGOptiX</strong> : OptiX 7 + pre-7 renders of <em>CSGFoundry</em> geometry</li>
</ul>
<p class="small"><strong>NEXT STEPS:</strong></p>
<ul class="small simple">
<li>investigate 2 slow solids in JUNO geometry, try different instance criteria, modelling</li>
<li>systematic comparison of render times with 6 and 7 : <strong>stack size tuning</strong></li>
<li>reduce <em>CSGOptiX</em> code ~duplicated between pre-7:Six.cc, 7:SBT.cc : <strong>unify code in common</strong></li>
<li>bring over event handling (photon generation + propagation)<ul>
<li><span class="redbold">pull out simple headers common to: pre-7, 7, CPU testing</span> (minimize code difference between envs)</li>
<li>trickery/mocking needed for CURAND on CPU? (templating?)</li>
</ul>
</li>
<li>integrate packages with Opticks</li>
</ul>
<p class="small"><strong>LONGTERM POSSIBILITY</strong> : Populate <strong>CSGFoundry</strong> model direct from Geant4 geometry ? [<span class="redbold">Disruptive</span>]</p>
<div class="small line-block">
<div class="line">Simon C Blyth,  May 18, 2021</div>
</div>

        <!--  s5talk  -->
        <br/>
    
</div>
<div class="slide" id="new-foundry-model-shared-cpu-gpu-geometry-context">
<h1><span class="small">New &quot;Foundry&quot; Model : Shared CPU/GPU Geometry Context</span></h1>
<div class="sidebar">
<p class="first sidebar-title"><span class="small">IAS &lt; Inst &lt; Solid &lt; Prim &lt; Node</span></p>
<ul class="small simple">
<li><strong>Inst</strong> : 4x4 tran. + <strong>Solid</strong> ref. ( <strong>Inst</strong> -&gt; 1 <strong>IAS</strong> )</li>
<li><strong>Solid</strong> : 1 or more <strong>Prim</strong>  : ( <strong>Solid</strong> -&gt; <strong>GAS</strong> )</li>
<li><strong>Prim</strong> : 1,3,7,15,31,... <strong>Node</strong>  : (<strong>Prim</strong> ~ <em>G4VSolid</em>)</li>
</ul>
<pre class="mypretiny">
struct CSGFoundry
{
   void upload(); <span class="redbold">// to GPU </span>
...
   std::vector&lt;CSGSolid&gt;  solid ; // compounds (eg PMT)
   std::vector&lt;CSGPrim&gt;   prim ;
   std::vector&lt;CSGNode&gt;   node ; // shapes, operators

   std::vector&lt;float4&gt; plan ; // planes
   std::vector&lt;qat4&gt;   tran ; // CSG transforms
   std::vector&lt;qat4&gt;   itra ; // inverse CSG transforms
   std::vector&lt;qat4&gt;   inst ; // instance transforms

   <span class="redbold">// entire geometry in four GPU allocations</span>
   CSGPrim*    d_prim ;
   CSGNode*    d_node ;
   float4*     d_plan ;
   qat4*       d_itra ;
 };
</pre><p class="small last"><span class="bluebold">referencing by offset, count</span></p>
</div>
<ul class="small simple">
<li><span class="r">replaces geometry context dropped in OptiX 6-&gt;7</span></li>
<li>array-based -&gt; simple, inherent serialization + persisting</li>
<li>entire geometry in 4 GPU allocations</li>
</ul>
<p class="small"><strong>Simple intersect headers, common CPU/GPU types</strong></p>
<ul class="small simple">
<li>use with : pre-7, 7 + testing on CPU</li>
</ul>
<pre>
</pre><dl class="small docutils">
<dt><span class="bluebold">https://github.com/simoncblyth/CSG</span> &quot;Foundry&quot; model</dt>
<dd><dl class="first last docutils">
<dt><strong>csg_intersect_tree.h/csg_intersect_node.h/...</strong></dt>
<dd><span class="redbold">simple headers common to pre-7/7/CPU-testing</span></dd>
</dl>
</dd>
<dt><span class="bluebold">https://github.com/simoncblyth/CSG_GGeo</span></dt>
<dd>Convert <em>Opticks/GGeo</em> -&gt; <em>CSGFoundry</em></dd>
<dt><span class="bluebold">https://github.com/simoncblyth/CSGOptiX</span></dt>
<dd>OptiX 7 + pre-7 rendering</dd>
</dl>
<pre>

</pre><p class="tiny"><strong>GAS</strong> : Geometry Acceleration Structure</p>
<p class="tiny"><strong>IAS</strong> : Instance Acceleration Structure</p>
<p class="tiny"><strong>CSG</strong> : Constructive Solid Geometry</p>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="optix-7-pre-7-intersecting-same-csgfoundry-geometry">
<h1><span class="small">OptiX 7 + pre-7 intersecting same CSGFoundry geometry</span></h1>
<div class="sidebar">
<p class="first sidebar-title"><span class="small">geo_OptiX6Test.cu</span></p>
<ul class="small simple">
<li><span class="redbold">Duplicate 7 environment in pre-7</span></li>
</ul>
<div class="last"><pre class="mypretiny">
<span class="redbold">24 rtBuffer&lt;CSGPrim&gt; prim_buffer; // geometry level context </span>
25
<span class="bluebold">28 rtBuffer&lt;CSGNode&gt; node_buffer;  // global context
29 rtBuffer&lt;qat4&gt; itra_buffer;
30 rtBuffer&lt;float4&gt; plan_buffer; </span>
..
40 RT_PROGRAM void intersect(int primIdx)
41 {
42 <span class="redbold">const CSGPrim* prim = &prim_buffer[primIdx] ;</span>
43 int nodeOffset = prim->nodeOffset() ;
44 int numNode = prim->numNode() ;
45 <span class="bluebold">const CSGNode* node = &node_buffer[nodeOffset] ; </span>
46 const float4* plan = &plan_buffer[0] ;
47 const qat4*   itra = &itra_buffer[0] ;
48
49 float4 isect ;
50 if(intersect_prim(isect, numNode, node, plan, itra,
        ray.tmin , ray.origin, ray.direction ))
51 {
52     if(rtPotentialIntersection(isect.w))
53     {
55     shading_normal = make_float3( isect );
57     rtReportIntersection(0);
58     }
59 }
60 }
</pre></div></div>
<ul class="small simple">
<li><span class="bluebold">https://github.com/simoncblyth/CSGOptiX</span></li>
</ul>
<p class="small"><strong>OptiX7Test.cu</strong></p>
<pre class="mypretiny">
150 extern "C" __global__ void __intersection__is()
151 {
152 HitGroupData* hg  = (HitGroupData*)optixGetSbtDataPointer();
153 int numNode = hg->numNode ;
154 int nodeOffset = hg->nodeOffset ;
155
156 <span class="redbold">const CSGNode* node = params.node + nodeOffset ;</span>
157 const float4* plan = params.plan ;
158 const qat4*   itra = params.itra ;
159
160 const float  t_min = optixGetRayTmin() ;
161 const float3 ray_origin = optixGetObjectRayOrigin();
162 const float3 ray_direction = optixGetObjectRayDirection();
163
164 float4 isect ;
165 if(intersect_prim(isect, numNode, node, plan, itra,
                     t_min , ray_origin, ray_direction ))
166 {
...
175     optixReportIntersection( isect.w, hitKind, a0, a1, a2, a3 );
176 }
177 }
</pre><p class="small">Minimize code split : 7, pre-7, CPU testing : same <strong>intersect_prim</strong></p>
</div>
<div class="slide" id="csg-ggeo-loads-opticks-ggeo-converts-to-csgfoundry-model">
<h1><span class="small">CSG_GGeo : loads Opticks/GGeo, converts to CSGFoundry model</span></h1>
<div class="sidebar">
<p class="first sidebar-title"><span class="small">Converter : GGeo/GParts -&gt; CSG</span></p>
<div class="last"><pre class="mypretiny">
 struct CSG_GGeo_Convert
 {
 CSGFoundry* foundry ;
 const GGeo* ggeo ;
 const Opticks* ok ;
 ..
 CSG_GGeo_Convert(CSGFoundry* foundry, const GGeo* ggeo ) ;
 void init();

 void convert(int repeatIdx=-1,  int primIdx=-1, int partIdxRel=-1 );
 void convert_();

 CSGSolid* convert_(unsigned repeatIdx );
 void addInstances(unsigned repeatIdx );

 CSGPrim*  convert_(const GParts* comp, unsigned primIdx );
 CSGNode*  convert_(const GParts* comp, unsigned primIdx, unsigned partIdxRel );

 // below called non-standardly when corresponding envvars defined
 void addOnePrimSolid();
 void addOnePrimSolid(unsigned solidIdx);

 void addOneNodeSolid();
 void addOneNodeSolid(unsigned solidIdx);
 void addOneNodeSolid(unsigned solidIdx, unsigned primIdx, unsigned primIdxRel);

 void addDeepCopySolid();

 void kludgeScalePrimBBox();
 };
</pre></div></div>
<ul class="small simple">
<li><span class="bluebold">https://github.com/simoncblyth/CSG_GGeo</span></li>
</ul>
<pre class="mypretiny">
 ..
 11 int main(int argc, char** argv)
 12 {
 13     OPTICKS_LOG(argc, argv);
 14
 15     Opticks ok(argc, argv);
 16     ok.configure();
 17
 18     GGeo* ggeo = GGeo::Load(&ok);
 19
 20     CSGFoundry foundry ;
 21     CSG_GGeo_Convert conv(&foundry, ggeo) ;
 22     conv.convert();
 ...
 39     foundry.write(cfbase, rel );
 40
 41     CSGFoundry* fd = CSGFoundry::Load(cfbase, rel);
 42     assert( 0 == CSGFoundry::Compare(&foundry, fd ) );
 43
 44     return 0 ;
 45 }
</pre><ul class="small simple">
<li><span class="bluebold">GGeo::Load</span> geocache identified by <strong>OPTICKS_KEY</strong> envvar</li>
<li><strong>LONGTERM:</strong> direct <em>Geant4</em> -&gt; <em>CSG</em> ? <span class="redbold">disruptive</span><ul>
<li><span class="redbold">disruptive</span> but allows big code reductions in NPY/NNode</li>
</ul>
</li>
</ul>
</div>
<div class="slide" id="cxr-i0-t8-1-exclude-slowest">
<h1><span class="i">[9]cxr_i0_t8,_-1 : EXCLUDE SLOWEST</span></h1>
<pre>



</pre><div class="sidebar">
<p class="first sidebar-title"><span class="small">1st JUNO Opticks OptiX 7 Ray-trace</span></p>
<p class="small">Very New CSG &quot;Foundry&quot; CPU/GPU Geometry</p>
<ul class="small last simple">
<li><span class="redbold">purely analytic CSG, no triangles</span></li>
<li>everything at default, no optimization</li>
</ul>
</div>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="current-juno-geometry-auto-factorized-by-progeny-digest">
<h1><span class="small">Current JUNO Geometry : Auto-Factorized by &quot;progeny digest&quot;</span></h1>
<div class="sidebar">
<p class="first sidebar-title"><span class="small">Factorize ~300,000 vol -&gt; 10 comp</span></p>
<ul class="small simple">
<li><strong>ridx</strong>: repeat index</li>
<li><strong>plc</strong>: number of placements of the instance</li>
<li><strong>prim</strong>: number of Prim/volumes in the instance</li>
<li><strong>component</strong>: numPrim:outerPrimName</li>
</ul>
<p class="small last"><span class="r">&quot;progeny digest&quot;</span> characterizes subtree of every volume-node</p>
</div>
<table border="1" class="tiny docutils">
<colgroup>
<col width="5%" />
<col width="7%" />
<col width="6%" />
<col width="51%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">ridx</th>
<th class="head">plc</th>
<th class="head">prim</th>
<th class="head">component</th>
<th class="head">note</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>0</td>
<td>1</td>
<td>3084</td>
<td>3084:sWorld</td>
<td>non-repeated remainder</td>
</tr>
<tr><td>1</td>
<td>25600</td>
<td>5</td>
<td>5:PMT_3inch_pmt_solid</td>
<td rowspan="4">4 types of PMT</td>
</tr>
<tr><td>2</td>
<td>12612</td>
<td>5</td>
<td>5:NNVTMCPPMTsMask</td>
</tr>
<tr><td>3</td>
<td>5000</td>
<td>5</td>
<td>5:HamamatsuR12860sMask</td>
</tr>
<tr><td>4</td>
<td>2400</td>
<td>5</td>
<td>5:mask_PMT_20inch_vetosMask</td>
</tr>
<tr><td>5</td>
<td>590</td>
<td>1</td>
<td>1:sStrutBallhead</td>
<td rowspan="4">4 parts of same
assembly, BUT not
grouped as siblings
(not parent-child)</td>
</tr>
<tr><td>6</td>
<td>590</td>
<td>1</td>
<td>1:uni1</td>
</tr>
<tr><td>7</td>
<td>590</td>
<td>1</td>
<td>1:base_steel</td>
</tr>
<tr><td>8</td>
<td>590</td>
<td>1</td>
<td>1:uni_acrylic3</td>
</tr>
<tr><td>9</td>
<td>504</td>
<td>130</td>
<td>130:sPanel</td>
<td>repeated parts of TT</td>
</tr>
</tbody>
</table>
<ul class="small simple">
<li><strong>ridx:0</strong> &quot;remainder&quot; Prim<ul>
<li>Prim that did not pass instancing criteria, on number of repeats + complexity</li>
<li>TODO: tune criteria to instance more, reducing remainder Prim (Expect: 3084-&gt;~ 84)</li>
</ul>
</li>
<li><strong>ridx:1,2,3,4</strong><ul>
<li>four types of PMT, all with 5 Prim</li>
</ul>
</li>
<li><strong>ridx:5,6,7,8</strong><ul>
<li>same 590x assembly <span class="redbold">but not grouped together</span> : as siblings (not parent-child like PMTs)</li>
<li>TODO: implement instancing of siblings, combining 4 -&gt; 1</li>
</ul>
</li>
</ul>
<p class="small"><span class="redbold">Increasing instancing : reduces memory for geometry -&gt; improved performance</span></p>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="juno-optix-7-foundry-geometry-scan">
<h1><span class="i">JUNO OptiX 7 : &quot;Foundry&quot; Geometry Scan</span></h1>
<div class="sidebar">
<p class="first sidebar-title"><span class="small">Vary Geom. Compare Render Times</span></p>
<p class="small last">Fast render -&gt; Fast simulation</p>
</div>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="juno-geometry-optix-7-ray-trace-times-2m-pixels-titan-rtx">
<h1><span class="small">JUNO Geometry : OptiX 7 Ray Trace Times ~2M pixels : TITAN RTX</span></h1>
<div class="sidebar">
<p class="first sidebar-title"><span class="small">Same viewpoint, vary GPU geometry</span></p>
<ul class="small simple">
<li><strong>-e</strong> : controls components : &quot;t&quot; means ~ (NOT)</li>
<li><strong>time(s)</strong> : GPU ray trace CUDA launch time</li>
<li><strong>relative</strong> : compares to &quot;ONLY PMT&quot; baseline</li>
</ul>
<p class="small">Very large range of times 1:600</p>
<p class="small"><span class="r">Table identifies slow geometry to fix :</span></p>
<ul class="small simple">
<li><strong>3084:sWorld</strong> (too many non-instanced Prim)</li>
<li><strong>1:uni_acrylic</strong> (CSG sub. 35m diam. sphere)</li>
</ul>
<p class="small">Good performance for <span class="b">ONLY PMTs</span> :</p>
<ul class="small last simple">
<li><span class="b">45,612 PMT instances handled without issue</span></li>
</ul>
</div>
<table border="1" class="tiny docutils">
<colgroup>
<col width="2%" />
<col width="9%" />
<col width="14%" />
<col width="14%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">idx</th>
<th class="head">-e</th>
<th class="head">time(s)</th>
<th class="head">relative</th>
<th class="head">enabled geometry description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>0</td>
<td>9,</td>
<td>0.0017</td>
<td>0.1702</td>
<td>ONLY: 130:sPanel</td>
</tr>
<tr><td>1</td>
<td>7,</td>
<td>0.0017</td>
<td>0.1714</td>
<td>ONLY: 1:base_steel</td>
</tr>
<tr><td>2</td>
<td>6,</td>
<td>0.0019</td>
<td>0.1923</td>
<td>ONLY: 1:uni1</td>
</tr>
<tr><td>3</td>
<td>5,</td>
<td>0.0027</td>
<td>0.2780</td>
<td>ONLY: 1:sStrutBallhead</td>
</tr>
<tr><td>4</td>
<td>4,</td>
<td>0.0032</td>
<td>0.3268</td>
<td>ONLY: 5:mask_PMT_20inch_vetosMask</td>
</tr>
<tr><td>5</td>
<td>1,</td>
<td>0.0032</td>
<td>0.3287</td>
<td>ONLY: 5:PMT_3inch_pmt_solid</td>
</tr>
<tr><td>6</td>
<td>2,</td>
<td>0.0055</td>
<td>0.5669</td>
<td>ONLY: 5:NNVTMCPPMTsMask</td>
</tr>
<tr><td>7</td>
<td>3,</td>
<td>0.0074</td>
<td>0.7582</td>
<td>ONLY: 5:HamamatsuR12860sMask</td>
</tr>
<tr><td>8</td>
<td><span class="b">1,2,3,4</span></td>
<td><span class="b">0.0097</span></td>
<td><span class="b">1.0000</span></td>
<td><span class="b">ONLY PMT</span></td>
</tr>
<tr><td>9</td>
<td>t8,0</td>
<td>0.0099</td>
<td>1.0179</td>
<td>EXCL: 1:uni_acrylic3 3084:sWorld</td>
</tr>
<tr><td>10</td>
<td><span class="r">0,</span></td>
<td><span class="r">0.1171</span></td>
<td><span class="r">12.0293</span></td>
<td><span class="r">ONLY: 3084:sWorld</span></td>
</tr>
<tr><td>11</td>
<td><span class="r">t8,</span></td>
<td><span class="r">0.1186</span></td>
<td><span class="r">12.1769</span></td>
<td><span class="r">EXCL: 1:uni_acrylic3</span></td>
</tr>
<tr><td>12</td>
<td><span class="r">t0,</span></td>
<td><span class="r">0.5278</span></td>
<td><span class="r">54.2066</span></td>
<td><span class="r">EXCL: 3084:sWorld</span></td>
</tr>
<tr><td>13</td>
<td><span class="r">8,</span></td>
<td><span class="r">0.5310</span></td>
<td><span class="r">54.5298</span></td>
<td><span class="r">ONLY: 1:uni_acrylic3</span></td>
</tr>
<tr><td>14</td>
<td>t3,</td>
<td>0.6017</td>
<td>61.7954</td>
<td>EXCL: 5:HamamatsuR12860sMask</td>
</tr>
<tr><td>15</td>
<td>t2,</td>
<td>0.6043</td>
<td>62.0620</td>
<td>EXCL: 5:NNVTMCPPMTsMask</td>
</tr>
<tr><td>16</td>
<td>t5,</td>
<td>0.6171</td>
<td>63.3787</td>
<td>EXCL: 1:sStrutBallhead</td>
</tr>
<tr><td>17</td>
<td>t6,</td>
<td>0.6196</td>
<td>63.6301</td>
<td>EXCL: 1:uni1</td>
</tr>
<tr><td>18</td>
<td>t7,</td>
<td>0.6226</td>
<td>63.9458</td>
<td>EXCL: 1:base_steel</td>
</tr>
<tr><td>19</td>
<td>t0</td>
<td>0.6240</td>
<td>64.0879</td>
<td>3084:sWorld</td>
</tr>
<tr><td>20</td>
<td>t4,</td>
<td>0.6243</td>
<td>64.1169</td>
<td>EXCL: 5:mask_PMT_20inch_vetosMask</td>
</tr>
<tr><td>21</td>
<td>t9,</td>
<td>0.6335</td>
<td>65.0636</td>
<td>EXCL: 130:sPanel</td>
</tr>
<tr><td>22</td>
<td>t1,</td>
<td>0.6391</td>
<td>65.6384</td>
<td>EXCL: 5:PMT_3inch_pmt_solid</td>
</tr>
</tbody>
</table>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="juno-all-pmts-2m-ray-traced-pixels-in-0-0097-s-nvidia-titan-rtx-nvidia-optix-7-0-0-opticks">
<h1><span class="white">JUNO ALL PMTs : 2M ray traced pixels in 0.0097 s : NVIDIA TITAN RTX, NVIDIA OptiX 7.0.0, Opticks</span></h1>

        <!--  s5talk  -->
        <br/>
    <!-- comment

[7]cxr_i0_2,_-1 ONLY NNVT PMTs
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

.. class:: tiny

    /env/presentation/cxr/cxr_overview/cxr_i0_2,_-1.jpg 1280px_720px -->
</div>
<div class="slide" id="cxr-i0-1-2-3-4-1-all-pmts">
<h1>[8]cxr_i0_1,2,3,4_-1 ALL PMTs</h1>
<p class="tiny">/env/presentation/cxr/cxr_overview/cxr_i0_1,2,3,4_-1.jpg 1280px_720px</p>
<p class="huge"><span class="white">&quot;Flat&quot; look is a bug</span></p>
<p class="huge"><span class="white">Was only rendering the last Prim for GAS after the 1st</span></p>
<p class="huge"><span class="white">CAUSE: using globalPrimIdx for SBTIndexOffset : needs to be GAS local</span></p>
</div>
<div class="slide" id="cxr-i0-0-1-only-global-remainder">
<h1>[10]cxr_i0_0,_-1 ONLY GLOBAL &quot;REMAINDER&quot;</h1>
<p class="tiny">/env/presentation/cxr/cxr_overview/cxr_i0_0,_-1.jpg 1280px_720px</p>
<p class="huge"><span class="white">3084 &quot;remainder&quot; non-instance volumes : is far too many</span></p>
<p class="huge"><span class="white">Looks to be obvious repetitions missed by the auto-instancer</span></p>
</div>
<div class="slide" id="cxr-i0-t8-1-exclude-slowest-1">
<h1>[9]cxr_i0_t8,_-1 EXCLUDE SLOWEST 1</h1>
<p class="tiny">/CSG_GGeo/cvd1/70000/cxr_overview/cam_0_tmin_0.4/cxr_overview_emm_t8,_moi_-1.jpg 1280px_720px</p>
<p class="huge"><span class="white">Flipping between this and the next, shows the missing Prim bug effect</span></p>
</div>
<div class="slide" id="cxr-i0-t8-1-exclude-slowest-2">
<h1>[9]cxr_i0_t8,_-1 EXCLUDE SLOWEST 2</h1>
<p class="tiny">/env/presentation/cxr/cxr_overview/cxr_i0_t8,_-1.jpg 1280px_720px</p>
<p class="huge"><span class="white">Flipping between this and the prev, shows the missing Prim bug effect</span></p>
</div>
<div class="slide" id="cxr-view-0">
<h1>cxr_view_0</h1>
<!-- comment

/CSG_GGeo/cvd0/50001/cxr_view/cam_0_0,/cxr_view_sWaterTube.jpg 640px_360px 640px_0px

/CSG_GGeo/cvd1/60500/cxr_view/cam_0_0,/cxr_view_sWaterTube.jpg 640px_360px 0px_360px

/CSG_GGeo/cvd1/70000/cxr_view/cam_0_0,/cxr_view_sWaterTube.jpg 640px_360px 640px_360px -->
<p class="small"><strong>Inside View with only global remainder geometry</strong></p>
<p class="small">Same viewpoint in OptiX 5,6 and 7</p>
<ul class="small simple">
<li>launch time (s) at bottom left</li>
<li>OptiX 5 : NVIDIA Geforce 750M (2013 Macbook Pro)</li>
<li>OptiX 6, 7 : NVIDIA TITAN RTX</li>
</ul>
</div>
<div class="slide" id="cxr-view-1">
<h1>cxr_view_1</h1>
<p class="tiny">/CSG_GGeo/cvd0/50001/cxr_view/cam_0_1,/cxr_view_sWaterTube.jpg 640px_360px 640px_0px</p>
<p class="tiny">/CSG_GGeo/cvd1/60500/cxr_view/cam_0_1,/cxr_view_sWaterTube.jpg 640px_360px 0px_360px</p>
<p class="tiny">/CSG_GGeo/cvd1/70000/cxr_view/cam_0_1,/cxr_view_sWaterTube.jpg 640px_360px 640px_360px</p>
<ul class="small simple">
<li>OptiX 7 to bottom right, with grey background<ul>
<li>missing Prim bug visible, just get the cylinder Prim</li>
</ul>
</li>
</ul>
</div>
<div class="slide" id="cxr-solid-r1p">
<h1>cxr_solid_r1p</h1>
<!-- comment

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r1p_.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r1p_.jpg 640px_360px 640px_360px -->
<p class="small">These renders use ONE_PRIM_SOLID envvar with the Converter
to add <em>CSGFoundry</em> solids containing a single Prim only.</p>
<p class="small">Example solid names: r1p0 r1p1 r1p2 r1p3 r1p4</p>
<p class="small">Then can plot them all using:</p>
<pre class="small literal-block">
./cxr_solid.sh r1p
</pre>
<p class="small">The argument selects 5 single prim solids and puts
them into an IAS with Y-translations.</p>
</div>
<div class="slide" id="cxr-view-2">
<h1>cxr_view_2</h1>
<p class="tiny">/CSG_GGeo/cvd0/50001/cxr_view/cam_0_2,/cxr_view_sWaterTube.jpg 640px_360px 640px_0px</p>
<p class="tiny">/CSG_GGeo/cvd1/60500/cxr_view/cam_0_2,/cxr_view_sWaterTube.jpg 640px_360px 0px_360px</p>
<p class="tiny">/CSG_GGeo/cvd1/70000/cxr_view/cam_0_2,/cxr_view_sWaterTube.jpg 640px_360px 640px_360px</p>
<p class="small">OptiX 5,6,7</p>
<p class="small">Last Prim SBT bug apparent with 7</p>
</div>
<div class="slide" id="cxr-solid-r2p">
<h1>cxr_solid_r2p</h1>
<p class="tiny">/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/<a class="reference internal" href="#cxr-solid-r2p">cxr_solid_r2p</a>.jpg 640px_360px 0px_360px</p>
<p class="tiny">/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/<a class="reference internal" href="#cxr-solid-r2p">cxr_solid_r2p</a>.jpg 640px_360px 640px_360px</p>
<p class="small">Five of the debug single Prim solids selected with:</p>
<pre class="small literal-block">
./cxr_solid.sh r2p
</pre>
<!-- comment

cxr_view_3
- - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_view/cam_0_3,/cxr_view_sWaterTube.jpg 640px_360px 640px_0px

    /CSG_GGeo/cvd1/60500/cxr_view/cam_0_3,/cxr_view_sWaterTube.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_view/cam_0_3,/cxr_view_sWaterTube.jpg 640px_360px 640px_360px

cxr_solid_r3p
- - - - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r3p_.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r3p_.jpg 640px_360px 640px_360px

cxr_view_4
- - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_view/cam_0_4,/cxr_view_sWaterTube.jpg 640px_360px 640px_0px

    /CSG_GGeo/cvd1/60500/cxr_view/cam_0_4,/cxr_view_sWaterTube.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_view/cam_0_4,/cxr_view_sWaterTube.jpg 640px_360px 640px_360px

cxr_solid_r4p
- - - - - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r4p_.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r4p_.jpg 640px_360px 640px_360px


cxr_view_5
- - - - - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_view/cam_0_5,/cxr_view_sWaterTube.jpg 640px_360px 640px_0px

    /CSG_GGeo/cvd1/60500/cxr_view/cam_0_5,/cxr_view_sWaterTube.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_view/cam_0_5,/cxr_view_sWaterTube.jpg 640px_360px 640px_360px

cxr_view_6
- - - - - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_view/cam_0_6,/cxr_view_sWaterTube.jpg 640px_360px 640px_0px

    /CSG_GGeo/cvd1/60500/cxr_view/cam_0_6,/cxr_view_sWaterTube.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_view/cam_0_6,/cxr_view_sWaterTube.jpg 640px_360px 640px_360px

cxr_view_7
- - - - - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_view/cam_0_7,/cxr_view_sWaterTube.jpg 640px_360px 640px_0px

    /CSG_GGeo/cvd1/60500/cxr_view/cam_0_7,/cxr_view_sWaterTube.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_view/cam_0_7,/cxr_view_sWaterTube.jpg 640px_360px 640px_360px -->
</div>
<div class="slide" id="cxr-view-9">
<h1>cxr_view_9</h1>
<p class="tiny">/CSG_GGeo/cvd0/50001/cxr_view/cam_0_9,/cxr_view_sWaterTube.jpg 640px_360px 640px_0px</p>
<p class="tiny">/CSG_GGeo/cvd1/60500/cxr_view/cam_0_9,/cxr_view_sWaterTube.jpg 640px_360px 0px_360px</p>
<p class="tiny">/CSG_GGeo/cvd1/70000/cxr_view/cam_0_9,/cxr_view_sWaterTube.jpg 640px_360px 640px_360px</p>
<table border="1" class="tiny docutils">
<colgroup>
<col width="5%" />
<col width="7%" />
<col width="6%" />
<col width="51%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">ridx</th>
<th class="head">plc</th>
<th class="head">prim</th>
<th class="head">component</th>
<th class="head">note</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>9</td>
<td>504</td>
<td>130</td>
<td>130:sPanel</td>
<td>repeated parts of TT</td>
</tr>
</tbody>
</table>
<p class="small">Only last of 130 Prim appears (OptiX 7), again due to globalPrimIdx bug</p>
</div>
<div class="slide" id="cxr-view-8">
<h1>cxr_view_8</h1>
<p class="tiny">/CSG_GGeo/cvd0/50001/cxr_view/cam_0_8,/cxr_view_sWaterTube.jpg 640px_360px 640px_0px</p>
<p class="tiny">/CSG_GGeo/cvd1/60500/cxr_view/cam_0_8,/cxr_view_sWaterTube.jpg 640px_360px 0px_360px</p>
<p class="tiny">/CSG_GGeo/cvd1/70000/cxr_view/cam_0_8,/cxr_view_sWaterTube.jpg 640px_360px 640px_360px</p>
<p class="small">Blank render for <strong>solid 8</strong> in OptiX 5,6 and 7</p>
</div>
<div class="slide" id="llowerchimney-phys-t5-00000">
<h1><span class="blue">[13]lLowerChimney_phys__t5,__00000</span></h1>
<p class="huge"><strong>Solid 8</strong> &quot;1:uni_acrylic3&quot; is the &quot;plunger&quot; cup that holds the acrylic 35m diameter sphere</p>
</div>
<div class="slide" id="llowerchimney-phys-t0-00000">
<h1><span class="blue">[12]lLowerChimney_phys__t0,__00000</span></h1>
<p class="huge">Currently the shape does a CSG subtraction with the huge sphere</p>
<ul class="huge simple">
<li>enormous Prim BBox ?</li>
</ul>
</div>
<div class="slide" id="llowerchimney-phys-8-00000">
<h1><span class="blue">[11]lLowerChimney_phys__8,__00000</span></h1>
<table border="1" class="huge docutils">
<colgroup>
<col width="5%" />
<col width="7%" />
<col width="6%" />
<col width="51%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">ridx</th>
<th class="head">plc</th>
<th class="head">prim</th>
<th class="head">component</th>
<th class="head">note</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>8</td>
<td>590</td>
<td>1</td>
<td>1:uni_acrylic3</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="huge">590 of these all around the 35m diameter sphere</p>
</div>
<div class="slide" id="llowerchimney-phys-t8-00000">
<h1><span class="blue">[10]lLowerChimney_phys__t8,__00000</span></h1>
<p class="huge">Has complicated CSG insides too, subtracting the 8 column &quot;greek temple&quot;</p>
<!-- comment

:blue:`[0]lLowerChimney_phys__5,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[1]lLowerChimney_phys__7,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[2]lLowerChimney_phys__9,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[3]lLowerChimney_phys__4,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[4]lLowerChimney_phys__6,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[5]lLowerChimney_phys__3,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[6]lLowerChimney_phys__1,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[7]lLowerChimney_phys__2,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[8]lLowerChimney_phys__1,2,3,4__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[9]lLowerChimney_phys__0,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!-- comment

:blue:`[14]lLowerChimney_phys__t6,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[15]lLowerChimney_phys__t7,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[16]lLowerChimney_phys__t4,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[17]lLowerChimney_phys_all_00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[18]lLowerChimney_phys__t3,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[19]lLowerChimney_phys__t9,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[20]lLowerChimney_phys__t2,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

:blue:`[21]lLowerChimney_phys__t1,__00000`
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
</div>
<div class="slide" id="cxr-solid-r0">
<h1>cxr_solid_r0&#64;</h1>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r0&#64;_.jpg">/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r0&#64;_.jpg</a> 640px_360px 640px_0px</p>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r0&#64;_.jpg">/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r0&#64;_.jpg</a> 640px_360px 0px_360px</p>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r0&#64;_.jpg">/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r0&#64;_.jpg</a> 640px_360px 640px_360px</p>
<p class="small">Argument <strong>r0&#64;</strong> matches only solid named &quot;r0&quot;</p>
<blockquote class="small">
<tt class="docutils literal"><span class="pre">EYE=0,-1,0</span> TMIN=1 CAM=1 ./cxr_solid.sh r0&#64;</tt></blockquote>
<p class="small">EYE and TMIN in units of selected solid extent, CAM:0/1 perspective/orthographic</p>
</div>
<div class="slide" id="cxr-solid-r1">
<h1>cxr_solid_r1&#64;</h1>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r1&#64;_.jpg">/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r1&#64;_.jpg</a> 640px_360px 640px_0px</p>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r1&#64;_.jpg">/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r1&#64;_.jpg</a> 640px_360px 0px_360px</p>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r1&#64;_.jpg">/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r1&#64;_.jpg</a> 640px_360px 640px_360px</p>
<p class="small">Argument <strong>r1&#64;</strong> matches only solid named &quot;r1&quot;</p>
<blockquote class="small">
<tt class="docutils literal"><span class="pre">EYE=0,-1,0</span> TMIN=1 CAM=1 ./cxr_solid.sh r1&#64;</tt></blockquote>
</div>
<div class="slide" id="cxr-solid-r2">
<h1>cxr_solid_r2&#64;</h1>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r2&#64;_.jpg">/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r2&#64;_.jpg</a> 640px_360px 640px_0px</p>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r2&#64;_.jpg">/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r2&#64;_.jpg</a> 640px_360px 0px_360px</p>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r2&#64;_.jpg">/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r2&#64;_.jpg</a> 640px_360px 640px_360px</p>
<p class="small"><tt class="docutils literal"><span class="pre">EYE=0,-1,0</span> TMIN=1 CAM=1 ./cxr_solid.sh r1&#64;</tt></p>
</div>
<div class="slide" id="cxr-solid-r3">
<h1>cxr_solid_r3&#64;</h1>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r3&#64;_.jpg">/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r3&#64;_.jpg</a> 640px_360px 640px_0px</p>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r3&#64;_.jpg">/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r3&#64;_.jpg</a> 640px_360px 0px_360px</p>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r3&#64;_.jpg">/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r3&#64;_.jpg</a> 640px_360px 640px_360px</p>
</div>
<div class="slide" id="cxr-solid-r4">
<h1>cxr_solid_r4&#64;</h1>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r4&#64;_.jpg">/CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r4&#64;_.jpg</a> 640px_360px 640px_0px</p>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r4&#64;_.jpg">/CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r4&#64;_.jpg</a> 640px_360px 0px_360px</p>
<p class="tiny"><a class="reference external" href="mailto:/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r4&#64;_.jpg">/CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r4&#64;_.jpg</a> 640px_360px 640px_360px</p>
<p class="huge">TODO: investigate this difference</p>
<!-- comment

cxr_solid_r5@
- - - - - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r5@_.jpg 640px_360px 640px_0px

    /CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r5@_.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r5@_.jpg 640px_360px 640px_360px

cxr_solid_r6@
- - - - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r6@_.jpg 640px_360px 640px_0px

    /CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r6@_.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r6@_.jpg 640px_360px 640px_360px

cxr_solid_r7@
- - - - - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r7@_.jpg 640px_360px 640px_0px

    /CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r7@_.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r7@_.jpg 640px_360px 640px_360px

cxr_solid_r8@
- - - - - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r8@_.jpg 640px_360px 640px_0px

    /CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r8@_.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r8@_.jpg 640px_360px 640px_360px

cxr_solid_r9@
- - - - - - - - - - - - - - - -

.. class:: tiny

    /CSG_GGeo/cvd0/50001/cxr_solid/cam_1/cxr_solid_r9@_.jpg 640px_360px 640px_0px

    /CSG_GGeo/cvd1/60500/cxr_solid/cam_1/cxr_solid_r9@_.jpg 640px_360px 0px_360px

    /CSG_GGeo/cvd1/70000/cxr_solid/cam_1/cxr_solid_r9@_.jpg 640px_360px 640px_360px -->
</div>
<div class="slide" id="extra-background-slides-follow">
<h1>&quot;Extra&quot; Background Slides Follow</h1>
</div>
<div class="slide" id="two-level-hierarchy-instance-transforms-tlas-over-geometry-blas">
<h1><span class="small">Two-Level Hierarchy : Instance transforms (TLAS) over Geometry (BLAS)</span></h1>
<p class="small"><strong>OptiX supports multiple instance levels : IAS-&gt;IAS-&gt;GAS</strong> BUT: <span class="redbold">Simple two-level is faster</span> : <span class="red">works in hardware RT Cores</span></p>
<div class="small figure align-right">
<img alt="/env/presentation/nvidia/tlas_blas_two_level_hierarchy.png" src="/env/presentation/nvidia/tlas_blas_two_level_hierarchy.png" style="width: 800px;" />
<p class="caption"><a class="reference external" href="https://developer.nvidia.com/blog/introduction-nvidia-rtx-directx-ray-tracing/">https://developer.nvidia.com/blog/introduction-nvidia-rtx-directx-ray-tracing/</a></p>
</div>
<dl class="small docutils">
<dt>AS</dt>
<dd>Acceleration Structure</dd>
<dt>TLAS (<strong>IAS</strong>)</dt>
<dd>4x4 transforms, refs to BLAS</dd>
<dt>BLAS (<strong>GAS</strong>)</dt>
<dd><div class="first last line-block">
<div class="line">triangles : vertices, indices</div>
<div class="line">custom primitives : AABB</div>
</div>
</dd>
<dt>AABB</dt>
<dd>axis-aligned bounding box</dd>
</dl>
<p class="small"><strong>SBT : Shader Binding Table</strong></p>
<p class="small">Flexibly binds together:</p>
<ol class="small arabic simple">
<li>geometry objects</li>
<li>shader programs</li>
<li>data for shader programs</li>
</ol>
<p class="small"><strong>Hidden in OptiX 1-6 APIs</strong></p>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="optimizing-geometry-split-blas-to-avoid-overlapping-bbox">
<h1><span class="small">Optimizing Geometry : Split BLAS to avoid overlapping bbox</span></h1>
<div class="figure align-center">
<img alt="/env/presentation/nvidia/optimize/split_blas_half.png" src="/env/presentation/nvidia/optimize/split_blas_half.png" style="width: 700px;" />
</div>
<p class="normal">Optimization : <span class="redbold">deciding where to draw lines between:</span></p>
<ol class="normal arabic simple">
<li>structure and solid (<strong>IAS</strong> and <strong>GAS</strong>)</li>
<li>solids within <strong>GAS</strong>   (bbox choice to minimize traversal intersection tests)</li>
</ol>
<p class="normal">Where those lines are drawn <span class="bluebold">defines the AS</span></p>
<p class="small"><a class="reference external" href="https://developer.nvidia.com/blog/best-practices-using-nvidia-rtx-ray-tracing/">https://developer.nvidia.com/blog/best-practices-using-nvidia-rtx-ray-tracing/</a></p>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="optimizing-geometry-merge-blas-when-lots-of-overlaps">
<h1><span class="small">Optimizing Geometry : Merge BLAS when lots of overlaps</span></h1>
<div class="figure align-center">
<img alt="/env/presentation/nvidia/optimize/merge_blas_half.png" src="/env/presentation/nvidia/optimize/merge_blas_half.png" style="width: 900px;" />
</div>
<ul class="normal simple">
<li>lots of overlapping forces lots of intersections to find closest</li>
<li>but too few bbox means the <strong>AS</strong> cannot help to avoid intersect tests</li>
<li>balance required : <span class="redbold">needs experimentation and measurement to optimize</span></li>
</ul>
<p class="small"><a class="reference external" href="https://developer.nvidia.com/blog/best-practices-using-nvidia-rtx-ray-tracing/">https://developer.nvidia.com/blog/best-practices-using-nvidia-rtx-ray-tracing/</a></p>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="ray-intersection-with-transformed-object-geometry-instancing">
<h1><span class="small">Ray Intersection with Transformed Object -&gt; Geometry Instancing</span></h1>
<div class="figure align-right">
<img alt="/env/presentation/instancing/ray_intersection_in_two_spaces_p308_shirley_ch13_half.png" src="/env/presentation/instancing/ray_intersection_in_two_spaces_p308_shirley_ch13_half.png" style="width: 700px;" />
<p class="caption">Fig 13.5 &quot;Realistic Ray Tracing&quot;, Peter Shirley</p>
<div class="legend">
<p class="normal"><span class="redbold">Advantages apply equally to acceleration structures</span></p>
</div>
</div>
<p class="small"><strong>Equivalent Intersects -&gt; same</strong> <em>t</em></p>
<ol class="small arabic simple">
<li><strong>ray</strong> with <em>ellipsoid</em> : <strong>M*p</strong></li>
<li>M<sup>-1</sup> <strong>ray</strong> with <em>sphere</em> : <strong>p</strong></li>
</ol>
<p class="small"><strong>Local Frame Advantages</strong></p>
<ol class="small arabic simple">
<li>simpler intersect (sphere vs ellipsoid)</li>
<li>closer to origin -&gt; better precision</li>
</ol>
<p class="small"><strong>Geometry Instancing Advantages</strong></p>
<ul class="small simple">
<li>many objects share local geometry<ul>
<li>orient+position with 4x4 <strong>M</strong></li>
</ul>
</li>
<li>huge VRAM saving, less to copy</li>
</ul>
<p class="small"><strong>Requirements</strong></p>
<ul class="small simple">
<li>must <strong>not</strong> normalize ray direction</li>
<li>normals transform differently<ul>
<li>N' = N * M<sup>-1T</sup></li>
<li>(due to non-uniform scaling)</li>
</ul>
</li>
</ul>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="g4boolean-cuda-optix-intersection-program-implementing-csg">
<h1><span class="small">G4Boolean -&gt; CUDA/OptiX Intersection Program Implementing CSG</span></h1>
<div class="sidebar">
<p class="first sidebar-title">Outside/Inside Unions</p>
<p class="small">dot(normal,rayDir) -&gt; Enter/Exit</p>
<img alt="/env/presentation/kensler_union_of_two_spheres_from_outside.png" class="align-center" src="/env/presentation/kensler_union_of_two_spheres_from_outside.png" style="width: 300px;" />
<img alt="/env/presentation/kensler_union_of_two_spheres_from_inside.png" class="align-center" src="/env/presentation/kensler_union_of_two_spheres_from_inside.png" style="width: 300px;" />
<ul class="small last simple">
<li><strong>A + B</strong> boundary not inside other</li>
<li><strong>A * B</strong> boundary inside other</li>
</ul>
</div>
<p class="small">Complete Binary Tree, pick between pairs of nearest intersects:</p>
<table border="1" class="small docutils">
<colgroup>
<col width="37%" />
<col width="17%" />
<col width="24%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"><em>UNION</em> tA &lt; tB</th>
<th class="head">Enter B</th>
<th class="head">Exit B</th>
<th class="head">Miss B</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><strong>Enter A</strong></td>
<td>ReturnA</td>
<td><span class="blue">LoopA</span></td>
<td>ReturnA</td>
</tr>
<tr><td><strong>Exit A</strong></td>
<td>ReturnA</td>
<td>ReturnB</td>
<td>ReturnA</td>
</tr>
<tr><td><strong>Miss A</strong></td>
<td>ReturnB</td>
<td>ReturnB</td>
<td>ReturnMiss</td>
</tr>
</tbody>
</table>
<ul class="small simple">
<li><em>Nearest hit intersect algorithm</em> [1] avoids state<ul>
<li>sometimes <span class="blue">Loop</span> : advance <strong>t_min</strong> , re-intersect both</li>
<li>classification shows if inside/outside</li>
</ul>
</li>
<li><em>Evaluative</em> [2] implementation emulates recursion:<ul>
<li><span class="red">recursion not allowed</span> in OptiX intersect programs</li>
<li>bit twiddle traversal of complete binary tree</li>
<li>stacks of postorder slices and intersects</li>
</ul>
</li>
<li><span class="red">Identical geometry to Geant4</span><ul>
<li>solving the same polynomials</li>
<li>near perfect intersection match</li>
</ul>
</li>
</ul>
<dl class="tiny docutils">
<dt>[1] Ray Tracing CSG Objects Using Single Hit Intersections, Andrew Kensler (2006)</dt>
<dd>with corrections by author of XRT Raytracer <a class="reference external" href="http://xrt.wikidot.com/doc:csg">http://xrt.wikidot.com/doc:csg</a></dd>
<dt>[2] <a class="reference external" href="https://bitbucket.org/simoncblyth/opticks/src/tip/optixrap/cu/csg_intersect_boolean.h">https://bitbucket.org/simoncblyth/opticks/src/tip/optixrap/cu/csg_intersect_boolean.h</a></dt>
<dd>Similar to binary expression tree evaluation using postorder traverse.</dd>
</dl>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="constructive-solid-geometry-csg-shapes-defined-by-construction">
<h1><span class="small">Constructive Solid Geometry (CSG) : Shapes defined &quot;by construction&quot;</span></h1>
<div class="sidebar">
<p class="first sidebar-title">CSG Binary Tree</p>
<img alt="/env/presentation/hanrahan_example_of_solid_object_formed_using_csg.png" class="align-right" src="/env/presentation/hanrahan_example_of_solid_object_formed_using_csg.png" style="width: 450px;" />
<p class="small last">Primitives combined via binary operators</p>
</div>
<p class="small">Simple <em>by construction</em> definition, implicit geometry.</p>
<ul class="small simple">
<li><strong>A, B</strong> implicit primitive <strong>solids</strong></li>
<li><strong>A + B</strong> : union (OR)</li>
<li><strong>A * B</strong> : intersection (AND)</li>
<li><strong>A - B</strong> : difference (AND NOT)</li>
<li><strong>!B</strong> : complement (NOT) (inside &lt;-&gt; outside)</li>
</ul>
<p class="small">CSG expressions</p>
<ul class="small simple">
<li>non-unique: <strong>A - B == A * !B</strong></li>
<li>represented by binary tree, primitives at leaves</li>
</ul>
<p class="small">3D Parametric Ray : <strong>ray(t) = r0 + t rDir</strong></p>
<p class="small"><strong>Ray Geometry Intersection</strong></p>
<ul class="small simple">
<li>primitive : find <em>t</em> roots of implicit eqn</li>
<li>composite : <span class="red">pick</span> primitive intersect, depending on CSG tree</li>
</ul>
<p class="large"><span class="red">How to pick exactly ?</span></p>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="csg-which-primitive-intersect-to-pick">
<h1><span class="small">CSG : Which primitive intersect to pick ?</span></h1>
<div class="sidebar">
<p class="first sidebar-title">In/On/Out transitions</p>
<img alt="/env/presentation/hanrahan_example_of_solid_object_formed_using_csg_roth_diagram.png" class="small last align-right" src="/env/presentation/hanrahan_example_of_solid_object_formed_using_csg_roth_diagram.png" style="width: 450px;" />
</div>
<p class="small">Classical Roth diagram approach</p>
<ul class="small simple">
<li>find all ray/primitive intersects</li>
<li>recursively combine inside intervals using CSG operator</li>
<li>works from leaves upwards</li>
</ul>
<p class="small">Computational requirements:</p>
<ul class="small simple">
<li>find all intersects, store them, order them</li>
<li>recursive traverse</li>
</ul>
<p class="small">BUT : <strong>High performance on GPU requires</strong>:</p>
<ul class="small simple">
<li>massive parallelism -&gt; more the merrier</li>
<li>low register usage -&gt; keep it simple</li>
<li>small stack size -&gt; <strong>avoid recursion</strong></li>
</ul>
<p class="large"><span class="red">Classical approach not appropriate on GPU</span></p>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="csg-complete-binary-tree-serialization-simplifies-gpu-side">
<h1><span class="small">CSG Complete Binary Tree Serialization -&gt; simplifies GPU side</span></h1>
<div class="sidebar">
<p class="first sidebar-title">Bit Twiddling Navigation</p>
<ul class="small last simple">
<li>parent(i) = i/2 = i &gt;&gt; 1</li>
<li>leftchild(i) = 2*i = i &lt;&lt; 1</li>
<li>rightchild(i) = 2*i + 1 = (i &lt;&lt; 1) + 1</li>
<li>leftmost(height)  =  1 &lt;&lt; height</li>
</ul>
</div>
<p class="small">Geant4 solid -&gt; CSG binary tree (leaf primitives, non-leaf operators, 4x4 transforms on any node)</p>
<p class="small">Serialize to <strong>complete binary tree</strong> buffer:</p>
<ul class="small simple">
<li>no need to deserialize, no child/parent pointers</li>
<li>bit twiddling navigation <span class="red">avoids recursion</span></li>
<li>simple approach profits from small size of binary trees</li>
<li>BUT: very inefficient when unbalanced</li>
</ul>
<p class="small"><strong>Height 3 complete binary tree with level order indices:</strong></p>
<pre class="mypre">
                                                   depth     elevation

                     1                               0           3

          10                   11                    1           2

     100       101        110        111             2           1

 1000 1001  1010 1011  1100 1101  1110  1111         3           0
</pre>
<hr/><p class="small"><strong>postorder_next(i,elevation) = i &amp; 1 ? i &gt;&gt; 1 : (i &lt;&lt; elevation) + (1 &lt;&lt; elevation) ;</strong>   // from pattern of bits</p>
<p class="tiny">Postorder tree traverse visits all nodes, starting from leftmost, such that children
are visited prior to their parents.</p>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="evaluative-csg-intersection-pseudocode-recursion-emulated">
<h1><span class="small">Evaluative CSG intersection Pseudocode : recursion emulated</span></h1>
<pre class="mypretiny">
fullTree = PACK( 1 << height, 1 >> 1 )  // leftmost, parent_of_root(=0)
tranche.push(fullTree, ray.tmin)

while (!tranche.empty)        <b><span class="alarm"> // stack of begin/end indices </span></b>
{
    begin, end, tmin <- tranche.pop  ; node <- begin ;
    while( node != end )                  <b><span class="alarm"> // over tranche of postorder traversal </span></b>
    {
        elevation = height - TREE_DEPTH(node) ;
        if(is_primitive(node)){ isect <- intersect_primitive(node, tmin) ;  csg.push(isect) }
        else{
            i_left, i_right = csg.pop, csg.pop          <b><span class="alarm">  // csg stack of intersect normals, t </span></b>
            l_state = CLASSIFY(i_left, ray.direction, tmin)
            r_state = CLASSIFY(i_right, ray.direction, tmin)
            action = LUT(operator(node), leftIsCloser)(l_state, r_state)

            if(      action is ReturnLeft/Right)     csg.push(i_left or i_right)
            else if( action is LoopLeft/Right)
            {
                left = 2*node ; right = 2*node + 1 ;
                endTranche = PACK( node,  end );
                leftTranche = PACK(  left << (elevation-1), right << (elevation-1) )
                rightTranche = PACK(  right << (elevation-1),  node  )
                loopTranche = action ? leftTranche : rightTranche

                tranche.push(endTranche, tmin)
                tranche.push(loopTranche, tminAdvanced ) <b><span class="alarm"> // subtree re-traversal with changed tmin </span></b>
                break ; // to next tranche
            }
        }
        node <- postorder_next(node, elevation)        <b><span class="alarm"> // bit twiddling postorder </span></b>
    }
}
isect = csg.pop();       <b><span class="alarm">  // winning intersect  </span></b>
</pre><p class="tiny"><a class="reference external" href="https://bitbucket.org/simoncblyth/opticks/src/tip/optixrap/cu/csg_intersect_boolean.h">https://bitbucket.org/simoncblyth/opticks/src/tip/optixrap/cu/csg_intersect_boolean.h</a></p>

        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="csg-deep-tree-positivize-tree-using-de-morgan-s-laws">
<h1><span class="small">CSG Deep Tree : Positivize tree using De Morgan's laws</span></h1>
<div class="sidebar">
<p class="first sidebar-title">Positive form CSG Trees</p>
<p class="small">Apply deMorgan pushing negations down tree</p>
<ul class="small simple">
<li><strong>A - B -&gt; A * !B</strong></li>
<li><strong>!(A*B) -&gt; !A + !B</strong></li>
<li><strong>!(A+B) -&gt; !A * !B</strong></li>
<li><strong>!(A - B) -&gt; !(A*!B) -&gt; !A + B</strong></li>
</ul>
<p class="small">End with only UNION, INTERSECT operators,
and some complemented leaves.</p>
<p class="small last"><span class="red">COMMUTATIVE -&gt; easily rearranged</span></p>
</div>
<p class="small">1st step to allow balancing : <strong>Positivize</strong> : remove CSG difference <strong>di</strong> operators</p>
<pre class="mypretiny">
                                                     ...    ...

                                               un          cy

                                       un          cy

                               un          cy

                       un          cy

               un          cy

       di          cy

   cy      cy

</pre>

<pre class="mypretiny">
                                                     ...    ...

                                               un          cy

                                       un          cy

                               un          cy

                       un          cy

               un          cy

       in          cy

   cy      !cy

</pre>
        <!--  s5talk  -->
        <br/>
    </div>
<div class="slide" id="csg-examples">
<h1><span class="i">CSG Examples</span></h1>

        <!--  s5talk  -->
        <br/>
    </div>
</div>
</body>
</html>
