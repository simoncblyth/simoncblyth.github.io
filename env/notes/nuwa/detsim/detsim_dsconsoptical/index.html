<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>DetSim DsConsOptical &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../../" />
    <link rel="up" title="detsim" href="../" />
    <link rel="next" title="NuWa CMT Debugging" href="../../nuwa_cmt_debugging/" />
    <link rel="prev" title="DetSim DsG4Scintillation" href="../detsim_dsg4scintillation/" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../nuwa_cmt_debugging/" title="NuWa CMT Debugging"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../detsim_dsg4scintillation/" title="DetSim DsG4Scintillation"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >nuwa</a> &raquo;</li>
          <li><a href="../" accesskey="U">detsim</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scm/">SCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trac/">Trac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pycuda/">pycuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../geant4/">geant4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../llvm/">llvm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../graphics/">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../javascript/">javascript</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">nuwa</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../dybinst_mavericks/">NuWa on Mavericks</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../">detsim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nuwa_cmt_debugging/">NuWa CMT Debugging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hg/">hg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../simoncblyth.bitbucket.org/">simoncblyth.bitbucket.org</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/nuwa/detsim/detsim_dsconsoptical.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../detsim_dsg4scintillation/"
                        title="previous chapter">DetSim DsG4Scintillation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../nuwa_cmt_debugging/"
                        title="next chapter">NuWa CMT Debugging</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="detsim-dsconsoptical">
<h1>DetSim DsConsOptical<a class="headerlink" href="#detsim-dsconsoptical" title="Permalink to this headline">¶</a></h1>
<div class="section" id="geant4-refs">
<h2>Geant4 Refs<a class="headerlink" href="#geant4-refs" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://geant4.web.cern.ch/geant4/G4UsersDocuments/Overview/html/index.html">http://geant4.web.cern.ch/geant4/G4UsersDocuments/Overview/html/index.html</a></li>
<li><a class="reference external" href="http://geant4.web.cern.ch/geant4/G4UsersDocuments/UsersGuides/ForApplicationDeveloper/html/GettingStarted/physicsDef.html">http://geant4.web.cern.ch/geant4/G4UsersDocuments/UsersGuides/ForApplicationDeveloper/html/GettingStarted/physicsDef.html</a></li>
<li><a class="reference external" href="http://geant4.web.cern.ch/geant4/G4UsersDocuments/UsersGuides/ForApplicationDeveloper/html/TrackingAndPhysics/physicsProcess.html">http://geant4.web.cern.ch/geant4/G4UsersDocuments/UsersGuides/ForApplicationDeveloper/html/TrackingAndPhysics/physicsProcess.html</a></li>
<li><a class="reference external" href="http://geant4.web.cern.ch/geant4/G4UsersDocuments/UsersGuides/ForToolkitDeveloper/html/index.html">http://geant4.web.cern.ch/geant4/G4UsersDocuments/UsersGuides/ForToolkitDeveloper/html/index.html</a></li>
<li><a class="reference external" href="http://geant4.web.cern.ch/geant4/G4UsersDocuments/UsersGuides/ForToolkitDeveloper/html/node8.html">http://geant4.web.cern.ch/geant4/G4UsersDocuments/UsersGuides/ForToolkitDeveloper/html/node8.html</a></li>
</ul>
<div class="section" id="geant4-process">
<h3>Geant4 Process<a class="headerlink" href="#geant4-process" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://www-geant4.kek.jp/g4users/tutorial03/material/4-1.pdf">http://www-geant4.kek.jp/g4users/tutorial03/material/4-1.pdf</a></li>
<li><a class="reference external" href="http://conferences.fnal.gov/g4tutorial/g4cd/Slides/Fermilab/PhysicsTutor2.pdf">http://conferences.fnal.gov/g4tutorial/g4cd/Slides/Fermilab/PhysicsTutor2.pdf</a></li>
</ul>
</div>
<div class="section" id="process-model">
<h3>Process Model<a class="headerlink" href="#process-model" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>AtRest</dt>
<dd><ul class="first last simple">
<li>AtRestDoIt,</li>
<li>AtRestGetPhysicalInteractionLength</li>
<li>(G4VAtRestProcess, processes with only AtRestDoIt)</li>
</ul>
</dd>
<dt>AlongStep</dt>
<dd><ul class="first last simple">
<li>AlongStepDoIt,</li>
<li>AlongStepGetPhysicalInteractionLength</li>
<li>(G4VContinuousProcess, processes with only AlongStepDoIt)</li>
</ul>
</dd>
<dt>PostStep</dt>
<dd><ul class="first last simple">
<li>PostStepDoIt</li>
<li>PostStepGetPhysicalInteractionLength</li>
<li>(G4VDiscreteProcess, processes with only PostStepDoIt)</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="process-ordering">
<h3>Process Ordering<a class="headerlink" href="#process-ordering" title="Permalink to this headline">¶</a></h3>
<p>ProcessManager of a particle is responsible for providing the Ordering</p>
<ol class="arabic simple">
<li>Ordering of GetPhysicalInteractionLength in AlongStepDoIt,<ul>
<li>Multiple Scattering process has to be invoked just before Transportation</li>
<li>Transportation process has to be invoked at the end.</li>
</ul>
</li>
<li>Ordering of DoIts<ul>
<li>There is only some special cases.</li>
<li>For example, the Cherenkov process needs the energy loss information of
the current step for its DoIt invocation. Therefore, the EnergyLoss process has
to be invoked before the Cherenkov process. This ordering is provided by the
process manager. Energy loss information necessary for the Cherenkov process is
passed using G4Step (or the static dE/dX table is used together with the step
length information in G4Step to obtain the energy loss information). Any other?</li>
</ul>
</li>
</ol>
</div>
</div>
<div class="section" id="dsphysconsoptical-h">
<h2>DsPhysConsOptical.h<a class="headerlink" href="#dsphysconsoptical-h" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>//    Construct Optical Processes
20 class DsPhysConsOptical : public GiGaPhysConstructorBase
21 {</pre>
</div>
</div>
<div class="section" id="dsphysconsoptical-cc">
<h2>DsPhysConsOptical.cc<a class="headerlink" href="#dsphysconsoptical-cc" title="Permalink to this headline">¶</a></h2>
<p>Assuming <cite>DsPhysConsOptical</cite> is used <cite>DsG4Scintillation</cite> is being used by default define:</p>
<div class="highlight-python"><pre>01 #define USE_CUSTOM_CERENKOV
02 #define USE_CUSTOM_SCINTILLATION
03
04 #include "DsPhysConsOptical.h"
05 #include "DsG4OpRayleigh.h"
06
07 #ifdef USE_CUSTOM_CERENKOV
08 #include "DsG4Cerenkov.h"
09 #else
10 #include "G4Cerenkov.hh"
11 #endif
12
13 #ifdef USE_CUSTOM_SCINTILLATION
14 #include "DsG4Scintillation.h"
15 #else
16 #include "G4Scintillation.hh"
17 #endif
18</pre>
</div>
<p>Default properties:</p>
<div class="highlight-python"><pre>37     declareProperty("CerenMaxPhotonsPerStep",m_cerenMaxPhotonPerStep = 300,
38                     "Limit step to at most this many (unscaled) Cerenkov photons.");
39
40     declareProperty("ScintDoReemission",m_doReemission = true,
41                     "Do reemission in scintilator.");
42     declareProperty("ScintDoScintAndCeren",m_doScintAndCeren = true,
43                     "Do both scintillation and Cerenkov in scintilator.");
44
45     declareProperty("UseCerenkov", m_useCerenkov=true,
46                     "Use the Cerenkov process?");
47     declareProperty("ApplyWaterQe", m_applyWaterQe=true,
48                     "Apply QE for water cerenkov process when OP is created?"
49                     "If it is true the CerenPhotonScaleWeight will be disabled in water,"
50                     "but it still works for AD and others");
51                     // wz: Maybe we can set the weight of a OP to &gt;1 in future.
52
53     declareProperty("UseScintillation",m_useScintillation=true,
54                     "Use the Scintillation process?");
55     declareProperty("UseRayleigh", m_useRayleigh=true,
56                     "Use the Rayleigh scattering process?");
57     declareProperty("UseAbsorption", m_useAbsorption=true,
58                     "Use light absorption process?");
59     declareProperty("UseFastMu300nsTrick", m_useFastMu300nsTrick=false,
60                     "Use Fast muon simulation?");
61     declareProperty("ScintillationYieldFactor",m_ScintillationYieldFactor = 1.0,
62             "Scale the number of scintillation photons per MeV by this much.");
63
64     declareProperty("BirksConstant1", m_birksConstant1 = 6.5e-3*g/cm2/MeV,
65                     "Birks constant C1");
66     declareProperty("BirksConstant2", m_birksConstant2 = 3.0e-6*(g/cm2/MeV)*(g/cm2/MeV),
67                    "Birks constant C2");
68
69     declareProperty("GammaSlowerTime", m_gammaSlowerTime = 149*ns,
70                     "Gamma Slower time constant");
71     declareProperty("GammaSlowerRatio", m_gammaSlowerRatio = 0.338,
72                    "Gamma Slower time ratio");
73
74     declareProperty("NeutronSlowerTime", m_neutronSlowerTime = 220*ns,
75                     "Neutron Slower time constant");
76     declareProperty("NeutronSlowerRatio", m_neutronSlowerRatio = 0.34,
77                    "Neutron Slower time ratio");
78
79     declareProperty("AlphaSlowerTime", m_alphaSlowerTime = 220*ns,
80                     "Alpha Slower time constant");
81     declareProperty("AlphaSlowerRatio", m_alphaSlowerRatio = 0.35,
82                    "Alpha Slower time ratio");
83
84     declareProperty("CerenPhotonScaleWeight",m_cerenPhotonScaleWeight = 3.125,
85                     "Scale down number of produced Cerenkov photons by this much.");
86     declareProperty("ScintPhotonScaleWeight",m_scintPhotonScaleWeight = 3.125,
87                     "Scale down number of produced scintillation photons by this much.");</pre>
</div>
<div class="highlight-python"><pre>137 #ifdef USE_CUSTOM_SCINTILLATION
138     DsG4Scintillation* scint = 0;
139     info() &lt;&lt; "Using customized DsG4Scintillation." &lt;&lt; endreq;
140     scint = new DsG4Scintillation();
141     scint-&gt;SetBirksConstant1(m_birksConstant1);
142     scint-&gt;SetBirksConstant2(m_birksConstant2);
143     scint-&gt;SetGammaSlowerTimeConstant(m_gammaSlowerTime);
144     scint-&gt;SetGammaSlowerRatio(m_gammaSlowerRatio);
145     scint-&gt;SetNeutronSlowerTimeConstant(m_neutronSlowerTime);
146     scint-&gt;SetNeutronSlowerRatio(m_neutronSlowerRatio);
147     scint-&gt;SetAlphaSlowerTimeConstant(m_alphaSlowerTime);
148     scint-&gt;SetAlphaSlowerRatio(m_alphaSlowerRatio);
149     scint-&gt;SetDoReemission(m_doReemission);
150     scint-&gt;SetDoBothProcess(m_doScintAndCeren);
151     scint-&gt;SetApplyPreQE(m_scintPhotonScaleWeight&gt;1.);
152     scint-&gt;SetPreQE(1./m_scintPhotonScaleWeight);
153     scint-&gt;SetScintillationYieldFactor(m_ScintillationYieldFactor); //1.);
154     scint-&gt;SetUseFastMu300nsTrick(m_useFastMu300nsTrick);
155     scint-&gt;SetTrackSecondariesFirst(true);
156     if (!m_useScintillation) {
157         scint-&gt;SetNoOp();
158     }
159 #else  // standard G4 scint
160     G4Scintillation* scint = 0;
161     if (m_useScintillation) {
162         info() &lt;&lt; "Using standard G4Scintillation." &lt;&lt; endreq;
163         scint = new G4Scintillation();
164         scint-&gt;SetScintillationYieldFactor(m_ScintillationYieldFactor); // 1.);
165         scint-&gt;SetTrackSecondariesFirst(true);
166     }
167 #endif</pre>
</div>
</div>
<div class="section" id="dsphysconsoptical-constructprocess">
<h2><cite>DsPhysConsOptical::ConstructProcess</cite><a class="headerlink" href="#dsphysconsoptical-constructprocess" title="Permalink to this headline">¶</a></h2>
<p>Creates and configures process instances:</p>
<ol class="arabic simple">
<li>cerenkov (DsG4Cerenkov)</li>
<li>scint (DsG4Scintillation)</li>
<li>absorb (G4OpAbsorption)</li>
<li>rayleigh (DsG4OpRayleigh)</li>
<li>boundproc (DsG4OpBoundaryProcess)</li>
<li><cite>fast_sim_man</cite> (G4FastSimulationManagerProcess)</li>
</ol>
<p>Adds the processes to particles to which they are applicable.
Last 4 are for Optical Photon and added with <cite>AddDiscreteProcess</cite></p>
<div class="section" id="q-is-g4transportation-automatically-added">
<h3>Q: Is <cite>G4Transportation</cite> automatically added ?<a class="headerlink" href="#q-is-g4transportation-automatically-added" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>delta:src blyth$ grep Transportation *.*
DsG4OpBoundaryProcess.cc:                     G4TransportationManager::GetTransportationManager()-&gt;
DsG4OpBoundaryProcess.h:#include "G4TransportationManager.hh"
DsPhysConsGeneral.cc:    // AddTransportation();
DsPmtModel.cc:#include "G4TransportationManager.hh"
DsRpcModel.cc:#include "G4TransportationManager.hh"</pre>
</div>
<p>TransportationManager used to get Navigator in boundproc:</p>
<div class="highlight-python"><pre>134 G4VParticleChange*
135 DsG4OpBoundaryProcess::PostStepDoIt(const G4Track&amp; aTrack, const G4Step&amp; aStep)
136 {
...
164         G4Navigator* theNavigator =
165                      G4TransportationManager::GetTransportationManager()-&gt;
166                                               GetNavigatorForTracking();
167
168         G4ThreeVector theLocalPoint = theNavigator-&gt;
169                                       GetGlobalToLocalTransform().
170                                       TransformPoint(theGlobalPoint);</pre>
</div>
<p>Comment indicates GiGa adds the Transportation:</p>
<div class="highlight-python"><pre>098 void DsPhysConsGeneral::ConstructProcess()
099 {
100     // can't call this from a GiGaPhysConstructorBase, but
101     // G4VModularPhysicsList will do it for us.
102     // AddTransportation();
103
104     G4Decay* theDecayProcess = new G4Decay();
105     theParticleIterator-&gt;reset();
106     while( (*theParticleIterator)() ) {
107         G4ParticleDefinition* particle = theParticleIterator-&gt;value();
108         G4ProcessManager* pmanager = particle-&gt;GetProcessManager();
109         if (theDecayProcess-&gt;IsApplicable(*particle)) {
110             pmanager-&gt;AddDiscreteProcess(theDecayProcess);
111             pmanager -&gt;SetProcessOrdering(theDecayProcess, idxPostStep);
112             pmanager -&gt;SetProcessOrdering(theDecayProcess, idxAtRest);
113         }
114     }</pre>
</div>
<p>Good to know where Optical Photon fake PDG code 20022 is set:</p>
<div class="highlight-python"><pre>43 void DsPhysConsGeneral::ConstructParticle()
..
84     /// Special hook: change the PDG encoded value for optical photons to be unique and useful.
85     G4ParticlePropertyTable* propTable = G4ParticlePropertyTable::GetParticlePropertyTable();
86     assert(propTable);
87     G4ParticlePropertyData* photonData = propTable-&gt;GetParticleProperty(G4OpticalPhoton::Definition());
88     assert(photonData);
89     photonData-&gt;SetPDGEncoding(20022);
90     photonData-&gt;SetAntiPDGEncoding(20022);
91     if(propTable-&gt;SetParticleProperty(*photonData))
92       info() &lt;&lt; "Set PDG code for opticalphoton to " &lt;&lt; G4OpticalPhoton::Definition()-&gt;GetPDGEncoding() &lt;&lt; endreq;
93     else
94       warning() &lt;&lt; "Failed to reset PDG code on opticalphoton.. it's still set to "
95                 &lt;&lt; G4OpticalPhoton::Definition()-&gt;GetPDGEncoding() &lt;&lt; endreq;</pre>
</div>
<p>More Phys setup ?:</p>
<div class="highlight-python"><pre>delta:src blyth$ grep \ GiGaPhysConstructorBase *.h
DsPhysConsEM.h:class DsPhysConsEM : public GiGaPhysConstructorBase
DsPhysConsElectroNu.h:class DsPhysConsElectroNu : public GiGaPhysConstructorBase
DsPhysConsGeneral.h:class DsPhysConsGeneral : public GiGaPhysConstructorBase
DsPhysConsHadron.h:class DsPhysConsHadron : public GiGaPhysConstructorBase
DsPhysConsIon.h:class DsPhysConsIon : public GiGaPhysConstructorBase
DsPhysConsOptical.h:class DsPhysConsOptical : public GiGaPhysConstructorBase</pre>
</div>
</div>
</div>
<div class="section" id="source-processes-parameterisation-include-g4fastsimulationmanagerprocess-hh">
<h2><cite>source/processes/parameterisation/include/G4FastSimulationManagerProcess.hh</cite><a class="headerlink" href="#source-processes-parameterisation-include-g4fastsimulationmanagerprocess-hh" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><cite>Fast</cite> used to be <cite>Parametrisation</cite></li>
<li><a class="reference external" href="http://geant4.slac.stanford.edu/UsersWorkshop/PDF/Marc/FastSimulation.pdf">http://geant4.slac.stanford.edu/UsersWorkshop/PDF/Marc/FastSimulation.pdf</a></li>
</ul>
<div class="section" id="g4fastsimulationmanagerprocess">
<h3>G4FastSimulationManagerProcess<a class="headerlink" href="#g4fastsimulationmanagerprocess" title="Permalink to this headline">¶</a></h3>
<p>A <cite>G4VProcess</cite> (usaully Discrete) providing interface between tracking and fast simulation.</p>
<ul class="simple">
<li>It has to be set to the particles to be parameterised:</li>
</ul>
<p>The process ordering:</p>
<ul class="simple">
<li>[n-3] ...</li>
<li>[n-2] Multiple Scattering</li>
<li>[n-1] G4FastSimulationManagerProcess</li>
<li>[ n ] G4Transportation</li>
</ul>
<div class="sidebar">
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../nuwa_cmt_debugging/" title="NuWa CMT Debugging"
             >next</a> |</li>
        <li class="right" >
          <a href="../detsim_dsg4scintillation/" title="DetSim DsG4Scintillation"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >nuwa</a> &raquo;</li>
          <li><a href="../" >detsim</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>