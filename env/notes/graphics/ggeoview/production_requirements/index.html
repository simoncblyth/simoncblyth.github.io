<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Production Requirements &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../../" />
    <link rel="up" title="ggeoview" href="../" />
    <link rel="next" title="oglrap" href="../../oglrap/" />
    <link rel="prev" title="Others" href="../others/" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../oglrap/" title="oglrap"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../others/" title="Others"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >Graphics</a> &raquo;</li>
          <li><a href="../" accesskey="U">ggeoview</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scm/">SCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trac/">Trac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pycuda/">pycuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../geant4/">geant4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../llvm/">llvm</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Graphics</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../">ggeoview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oglrap/">oglrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../meshlab/">meshlab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../collada/">collada</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cgal/">CGAL Computational Geometry Algorithms Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mesh/">mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vrml/">vrml</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../opengl/">opengl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../transformations/">transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panda3d/">panda3d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pipeline/">pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../math/">math</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../glumpy/">glumpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scenekit/">scenekit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pyopengl/">pyopengl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../unity/">unity</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../javascript/">javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nuwa/">nuwa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hg/">hg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../simoncblyth.bitbucket.org/">simoncblyth.bitbucket.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../numpy/">numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../presentation/">Muon Simulation Presentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../optix/">optix</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/graphics/ggeoview/production_requirements.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../others/"
                        title="previous chapter">Others</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../oglrap/"
                        title="next chapter">oglrap</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="production-requirements">
<h1>Production Requirements<a class="headerlink" href="#production-requirements" title="Permalink to this headline">¶</a></h1>
<div class="section" id="choosing-a-nvidia-product-line">
<h2>Choosing a NVIDIA Product Line<a class="headerlink" href="#choosing-a-nvidia-product-line" title="Permalink to this headline">¶</a></h2>
<p>Regards choosing NVIDIA GPUs to purchase. The first
thing is to pick an appropriate product line,</p>
<dl class="docutils">
<dt>GeForce</dt>
<dd>consumer/gaming</dd>
<dt>Quadro</dt>
<dd>workstation CAD/3D modelling</dd>
<dt>Tesla</dt>
<dd>compute, FP64</dd>
</dl>
<p>As OptiX/Opticks doesn’t benefit from double precision performance
the much cheaper consumer Geforce is appropriate.</p>
</div>
<div class="section" id="choosing-geforce-gpu">
<h2>Choosing GeForce GPU<a class="headerlink" href="#choosing-geforce-gpu" title="Permalink to this headline">¶</a></h2>
<p>My suggestions for Geforce GPUs in descending order:</p>
<div class="section" id="pascal">
<h3>Pascal<a class="headerlink" href="#pascal" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/List_of_Nvidia_graphics_processing_units#GeForce_10_Series">https://en.wikipedia.org/wiki/List_of_Nvidia_graphics_processing_units#GeForce_10_Series</a></p>
<p>GeForce GTX 1080  (8 GB)    599 USD    available May 27
GeForce GTX 1070  (8 GB)    379 USD    available June 10</p>
<p><a class="reference external" href="http://www.anandtech.com/show/10304/nvidia-announces-the-geforce-gtx-1080-1070">http://www.anandtech.com/show/10304/nvidia-announces-the-geforce-gtx-1080-1070</a></p>
<p>These were announced May 6th, 2016.
Pascal uses a 16nm process, prior architectures (Kepler, Maxwell) have been at 28 nm
since 2012, so this is a major development and will probably mean a
big jump in performance and power efficiency.</p>
</div>
<div class="section" id="maxwell">
<h3>Maxwell<a class="headerlink" href="#maxwell" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/List_of_Nvidia_graphics_processing_units#GeForce_900_Series">https://en.wikipedia.org/wiki/List_of_Nvidia_graphics_processing_units#GeForce_900_Series</a></p>
<p>GeForce GTX 980 Ti  (6 GB)   640 USD   (price will soon drop due to Pascal release)</p>
</div>
</div>
<div class="section" id="opticks-optix-requirements">
<h2>Opticks/OptiX requirements<a class="headerlink" href="#opticks-optix-requirements" title="Permalink to this headline">¶</a></h2>
<p>Opticks/OptiX doesn’t need Pascal performance (Maxwell would do fine)
but looking ahead to “OpticksVR” : with JUNO geometry extreme
performance and lots of fast memory becomes necessary to achieve the 90fps needed for VR.</p>
<p>My measurements/extrapolations suggest that the time for GPU
optical photon processing is going to be effectively zero compared to CPU processing,
with any Maxwell or Pascal GeForce GPU being capable of reaching this level.
So multiple GPU machines are not necessary.</p>
<p>Although I would like to test with a multi-GPU machine I think IHEP will likely have such systems
that can be borrowed for that.</p>
<p>Opticks is intended to be used in hybrid G4+Opticks fashion but
we will initially need to run standard G4 as well over the same events, on the same machine,
which will of course be a lot more demanding than the hybrid running (especially CPU memory).
So Tao who has JUNO CPU simulation/production experience can be a better guide
as to the memory/CPU requirements of G4 running.</p>
<p>This would suggest that maximal throughput can be obtained by focussing resources
more on the CPU side than the GPU side, as that is where I predict the bottleneck will be.</p>
<p>Opticks currently requires Linux/Mac, but VR will probably only be supported on Windows
for several years.  So I would suggest a dual boot Windows/Linux machine,
although I do not have experience with dual boot systems.</p>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>My experience is mainly with development, where the requirements are clear:</p>
<ul class="simple">
<li>direct access to Linux machines with a recent NVIDIA GPU (Maxwell architecture)</li>
<li>ability to update to latest drivers for NVIDIA OptiX and to run OpenGL
for visualisation/debugging.</li>
</ul>
<p>Direct access (having the machine physically beside the desk) is really needed
for development to allow visual debugging.
There may be ways to allow remote visualisation but getting side tracked on such complications,
which probably inevitably yield poor visualisation performance seems better left to others.</p>
<p>My validations are progressing well (single PMT is agreeing between Opticks/Geant4)
so I am hopeful of getting full geometries to agree before the summer.
As such we need to consider/plan for how Opticks can be validated/used in production.
However, I have little experience of production running and none with Phi co-processors.</p>
<p>Opticks is intended to be used in hybrid G4+Opticks fashion but
we will initially need to run standard G4 as well over the same events, on the same machine,
which will of course be a lot more demanding than the hybrid running (especially CPU memory).
So people with JUNO CPU simulation/production experience can be a better guide
as to the memory/CPU requirements of large scale G4 running.</p>
<p>On the GPU side, at least 2 NVIDIA GPUs per machine
(with same requirements as for development) are required with memory
of at minimum 4GB per GPU.  Using more than one GPU allows scaling to
be evaluated : prior measurements suggest near linear OptiX performance
scaling with CUDA cores, but this will always need to be checked again
on every system used.</p>
<p>My measurements/extrapolations suggest that the time for GPU
optical photon processing is going to be effectively zero compared to CPU processing,
with any modern workstation NVIDIA GPU being capable of reaching this level.</p>
<p>This would suggest that maximal throughput can be obtained by focussing resources
more on the CPU side than the GPU side, as that is where I predict the bottleneck will be.</p>
<p>Given this, the NVIDIA VCA machines aimed at rendering companies (advertising, design etc..)
seem inappropriate for JUNO simulation as they are GPU resource heavy.</p>
<blockquote>
<div><a class="reference external" href="http://www.nvidia.com/object/visual-computing-appliance.html">http://www.nvidia.com/object/visual-computing-appliance.html</a>
<a class="reference external" href="http://www.nvidia.com/object/vca-for-optix.html">http://www.nvidia.com/object/vca-for-optix.html</a></div></blockquote>
<p>Future developments such as development of GPU reconstruction techniques may shift
the balance however.</p>
<div class="sidebar">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../oglrap/" title="oglrap"
             >next</a> |</li>
        <li class="right" >
          <a href="../others/" title="Others"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >Graphics</a> &raquo;</li>
          <li><a href="../" >ggeoview</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>