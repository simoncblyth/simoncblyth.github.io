<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Collada Geometry Elements &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../../" />
    <link rel="up" title="collada" href="../" />
    <link rel="next" title="Collada Viewers" href="../collada_viewer/" />
    <link rel="prev" title="Collada Intro" href="../collada_intro/" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../collada_viewer/" title="Collada Viewers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../collada_intro/" title="Collada Intro"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >Graphics</a> &raquo;</li>
          <li><a href="../" accesskey="U">collada</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scm/">SCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trac/">Trac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pycuda/">pycuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../geant4/">geant4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../llvm/">llvm</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Graphics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../meshlab/">meshlab</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../">collada</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cgal/">CGAL Computational Geometry Algorithms Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mesh/">mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vrml/">vrml</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../opengl/">opengl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../transformations/">transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panda3d/">panda3d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pipeline/">pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../math/">math</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../glumpy/">glumpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scenekit/">scenekit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pyopengl/">pyopengl</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../javascript/">javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nuwa/">nuwa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hg/">hg</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/graphics/collada/collada_geometry_elements.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../collada_intro/"
                        title="previous chapter">Collada Intro</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../collada_viewer/"
                        title="next chapter">Collada Viewers</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="collada-geometry-elements">
<h1>Collada Geometry Elements<a class="headerlink" href="#collada-geometry-elements" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#objective" id="id2">Objective</a></li>
<li><a class="reference internal" href="#references" id="id3">References</a></li>
<li><a class="reference internal" href="#mapping-between-collada-model-and-geant4-model" id="id4">Mapping between Collada model and Geant4 model</a></li>
<li><a class="reference internal" href="#input" id="id5">input</a></li>
<li><a class="reference internal" href="#library-node" id="id6">library_node</a></li>
<li><a class="reference internal" href="#node" id="id7">node</a></li>
<li><a class="reference internal" href="#instance-node" id="id8">instance_node</a><ul>
<li><a class="reference internal" href="#thoughts" id="id9">Thoughts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#matrix" id="id10">matrix</a></li>
<li><a class="reference internal" href="#library-geometries" id="id11">library_geometries</a></li>
<li><a class="reference internal" href="#geometry" id="id12">geometry</a></li>
<li><a class="reference internal" href="#mesh" id="id13">mesh</a></li>
<li><a class="reference internal" href="#triangles-trifans-tristrips" id="id14">triangles/trifans/tristrips</a></li>
<li><a class="reference internal" href="#triangles" id="id15">triangles</a></li>
<li><a class="reference internal" href="#instance-geometry" id="id16">instance_geometry</a></li>
<li><a class="reference internal" href="#id1" id="id17">instance_node</a></li>
</ul>
</div>
<div class="section" id="objective">
<h2><a class="toc-backref" href="#id2">Objective</a><a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h2>
<p>Learn about elements of Collada needed to
represent Geant4 geometry models.</p>
<p>For more Geant4 exporter implementation specifics <a class="reference internal" href="../../../geant4/geometry/collada/"><em>Geant4 Geometry in Collada</em></a></p>
</div>
<div class="section" id="references">
<h2><a class="toc-backref" href="#id3">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://collada.org/mediawiki/index.php/Using_URIs_in_COLLADA">http://collada.org/mediawiki/index.php/Using_URIs_in_COLLADA</a></li>
</ul>
</div>
<div class="section" id="mapping-between-collada-model-and-geant4-model">
<h2><a class="toc-backref" href="#id4">Mapping between Collada model and Geant4 model</a><a class="headerlink" href="#mapping-between-collada-model-and-geant4-model" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Geant4</th>
<th class="head">Collada</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Solid</td>
<td>instance_geometry OR geometry ?</td>
</tr>
<tr class="row-odd"><td>LogicalVolume</td>
<td>node</td>
</tr>
<tr class="row-even"><td>PhysicalVolume</td>
<td>instance_node</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="input">
<h2><a class="toc-backref" href="#id5">input</a><a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h2>
<p><em>input</em> declares the input connections to a data source that a consumer requires. A data
source is a container of raw data that lacks semantic meaning so that the data can be reused within the
document. To use the data, a consumer declares a connection to it with the desired semantic information.</p>
<div class="highlight-python"><pre>&lt;source id="cubeverts-array"&gt;
  &lt;float_array count="24" id="cubeverts-array-array"&gt;-50 50 50 50 50 50 -50 -50 50 50 -50 50 -50 50 -50 50 50 -50 -50 -50 -50 50 -50 -50&lt;/float_array&gt;
  &lt;technique_common&gt;
    &lt;accessor count="8" source="#cubeverts-array-array" stride="3"&gt;
      &lt;param type="float" name="X"/&gt;
      &lt;param type="float" name="Y"/&gt;
      &lt;param type="float" name="Z"/&gt;
    &lt;/accessor&gt;
  &lt;/technique_common&gt;
&lt;/source&gt;
&lt;vertices id="cubeverts-array-vertices"&gt;
  &lt;input source="#cubeverts-array" semantic="POSITION"/&gt;
&lt;/vertices&gt;</pre>
</div>
</div>
<div class="section" id="library-node">
<h2><a class="toc-backref" href="#id6">library_node</a><a class="headerlink" href="#library-node" title="Permalink to this headline">¶</a></h2>
<p>Child elements: One or more nodes.</p>
</div>
<div class="section" id="node">
<h2><a class="toc-backref" href="#id7">node</a><a class="headerlink" href="#node" title="Permalink to this headline">¶</a></h2>
<p>Parent elements: library_nodes, node, visual_scene
Child elements:</p>
<blockquote>
<div><ul class="simple">
<li>transformational: lookat/matrix/rotate/scale/skew/translate</li>
<li>instance_camera/../instance_geometry/instance_node/node</li>
<li>extra</li>
</ul>
</div></blockquote>
<p>The <em>node</em> element embodies the hierarchical relationship of elements in a scene
by declaring a point of interest in a scene.
A node denotes one point on a branch of the scene graph. The <em>node</em> element is
essentially the root of a subgraph of the entire scene graph.</p>
<p>Within the scene graph abstraction, there are arcs and nodes.
Nodes are points of information within the graph.
Arcs connect nodes to other nodes.
Nodes are further distinguished as interior (branch) nodes and
exterior (leaf) nodes.
COLLADA uses the term node to denote interior nodes. Arcs are also called paths.</p>
<p>The <em>node</em> element represents a context in which the child transformation elements are composed in the
order that they occur. All the other child elements are affected equally by the accumulated transformations
in the scope of the <em>node</em> element.</p>
<p>The transformation elements transform the coordinate system of the
<em>node</em> element. Mathematically, this means that the transformation elements
are converted to matrices and postmultiplied in the order in which they are specified within the
<em>node</em> to compose the coordinate system.</p>
</div>
<div class="section" id="instance-node">
<h2><a class="toc-backref" href="#id8">instance_node</a><a class="headerlink" href="#instance-node" title="Permalink to this headline">¶</a></h2>
<p>An <em>instance_node</em> creates an instance of an object described by a <em>node</em> element.
Each instance of a <em>node</em> element refers to an element in the <em>node</em> hierarchy
that has its own local coordinate system defined for placing objects in the scene.</p>
<p>Parent elements: <em>node</em></p>
<div class="highlight-python"><pre>&lt;library_nodes&gt;
  &lt;node id="myNode"/&gt;
&lt;/library_nodes&gt;
&lt;node&gt;
  &lt;node&gt;
    &lt;translate&gt;11.0 12.0 13.0&lt;/translate&gt;
    &lt;instance_node url="#myNode"/&gt;
  &lt;/node&gt;
&lt;/node&gt;</pre>
</div>
<div class="section" id="thoughts">
<h3><a class="toc-backref" href="#id9">Thoughts</a><a class="headerlink" href="#thoughts" title="Permalink to this headline">¶</a></h3>
<p>Looks like Geant4 logical/physical.  But is it beneficial to stay
at such a high level into the Collada file, perhaps should collapse
to global coordinate space, like VRML2 does.</p>
<p>If do not do that in the export, then have to do that &#8220;flattening&#8221;
within whatever interprets the Collada. Does pycollada do that ? OR is
pycollada just giving access to the Collada content.</p>
</div>
</div>
<div class="section" id="matrix">
<h2><a class="toc-backref" href="#id10">matrix</a><a class="headerlink" href="#matrix" title="Permalink to this headline">¶</a></h2>
<p>Parent element: <em>node</em></p>
</div>
<div class="section" id="library-geometries">
<h2><a class="toc-backref" href="#id11">library_geometries</a><a class="headerlink" href="#library-geometries" title="Permalink to this headline">¶</a></h2>
<p>One or more geometry.</p>
</div>
<div class="section" id="geometry">
<h2><a class="toc-backref" href="#id12">geometry</a><a class="headerlink" href="#geometry" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>only a single convex_mesh, mesh, spline, brep</li>
</ul>
<div class="highlight-python"><pre>&lt;library_geometries&gt;
  &lt;geometry id="geometry0" name="mycube"&gt;
    &lt;mesh&gt;
      &lt;source id="cubenormals-array"&gt;
        &lt;float_array count="72" id="cubenormals-array-array"&gt;0 0 1 0 0 1 0 0 1 0 0 1 0 1 0 0 1 0 0 1 0 0 1 0 0 -1 0 0 -1 0 0 -1 0 0 -1 0 -1 0 0 -1 0 0 -1 0 0 -1 0 0 1 0 0 1 0 0 1 0 0 1 0 0 0 0 -1 0 0 -1 0 0 -1 0 0 -1&lt;/float_array&gt;
        &lt;technique_common&gt;
          &lt;accessor count="24" source="#cubenormals-array-array" stride="3"&gt;
            &lt;param type="float" name="X"/&gt;
            &lt;param type="float" name="Y"/&gt;
            &lt;param type="float" name="Z"/&gt;
          &lt;/accessor&gt;
        &lt;/technique_common&gt;
      &lt;/source&gt;
      ...
      &lt;triangles count="12" material="materialref"&gt;
        &lt;input source="#cubenormals-array" semantic="NORMAL" offset="1"/&gt;
        &lt;input source="#cubeverts-array-vertices" semantic="VERTEX" offset="0"/&gt;
        &lt;p&gt;0 0 2 1 3 2 0 0 3 2 1 3 0 4 1 5 5 6 0 4 5 6 4 7 6 8 7 9 3 10 6 8 3 10 2 11 0 12 4 13 6 14 0 12 6 14 2 15 3 16 7 17 5 18 3 16 5 18 1 19 5 20 7 21 6 22 5 20 6 22 4 23&lt;/p&gt;
      &lt;/triangles&gt;
    &lt;/mesh&gt;
  &lt;/geometry&gt;
&lt;/library_geometries&gt;</pre>
</div>
</div>
<div class="section" id="mesh">
<h2><a class="toc-backref" href="#id13">mesh</a><a class="headerlink" href="#mesh" title="Permalink to this headline">¶</a></h2>
<p>Parent element: <em>geometry</em></p>
<p>Child elements:</p>
<ul class="simple">
<li><em>source</em> (1+)</li>
<li><em>vertices</em> 1</li>
<li><em>lines/linestrips/polygons/polylist/triangles/trifans/tristrips</em> 0+</li>
</ul>
<p>The <em>vertices</em> element under <em>mesh</em> is used to describe mesh-vertices. Polygons, triangles, and so
forth index mesh-vertices, not positions directly. Mesh-vertices must have at least one <em>input(unshared)</em>
element with a semantic attribute whose value is POSITION.</p>
<div class="highlight-python"><pre>&lt;mesh&gt;
  &lt;source id="cubenormals-array"&gt;
    &lt;float_array count="72" id="cubenormals-array-array"&gt;0 0 1 0 0 1 0 0 1 0 0 1 0 1 0 0 1 0 0 1 0 0 1 0 0 -1 0 0 -1 0 0 -1 0 0 -1 0 -1 0 0 -1 0 0 -1 0 0 -1 0 0 1 0 0 1 0 0 1 0 0 1 0 0 0 0 -1 0 0 -1 0 0 -1 0 0 -1&lt;/float_array&gt;
    &lt;technique_common&gt;
      &lt;accessor count="24" source="#cubenormals-array-array" stride="3"&gt;
        &lt;param type="float" name="X"/&gt;
        &lt;param type="float" name="Y"/&gt;
        &lt;param type="float" name="Z"/&gt;
      &lt;/accessor&gt;
    &lt;/technique_common&gt;
  &lt;/source&gt;
  &lt;source id="cubeverts-array"&gt;
    &lt;float_array count="24" id="cubeverts-array-array"&gt;-50 50 50 50 50 50 -50 -50 50 50 -50 50 -50 50 -50 50 50 -50 -50 -50 -50 50 -50 -50&lt;/float_array&gt;
    &lt;technique_common&gt;
      &lt;accessor count="8" source="#cubeverts-array-array" stride="3"&gt;
        &lt;param type="float" name="X"/&gt;
        &lt;param type="float" name="Y"/&gt;
        &lt;param type="float" name="Z"/&gt;
      &lt;/accessor&gt;
    &lt;/technique_common&gt;
  &lt;/source&gt;
  &lt;vertices id="cubeverts-array-vertices"&gt;
    &lt;input source="#cubeverts-array" semantic="POSITION"/&gt;
  &lt;/vertices&gt;
  &lt;triangles count="12" material="materialref"&gt;
    &lt;input source="#cubenormals-array" semantic="NORMAL" offset="1"/&gt;
    &lt;input source="#cubeverts-array-vertices" semantic="VERTEX" offset="0"/&gt;
    &lt;p&gt;0 0 2 1 3 2 0 0 3 2 1 3 0 4 1 5 5 6 0 4 5 6 4 7 6 8 7 9 3 10 6 8 3 10 2 11 0 12 4 13 6 14 0 12 6 14 2 15 3 16 7 17 5 18 3 16 5 18 1 19 5 20 7 21 6 22 5 20 6 22 4 23&lt;/p&gt;
  &lt;/triangles&gt;
&lt;/mesh&gt;</pre>
</div>
<div class="highlight-python"><pre>In [36]: mesh.geometries[0].__class__
Out[36]: collada.geometry.Geometry

In [37]: geom = mesh.geometries[0]

In [38]: geom.
geom.bind               geom.createLineSet      geom.createPolylist     geom.double_sided       geom.load               geom.primitives         geom.sourceById
geom.collada            geom.createPolygons     geom.createTriangleSet  geom.id                 geom.name               geom.save               geom.xmlnode

In [39]: geom.primitives
Out[39]: [&lt;TriangleSet length=12&gt;]

In [40]: geom.primitives[0]
Out[40]: &lt;TriangleSet length=12&gt;

In [41]: geom.primitives[0][0]
Out[41]: &lt;Triangle ([-50.  50.  50.], [-50. -50.  50.], [ 50. -50.  50.], "materialref")&gt;

In [42]: geom.primitives[0][-1]
Out[42]: &lt;Triangle ([ 50.  50. -50.], [-50. -50. -50.], [-50.  50. -50.], "materialref")&gt;</pre>
</div>
</div>
<div class="section" id="triangles-trifans-tristrips">
<h2><a class="toc-backref" href="#id14">triangles/trifans/tristrips</a><a class="headerlink" href="#triangles-trifans-tristrips" title="Permalink to this headline">¶</a></h2>
<p>For all of them,</p>
<ul class="simple">
<li>Each triangle described by the mesh has three vertices.</li>
<li>The first triangle is formed from the first, second, and third vertices.</li>
</ul>
<dl class="docutils">
<dt>triangles</dt>
<dd>The second triangle is formed from the fourth, fifth, and sixth vertices, and so on.</dd>
<dt>trifans</dt>
<dd>Each subsequent triangle is formed from the current vertex, reusing the first and the previous vertices.</dd>
<dt>tristrips</dt>
<dd>Each subsequent triangle is formed from the current vertex, reusing the previous two vertices.</dd>
</dl>
</div>
<div class="section" id="triangles">
<h2><a class="toc-backref" href="#id15">triangles</a><a class="headerlink" href="#triangles" title="Permalink to this headline">¶</a></h2>
<p>The <em>p</em> (stands for <strong>primitive</strong>) element index values indicate the order in which the input values are used.</p>
<p>The indices in a <em>p</em> element refer to different inputs depending on their order.
The first index in a <em>p</em> element refers to all inputs with an offset of 0.
The second index refers to all inputs with an offset of 1.
Each vertex of the triangle is made up of one index into each input.
After each input is used, the next index again refers to the inputs with
offset of 0 and begins a new vertex.</p>
<p>The winding order of vertices produced is counterclockwise and describes the front side of each triangle.
If the primitives are assembled without vertex normals then the application may generate per-primitive
normals to enable lighting.</p>
<div class="highlight-python"><pre>&lt;mesh&gt;
  &lt;source id="position"/&gt;
  &lt;source id="normal"/&gt;
  &lt;vertices id="verts"&gt;
    &lt;input semantic="POSITION" source="#position"/&gt;
  &lt;/vertices&gt;
  &lt;triangles count="2" material="Bricks"&gt;
    &lt;input semantic="VERTEX" source="#verts" offset="0"/&gt;
    &lt;input semantic="NORMAL" source="#normal" offset="1"/&gt;
    &lt;p&gt;
      0 0  1 3  2 1
      0 0  2 1  3 2
     &lt;/p&gt;
  &lt;/triangles&gt;
&lt;/mesh&gt;</pre>
</div>
</div>
<div class="section" id="instance-geometry">
<h2><a class="toc-backref" href="#id16">instance_geometry</a><a class="headerlink" href="#instance-geometry" title="Permalink to this headline">¶</a></h2>
<p>Child elements: <em>bind_material</em> and <em>extra</em></p>
<p>The binding of the geometry to material happens at <em>instance_geometry</em> allowing the
same geometry to be bound to different materials.</p>
<p>The <em>extra</em> can provides arbitrary additional information.</p>
<div class="highlight-python"><pre>&lt;library_visual_scenes&gt;
  &lt;visual_scene id="myscene"&gt;
    &lt;node name="node0" id="node0"&gt;
      &lt;instance_geometry url="#geometry0"&gt;
        &lt;bind_material&gt;
          &lt;technique_common&gt;
            &lt;instance_material symbol="materialref" target="#material0"/&gt;
          &lt;/technique_common&gt;
        &lt;/bind_material&gt;
      &lt;/instance_geometry&gt;
    &lt;/node&gt;
  &lt;/visual_scene&gt;
&lt;/library_visual_scenes&gt;</pre>
</div>
<div class="highlight-python"><pre>&lt;library_geometries&gt;
  &lt;geometry id="cube"/&gt;
&lt;/library_geometries&gt;
&lt;node&gt;
  &lt;node&gt;
    &lt;translate&gt;11.0 12.0 13.0&lt;/translate&gt;
    &lt;instance_geometry url="#cube"/&gt;
  &lt;/node&gt;
&lt;/node&gt;</pre>
</div>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id17">instance_node</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="sidebar">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../collada_viewer/" title="Collada Viewers"
             >next</a> |</li>
        <li class="right" >
          <a href="../collada_intro/" title="Collada Intro"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >Graphics</a> &raquo;</li>
          <li><a href="../" >collada</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>