<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Meshlab Building &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../../" />
    <link rel="up" title="meshlab" href="../" />
    <link rel="next" title="Meshlab Plugins" href="../meshlabplugins/" />
    <link rel="prev" title="Meshlab" href="../meshlab_functions/" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../meshlabplugins/" title="Meshlab Plugins"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../meshlab_functions/" title="Meshlab"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >Graphics</a> &raquo;</li>
          <li><a href="../" accesskey="U">meshlab</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scm/">SCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trac/">Trac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pycuda/">pycuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../geant4/">geant4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../llvm/">llvm</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Graphics</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../">meshlab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../collada/">collada</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cgal/">CGAL Computational Geometry Algorithms Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mesh/">mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vrml/">vrml</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../opengl/">opengl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../transformations/">transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panda3d/">panda3d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pipeline/">pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../math/">math</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../glumpy/">glumpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scenekit/">scenekit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pyopengl/">pyopengl</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../javascript/">javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nuwa/">nuwa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hg/">hg</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/graphics/meshlab/meshlab_build.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../meshlab_functions/"
                        title="previous chapter">Meshlab</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../meshlabplugins/"
                        title="next chapter">Meshlab Plugins</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="meshlab-building">
<h1>Meshlab Building<a class="headerlink" href="#meshlab-building" title="Permalink to this headline">¶</a></h1>
<div class="section" id="links">
<h2>Links<a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h2>
<p>Code</p>
<ul class="simple">
<li><a class="reference external" href="http://svn.code.sf.net/p/meshlab/code/trunk/meshlab/">http://svn.code.sf.net/p/meshlab/code/trunk/meshlab/</a></li>
<li><a class="reference external" href="http://svn.code.sf.net/p/vcg/code/trunk/vcglib/">http://svn.code.sf.net/p/vcg/code/trunk/vcglib/</a></li>
<li><a class="reference external" href="http://svn.code.sf.net/p/vcg/code/trunk/vcglib/wrap/io_trimesh/">http://svn.code.sf.net/p/vcg/code/trunk/vcglib/wrap/io_trimesh/</a></li>
</ul>
<p>Forum</p>
<ul class="simple">
<li><a class="reference external" href="http://sourceforge.net/p/meshlab/discussion/499533">http://sourceforge.net/p/meshlab/discussion/499533</a></li>
</ul>
<p>Other</p>
<ul class="simple">
<li><a class="reference external" href="http://meshlabstuff.blogspot.tw/">http://meshlabstuff.blogspot.tw/</a></li>
<li><a class="reference external" href="https://itunes.apple.com/us/app/meshlab-for-ios/id451944013">https://itunes.apple.com/us/app/meshlab-for-ios/id451944013</a></li>
<li><a class="reference external" href="http://www.meshpad.org/">http://www.meshpad.org/</a></li>
</ul>
</div>
<div class="section" id="pre-requisites">
<h2>Pre-requisites<a class="headerlink" href="#pre-requisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://meshlab.sourceforge.net/wiki/index.php/Compiling">http://meshlab.sourceforge.net/wiki/index.php/Compiling</a></li>
<li>Qt 4.8 (note that Qt 4.7 are required, Qt versions &lt; 4.7 could not compile).
Current version of MeshLab compiles well against Qt 4.7.4.</li>
</ul>
</div>
<div class="section" id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>From</p>
<ul class="simple">
<li><a class="reference external" href="http://sourceforge.net/projects/meshlab/files/meshlab/">http://sourceforge.net/projects/meshlab/files/meshlab/</a>  v132 dates from 2012-08-03</li>
<li></li>
</ul>
<div class="highlight-python"><pre>mv ~/Downloads/MeshLabSrc_AllInc_v132.tar .   ## WARNING : exploding tarball</pre>
</div>
<p>Tarball explodes to create the below:</p>
<div class="highlight-python"><pre>simon:meshlab blyth$ l
total 94552
drwxr-xr-x@ 7 blyth  wheel       238 22 Aug 13:16 vcglib
drwxr-xr-x@ 3 blyth  wheel       102 22 Aug 13:15 meshlab
-rw-r--r--@ 1 blyth  staff  48404480 22 Aug 13:07 MeshLabSrc_AllInc_v132.tar
-rw-r--r--@ 1 blyth  wheel       150  3 Aug  2012 how_to_compile.txt
simon:meshlab blyth$ pwd
/usr/local/env/graphics/mesh/graphics/meshlab</pre>
</div>
</div>
<div class="section" id="g-build">
<h2>G Build<a class="headerlink" href="#g-build" title="Permalink to this headline">¶</a></h2>
<p>Following</p>
<ul class="simple">
<li><a class="reference external" href="http://sourceforge.net/apps/mediawiki/meshlab/index.php?title=Compiling">http://sourceforge.net/apps/mediawiki/meshlab/index.php?title=Compiling</a></li>
<li><a class="reference external" href="http://www.sentex.net/~mwandel/jhead/">http://www.sentex.net/~mwandel/jhead/</a><ul>
<li>jpeg metadata extractor ? why is that <tt class="docutils literal"><span class="pre">absolutely</span> <span class="pre">required</span></tt></li>
</ul>
</li>
</ul>
<div class="highlight-python"><pre>simon:meshlab blyth$ qmake -v
QMake version 2.01a
Using Qt version 4.8.5 in /opt/local/lib
simon:meshlab blyth$
simon:meshlab blyth$ pwd
/usr/local/env/graphics/meshlab
simon:meshlab blyth$ find . -name '*.pro'    # look for qmake project files
./meshlab/src/common/common.pro
./meshlab/src/external/ann_1.1.1/ANN.pro
./meshlab/src/external/bzip2-1.0.5/bzip2-1.0.5.pro
./meshlab/src/external/external.pro
./meshlab/src/external/jhead-2.95/jhead-2.95.pro
./meshlab/src/external/levmar-2.3/levmar-2.3.pro
./meshlab/src/external/lib3ds-1.3.0/lib3ds/lib3ds.pro
...
simon:meshlab blyth$ find . -name '*.pro' | wc -l
     179

simon:meshlab blyth$ find . -name external.pro
./meshlab/src/external/external.pro
simon:meshlab blyth$ vi meshlab/src/external/external.pro
simon:meshlab blyth$ cat  meshlab/src/external/external.pro
config += debug_and_release

TEMPLATE      = subdirs

SUBDIRS       = lib3ds-1.3.0/lib3ds \
                bzip2-1.0.5/bzip2-1.0.5.pro \
                muparser_v132/src \
                levmar-2.3/levmar-2.3.pro \
                structuresynth/structuresynth.pro \
                                OpenCTM-1.0.3/openctm.pro \
                jhead-2.95/jhead-2.95.pro
#                openkinect/openkinect.pro
simon:meshlab blyth$</pre>
</div>
</div>
<div class="section" id="externals">
<h2>EXTERNALS<a class="headerlink" href="#externals" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>simon:external blyth$ qmake -recursive external.pro
...
simon:external blyth$ find . -name Makefile
./lib3ds-1.3.0/lib3ds/Makefile
./Makefile
./muparser_v132/src/Makefile</pre>
</div>
<ul class="simple">
<li><a class="reference external" href="http://svn.code.sf.net/p/meshlab/code/trunk/meshlab/src/external/lib/macx32/">http://svn.code.sf.net/p/meshlab/code/trunk/meshlab/src/external/lib/macx32/</a><ul>
<li>hmm static libs in SVN ?</li>
</ul>
</li>
</ul>
<p>After <tt class="docutils literal"><span class="pre">make</span></tt>:</p>
<div class="highlight-python"><pre>simon:external blyth$ l lib/macx/
total 3616
-rw-r--r--  1 blyth  wheel   75976 18 Nov 11:48 libjhead.a
-rw-r--r--  1 blyth  wheel   82272 18 Nov 11:48 libopenctm.a
-rw-r--r--  1 blyth  wheel  755532 18 Nov 11:48 libssynth.a
-rw-r--r--  1 blyth  wheel   60528 18 Nov 11:39 liblevmar.a
-rw-r--r--  1 blyth  wheel  584540 18 Nov 11:39 libmuparser.a
-rw-r--r--  1 blyth  wheel  131748 18 Nov 11:37 libbz2.a
-rw-r--r--  1 blyth  wheel  146872 18 Nov 11:37 lib3ds.a</pre>
</div>
<div class="section" id="n-structuresynth-externals-issue">
<h3>N structuresynth externals issue<a class="headerlink" href="#n-structuresynth-externals-issue" title="Permalink to this headline">¶</a></h3>
<p>qt4 version on N, too old for requirements:</p>
<div class="highlight-python"><pre>Qt 4.8 (note that Qt 4.7 are required, Qt versions &lt; 4.7 could not compile). Current version of MeshLab compiles well against Qt 4.7.4.</pre>
</div>
<div class="highlight-python"><pre>make[1]: Entering directory `/data1/env/local/env/graphics/meshlab/meshlab/src/external/structuresynth'
...
ssynth/StructureSynth/Model/../../SyntopiaCore/GLEngine/EngineWidget.h:176: error: ISO C++ forbids declaration of 'QGLShaderProgram' with no type
ssynth/StructureSynth/Model/../../SyntopiaCore/GLEngine/EngineWidget.h:176: error: expected ';' before '*' token
make[1]: Leaving directory `/data1/env/local/env/graphics/meshlab/meshlab/src/external/structuresynth'
[blyth@belle7 external]$</pre>
</div>
<p>Commenting structuresync in the <tt class="docutils literal"><span class="pre">external.pro</span></tt> completes the other externals.</p>
</div>
</div>
<div class="section" id="belle7-qt4-too-old">
<h2>Belle7 Qt4 too old<a class="headerlink" href="#belle7-qt4-too-old" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>[blyth@belle7 external]$ qmake -version
QMake version 2.01a
Using Qt version 4.2.1 in /usr/lib/qt4/lib

[blyth@belle7 src]$ meshlab-qmake
meshlab-qmake is a function
meshlab-qmake ()
{
    type $FUNCNAME;
    meshlab-cd;
    qmake -recursive $(meshlab-config);
    case $NODE_TAG in
        G)
            qt4-kludge
        ;;
    esac
}

Reading /data1/env/local/env/graphics/meshlab/meshlab/src/common/common.pro
Reading /data1/env/local/env/graphics/meshlab/meshlab/src/meshlab/meshlab.pro
uic: File generated with too old version of Qt Designer
uic: File generated with too old version of Qt Designer
uic: File generated with too old version of Qt Designer
uic: File generated with too old version of Qt Designer
uic: File generated with too old version of Qt Designer
uic: File generated with too old version of Qt Designer
Reading /data1/env/local/env/graphics/meshlab/meshlab/src/meshlabplugins/io_base/io_base.pro
Reading /data1/env/local/env/graphics/meshlab/meshlab/src/meshlabplugins/filter_meshing/filter_meshing.pro</pre>
</div>
<p>Even the non-GUI meshlabserver fails:</p>
<div class="highlight-python"><pre>[blyth@belle7 meshlabserver]$ make
g++ -c -pipe -O2 -Wall -W -D_REENTRANT  -DQT_NO_DEBUG -DQT_XML_LIB -DQT_OPENGL_LIB -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/lib/qt4/mkspecs/linux-g++ -I. -I/usr/lib/qt4/include/QtCore -I/usr/lib/qt4/include/QtCore -I/usr/lib/qt4/include/QtGui -I/usr/lib/qt4/include/QtGui -I/usr/lib/qt4/include/QtOpenGL -I/usr/lib/qt4/include/QtOpenGL -I/usr/lib/qt4/include/QtXml -I/usr/lib/qt4/include/QtXml -I/usr/lib/qt4/include -I. -I.. -I../../../vcglib -I../external/glew-1.5.1/include -I. -I. -o mainserver.o mainserver.cpp
In file included from ../common/interfaces.h:38,
                 from mainserver.cpp:25:
../common/scriptinterface.h:27:20: error: QtScript: No such file or directory
In file included from ../common/scriptinterface.h:29,
                 from ../common/interfaces.h:38,
                 from mainserver.cpp:25:
../common/xmlfilterinfo.h:5:48: error: QtXmlPatterns/QAbstractMessageHandler: No such file or directory
../common/xmlfilterinfo.h:6:36: error: QtXmlPatterns/QXmlSchema: No such file or directory
../common/xmlfilterinfo.h:7:45: error: QtXmlPatterns/QXmlSchemaValidator: No such file or directory</pre>
</div>
</div>
<div class="section" id="meshlab-mini">
<h2>Meshlab mini<a class="headerlink" href="#meshlab-mini" title="Permalink to this headline">¶</a></h2>
<div class="section" id="qmake-trying-to-use-clang">
<h3>qmake trying to use clang++<a class="headerlink" href="#qmake-trying-to-use-clang" title="Permalink to this headline">¶</a></h3>
<p>And it refuses to be overridden on cmdline:</p>
<div class="highlight-python"><pre>simon:src blyth$ qmake -recursive meshlab_mini.pro
simon:src blyth$ make
cd common/ &amp;&amp; make -f Makefile
...
make[1]: clang++: Command not found</pre>
</div>
<p>qmake generated src/common/Makefile:</p>
<div class="highlight-python"><pre>11 CC            = /usr/bin/gcc-4.2
12 CXX           = clang++</pre>
</div>
</div>
<div class="section" id="qmake-cxx-sticks-to-clang-despite-spec-settings">
<h3>qmake CXX sticks to clang++ despite spec settings<a class="headerlink" href="#qmake-cxx-sticks-to-clang-despite-spec-settings" title="Permalink to this headline">¶</a></h3>
<p>Default:</p>
<div class="highlight-python"><pre>6 # Command: /opt/local/bin/qmake -o Makefile common.pro
...
11 CC            = /usr/bin/gcc-4.2
12 CXX           = clang++</pre>
</div>
<p><tt class="docutils literal"><span class="pre">qmake</span> <span class="pre">-spec</span> <span class="pre">macx-g++40</span></tt>:</p>
<div class="highlight-python"><pre>6 # Command: /opt/local/bin/qmake -spec /opt/local/share/qt4/mkspecs/macx-g++40 -o Makefile common.pro
...
11 CC            = gcc-4.0
12 CXX           = clang++</pre>
</div>
<p>See details in <em>qt4-</em>.</p>
</div>
<div class="section" id="qmake-workaround-inplace-edit-the-makefiles">
<h3>qmake workaround, inplace edit the Makefiles<a class="headerlink" href="#qmake-workaround-inplace-edit-the-makefiles" title="Permalink to this headline">¶</a></h3>
<p>The macports Portfile is a mess, so just kludge it:</p>
<div class="highlight-python"><pre>simon:src blyth$ qmake -recursive meshlab_mini.pro
simon:src blyth$ find . -name Makefile -exec perl -pi -e 's,clang,g,g' {} \;     ## now in qt4-kludge
simon:src blyth$ open distrib/meshlab.app</pre>
</div>
</div>
</div>
<div class="section" id="launch-crash">
<h2>launch crash<a class="headerlink" href="#launch-crash" title="Permalink to this headline">¶</a></h2>
<p>From the report:</p>
<div class="highlight-python"><pre>Date/Time:       2013-11-18 13:38:02.081 +0800
OS Version:      Mac OS X 10.5.8 (9L31a)
Report Version:  6
Anonymous UUID:  0AEE87B7-11A3-4A84-B851-87CA48233147

Exception Type:  EXC_CRASH (SIGABRT)
Exception Codes: 0x0000000000000000, 0x0000000000000000
Crashed Thread:  0

Thread 0 Crashed:
0   libSystem.B.dylib               0x957659f0 __kill + 12
1   libSystem.B.dylib               0x95800bf8 abort + 84
2   libstdc++.6.dylib               0x91c4de24 __gnu_cxx::__verbose_terminate_handler() + 400
3   libstdc++.6.dylib               0x91c4b940 __gxx_personality_v0 + 1240
4   libstdc++.6.dylib               0x91c4b9a4 std::terminate() + 68
5   libstdc++.6.dylib               0x91c4bbe4 __cxa_throw + 124
6   libcommon.1.dylib               0x00244fa4 PluginManager::loadXMLPlugin(QString const&amp;) + 3380
7   libcommon.1.dylib               0x00247090 PluginManager::loadPlugins(RichParameterSet&amp;) + 2496
8   meshlab                         0x000161b8 MainWindow::MainWindow() + 920
9   meshlab                         0x00006b98 main + 920
10  meshlab                         0x00005a00 start + 64</pre>
</div>
<div class="highlight-python"><pre>simon:MacOS blyth$ pwd
/usr/local/env/graphics/meshlab/meshlab/src/distrib/meshlab.app/Contents/MacOS
simon:MacOS blyth$ otool -L meshlab
meshlab:
        @executable_path/libcommon.1.dylib (compatibility version 1.0.0, current version 1.0.0)
        /opt/local/Library/Frameworks/QtScript.framework/Versions/4/QtScript (compatibility version 4.8.0, current version 4.8.5)
        /opt/local/Library/Frameworks/QtCore.framework/Versions/4/QtCore (compatibility version 4.8.0, current version 4.8.5)
        /opt/local/Library/Frameworks/QtXmlPatterns.framework/Versions/4/QtXmlPatterns (compatibility version 4.8.0, current version 4.8.5)
        /opt/local/Library/Frameworks/QtNetwork.framework/Versions/4/QtNetwork (compatibility version 4.8.0, current version 4.8.5)
        /opt/local/Library/Frameworks/QtXml.framework/Versions/4/QtXml (compatibility version 4.8.0, current version 4.8.5)
        /opt/local/Library/Frameworks/QtOpenGL.framework/Versions/4/QtOpenGL (compatibility version 4.8.0, current version 4.8.5)
        /opt/local/Library/Frameworks/QtGui.framework/Versions/4/QtGui (compatibility version 4.8.0, current version 4.8.5)
        /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL (compatibility version 1.0.0, current version 1.0.0)
        /System/Library/Frameworks/AGL.framework/Versions/A/AGL (compatibility version 1.0.0, current version 1.0.0)
        /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.4.0)
        /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)
        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.7)
simon:MacOS blyth$
simon:MacOS blyth$ gdb meshlab
GNU gdb 6.3.50-20050815 (Apple version gdb-967) (Tue Jul 14 02:15:14 UTC 2009)
Copyright 2004 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "powerpc-apple-darwin"...Reading symbols for shared libraries .............. done

(gdb) r
Starting program: /usr/local/env/graphics/meshlab/meshlab/src/distrib/meshlab.app/Contents/MacOS/meshlab
...
Reading symbols for shared libraries ... done
The base dir is /usr/local/env/graphics/meshlab/meshlab/src/distrib
The base dir is /usr/local/env/graphics/meshlab/meshlab/src/distrib
The base dir is /usr/local/env/graphics/meshlab/meshlab/src/distrib
Current Plugins Dir is: /usr/local/env/graphics/meshlab/meshlab/src/distrib/plugins
Reading symbols for shared libraries .. done
terminate called after throwing an instance of 'MeshLabXMLParsingException'
  what():  Error While parsing the XML filter plugin descriptors: We are trying to load a xml file that does not correspond to any dll or javascript code; please delete all the spurious xml files

Program received signal SIGABRT, Aborted.
0x957659f0 in __kill ()

(gdb) bt
#0  0x957659f0 in __kill ()
#1  0x95800bfc in abort ()
#2  0x91c4de28 in __gnu_cxx::__verbose_terminate_handler ()
#3  0x91c4b944 in __gxx_personality_v0 ()
#4  0x91c4b9a8 in std::terminate ()
#5  0x91c4bbe8 in __cxa_throw ()
#6  0x00244fa8 in PluginManager::loadXMLPlugin ()
#7  0x00247094 in PluginManager::loadPlugins ()
#8  0x000161bc in MainWindow::MainWindow ()
#9  0x00006b9c in main ()
(gdb)</pre>
</div>
<p>Adding some debug, for XML loading find the file that causes the choke, its valid xml:</p>
<div class="highlight-python"><pre>xmllint  --pretty 1 /usr/local/env/graphics/meshlab/meshlab/src/distrib/plugins/filter_measure.xml</pre>
</div>
<p>Problem is an xml plugin file without corresponding dylib.
Uncomment the subdir for that in meshlab_mini.pro, qmake, clang-kludge, make.
Same story for filter_mutualinfoxml.</p>
<p>Now can bring up the GUI, but no collada import. Add that plugin.
Did g4_00.dae collada import from a gdb run.
Observe that every face imported is being logged.
Thats going to slowdown import substantially!</p>
<p>30 min to load:</p>
<div class="highlight-python"><pre>LOG: 0 Opened mesh /usr/local/env/geant4/geometry/gdml/gdml_dae_wrl/g4_00.dae in 1827120 msec
LOG: 0 All files opened in 1835861 msec</pre>
</div>
<p>Snapshot directory &#8221;.&#8221; goes into the same dir as the mesh:</p>
<div class="highlight-python"><pre>simon:io_collada blyth$ cd  /usr/local/env/geant4/geometry/gdml/gdml_dae_wrl/
simon:gdml_dae_wrl blyth$ open  snapshot00.png</pre>
</div>
<p>TODO</p>
<ol class="arabic simple">
<li>find out about qt logging and how to switch it off : for faster collada loading</li>
</ol>
</div>
<div class="section" id="x3d-plugin">
<h2>X3D PLUGIN<a class="headerlink" href="#x3d-plugin" title="Permalink to this headline">¶</a></h2>
<p>Compiled it but no show in dialog ? Added debug to common/pluginmanager.cpp:</p>
<div class="highlight-python"><pre>checking: /usr/local/env/graphics/meshlab/meshlab/src/distrib/plugins/libio_x3d.dylib
Attempt pluginLoad: /usr/local/env/graphics/meshlab/meshlab/src/distrib/plugins/libio_x3d.dylib
pluginLoad failed: /usr/local/env/graphics/meshlab/meshlab/src/distrib/plugins/libio_x3d.dylib</pre>
</div>
<p>A recompilation fixes the plugin load:</p>
<div class="highlight-python"><pre>checking: /usr/local/env/graphics/meshlab/meshlab/src/distrib/plugins/libio_x3d.dylib
Attempt pluginLoad: /usr/local/env/graphics/meshlab/meshlab/src/distrib/plugins/libio_x3d.dylib
io pluginLoad: /usr/local/env/graphics/meshlab/meshlab/src/distrib/plugins/libio_x3d.dylib</pre>
</div>
<p>From the source, VRML gets translated into X3D first.</p>
<div class="highlight-python"><pre>simon:meshlab blyth$ find . -name '*.cpp' -exec grep -H VRML {} \;
./meshlab/src/meshlabplugins/io_base/baseio.cpp:        formatList &lt;&lt; Format("VRML File Format"                                                 , tr("WRL"));
./meshlab/src/meshlabplugins/io_x3d/io_x3d.cpp: formatList &lt;&lt; Format("X3D File Format - VRML encoding", tr("X3DV"));
./meshlab/src/meshlabplugins/io_x3d/io_x3d.cpp: formatList &lt;&lt; Format("VRML 2.0 File Format", tr("WRL"));
./meshlab/src/meshlabplugins/io_x3d/vrml/Parser.cpp:                    case 9: s = coco_string_create(L"\"VRML\" expected"); break;
./meshlab/src/meshlabplugins/io_x3d/vrml/Scanner.cpp:   keywords.set(L"VRML", 9);</pre>
</div>
</div>
<div class="section" id="osx-gui-app-issue">
<h2>OSX GUI APP ISSUE<a class="headerlink" href="#osx-gui-app-issue" title="Permalink to this headline">¶</a></h2>
<p>When launched in a GUI manner or with open the plugins are not found, so no DAE or WRL loading.
But the plugins are found when started in commandline way, and you get easy visibility to console:</p>
<div class="highlight-python"><pre>simon:MacOS blyth$ ./meshlab</pre>
</div>
</div>
<div class="section" id="meshlab-window-title-meshlab-v1-3-2-64bit">
<h2>MESHLAB WINDOW TITLE  MeshLab v1.3.2_64bit<a class="headerlink" href="#meshlab-window-title-meshlab-v1-3-2-64bit" title="Permalink to this headline">¶</a></h2>
<p>Why the misnomer, are there large speedup factors to be had ?</p>
</div>
<div class="section" id="disable-verbose-logging-for-collada-import">
<h2>DISABLE VERBOSE LOGGING FOR COLLADA IMPORT<a class="headerlink" href="#disable-verbose-logging-for-collada-import" title="Permalink to this headline">¶</a></h2>
<p>/usr/local/env/graphics/meshlab/vcglib/wrap/io_trimesh/import_dae.h:</p>
<div class="highlight-python"><pre>24 #ifndef __VCGLIB_IMPORTERDAE
25 #define __VCGLIB_IMPORTERDAE
26
27 //importer for collada's files
28
29 #include &lt;wrap/dae/util_dae.h&gt;
30
31 // uncomment one of the following line to enable the Verbose debugging for the parsing
32 #define QDEBUG if(1) ; else {assert(0);}
33 //#define QDEBUG qDebug
34</pre>
</div>
<div class="sidebar">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../meshlabplugins/" title="Meshlab Plugins"
             >next</a> |</li>
        <li class="right" >
          <a href="../meshlab_functions/" title="Meshlab"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >Graphics</a> &raquo;</li>
          <li><a href="../" >meshlab</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>