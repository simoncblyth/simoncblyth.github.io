<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Planning Geant4 Collada Exporter &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../../../" />
    <link rel="up" title="Geant4 Geometry in Collada" href="../" />
    <link rel="next" title="XMLDAE : raw G4DAE node structure" href="../xmldae/" />
    <link rel="prev" title="DAE TOOLS" href="../tools/" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../xmldae/" title="XMLDAE : raw G4DAE node structure"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../tools/" title="DAE TOOLS"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../../" >geant4</a> &raquo;</li>
          <li><a href="../../" >Geant4 Geometry Export</a> &raquo;</li>
          <li><a href="../" accesskey="U">Geant4 Geometry in Collada</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scm/">SCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../trac/">Trac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pycuda/">pycuda</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../">geant4</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../release_notes/">Geant4 Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_gpu/">Geant4 GPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_profiling/">Geant4 Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../release_notes/">Geant4 Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../verbosity/">Verbosity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../docs/">Geant4 Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../giga/">GiGa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/">Geant4 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../opticalphoton/">Geant4 Optical Photon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../processes/">Geant4 Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../medical/">Medical Communities Using Geant4 (esp. optical photon)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../">Geant4 Geometry Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../g4py/">g4py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nuwa/">nuwa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../event/">Geant4 Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_future_doe/">Geant4</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../llvm/">llvm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../graphics/">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../javascript/">javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nuwa/">nuwa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../hg/">hg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../simoncblyth.bitbucket.org/">simoncblyth.bitbucket.org</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../../_sources/geant4/geometry/collada/export.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../tools/"
                        title="previous chapter">DAE TOOLS</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../xmldae/"
                        title="next chapter">XMLDAE : raw G4DAE node structure</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="planning-geant4-collada-exporter">
<h1>Planning Geant4 Collada Exporter<a class="headerlink" href="#planning-geant4-collada-exporter" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#about-collada" id="id1">About Collada</a></li>
<li><a class="reference internal" href="#geant4-docs" id="id2">Geant4 docs</a></li>
<li><a class="reference internal" href="#how-to-implement" id="id3">How to implement ?</a></li>
<li><a class="reference internal" href="#triangulate-the-output-geometry" id="id4">Triangulate the output geometry ?</a></li>
<li><a class="reference internal" href="#collada-double-sided-faces" id="id5">Collada Double Sided Faces</a><ul>
<li><a class="reference internal" href="#sketchup-dae-exporter" id="id6">Sketchup DAE exporter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#xml-format" id="id7">XML format</a></li>
<li><a class="reference internal" href="#cadmesh-from-cad-files-into-geant4-g4tessellatedsolid" id="id8">CADMesh : From CAD files into Geant4 G4TessellatedSolid</a></li>
</ul>
</div>
<div class="section" id="about-collada">
<h2><a class="toc-backref" href="#id1">About Collada</a><a class="headerlink" href="#about-collada" title="Permalink to this headline">¶</a></h2>
<p>General Collada notes are in <a class="reference internal" href="../../../../graphics/collada/"><em>collada</em></a>
keep this area for Geant4 specifics related to Collada.</p>
</div>
<div class="section" id="geant4-docs">
<h2><a class="toc-backref" href="#id2">Geant4 docs</a><a class="headerlink" href="#geant4-docs" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://geant4.cern.ch/support/userdocuments.shtml">http://geant4.cern.ch/support/userdocuments.shtml</a></li>
<li><a class="reference external" href="http://www-geant4.kek.jp/Reference/">http://www-geant4.kek.jp/Reference/</a></li>
</ul>
</div>
<div class="section" id="how-to-implement">
<h2><a class="toc-backref" href="#id3">How to implement ?</a><a class="headerlink" href="#how-to-implement" title="Permalink to this headline">¶</a></h2>
<p>Adding collada library dependencies likely to be problematic for G4 inclusion,
nevertheless can learn from them the style of dae to aim for and generate
with XERCESC.</p>
<ul class="simple">
<li><a class="reference external" href="http://collada.org/mediawiki/index.php/Portal:COLLADA_DOM">http://collada.org/mediawiki/index.php/Portal:COLLADA_DOM</a></li>
<li><a class="reference external" href="https://github.com/sbarthelemy/collada-dom">https://github.com/sbarthelemy/collada-dom</a></li>
<li><a class="reference external" href="http://pycollada.github.io/creating.html">http://pycollada.github.io/creating.html</a></li>
</ul>
</div>
<div class="section" id="triangulate-the-output-geometry">
<h2><a class="toc-backref" href="#id4">Triangulate the output geometry ?</a><a class="headerlink" href="#triangulate-the-output-geometry" title="Permalink to this headline">¶</a></h2>
<p>Collada can express higher level shapes, however for
widest applicability it is probably better to triangulate at export
rather than relying on subsequent triangulation. Especially as
need to define in/out materials somehow.</p>
</div>
<div class="section" id="collada-double-sided-faces">
<h2><a class="toc-backref" href="#id5">Collada Double Sided Faces</a><a class="headerlink" href="#collada-double-sided-faces" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://www.google.com/search?q=collada double sided faces">google:collada double sided faces</a></li>
</ul>
<div class="section" id="sketchup-dae-exporter">
<h3><a class="toc-backref" href="#id6">Sketchup DAE exporter</a><a class="headerlink" href="#sketchup-dae-exporter" title="Permalink to this headline">¶</a></h3>
<p>The DAE exporter options of Sketchup are relevant:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.sketchup.com/">http://www.sketchup.com/</a></li>
<li><a class="reference external" href="http://en.wikipedia.org/wiki/SketchUp">http://en.wikipedia.org/wiki/SketchUp</a></li>
<li><a class="reference external" href="http://help.sketchup.com/de/article/140409">http://help.sketchup.com/de/article/140409</a></li>
</ul>
<p>The Export two-sided faces checkbox is used to export faces twice, once for
the front and once for the back. This option doubles the number of polygons in
the resulting DAE file and can slow down rendering. However, this option
ensures that your model will appear more like it appears in SketchUp. Both
faces will always render, and materials applied to front and back faces are
preserved. When this option is selected, SketchUp will weld the vertices of the
front faces together and the vertices of the back faces together.</p>
</div>
</div>
<div class="section" id="xml-format">
<h2><a class="toc-backref" href="#id7">XML format</a><a class="headerlink" href="#xml-format" title="Permalink to this headline">¶</a></h2>
<p>Borrow XML xercesc handling approach from GDML exporter.</p>
<ul class="simple">
<li><a class="reference external" href="http://xerces.apache.org/xerces-c/program-dom-2.html">http://xerces.apache.org/xerces-c/program-dom-2.html</a></li>
<li><a class="reference external" href="http://xerces.apache.org/xerces-c/apiDocs-3/classDOMImplementationRegistry.html">http://xerces.apache.org/xerces-c/apiDocs-3/classDOMImplementationRegistry.html</a></li>
</ul>
</div>
<div class="section" id="cadmesh-from-cad-files-into-geant4-g4tessellatedsolid">
<h2><a class="toc-backref" href="#id8">CADMesh : From CAD files into Geant4 G4TessellatedSolid</a><a class="headerlink" href="#cadmesh-from-cad-files-into-geant4-g4tessellatedsolid" title="Permalink to this headline">¶</a></h2>
<p>Opposite direction to what I am interested in, but illuminating nevertheless.</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/christopherpoole/CADMesh">https://github.com/christopherpoole/CADMesh</a></li>
<li><a class="reference external" href="http://christopherpoole.github.io/A-CAD-interface-for-GEANT4/">http://christopherpoole.github.io/A-CAD-interface-for-GEANT4/</a></li>
<li><a class="reference external" href="http://christopherpoole.github.io/static/pdfs/Poole%20et%20al.%20-%20A%20CAD%20interface%20for%20GEANT4.pdf">http://christopherpoole.github.io/static/pdfs/Poole%20et%20al.%20-%20A%20CAD%20interface%20for%20GEANT4.pdf</a></li>
</ul>
<p>The GEANT4 (version GEANT4.9.5 patch 1) geometry hierarchy is divided into
solids, logical volumes and physical volumes where solids describe shape, logical volumes
define material properties and mother-daughter relations, and physical volumes define
placement within the mother volume [7, 8]. The equivalent
GEANT4 solid to a BREP geometry is the tessellated solid (G4TessellatedSolid )
and has specific properties so as to enable correct geometry navigation by the
GEANT4 kernel.
In particular, the tessellated solid must describe a closed surface,
that is to say the boundary between the inside and outside of the solid is defined
for all points. Furthermore, all faces on this surface (whether they be triangular
or quadrangular faces), must not have coincident vertexes; for example a triangular
face must have exactly three unique vertexes thereby ensuring it has an
area greater than zero. When a face is added to the solid, the direction and order
of the vertexes must be anti-clockwise when the normal of the face is pointing towards
the inside of the volume; the GEANT4 navigator uses this convention when
it determines if a point is inside or outside of the tessellated solid. For tessellated
solids with face vertex order in the opposite direction, navigation errors may arise.
Additionally, boolean operations can not be performed with tessellated solids.</p>
<p>As common BREP CAD file formats and GEANT4 tessellated solids encode
a surface mesh in similar ways, a direct mapping can be achieved by iterating
over all of the faces in a BREP and adding them directly to the tessellated solid
in GEANT4. For a direct mapping to be effective however, vertexes and faces
defined in a BREP must be accessible in a common way that is independent
of the source file format. This common access to various CAD file formats is
achieved here using VCGLIB. Various custom types derived from VCGLIB base
classes may be defined so as to describe for example a stereo-lithography format
(STL) [1] or Stanford polygon file format (PLY) [6] mesh and the elements that
encode it, such as vertexes, edges and faces. Template parameters are used to...</p>
<div class="sidebar">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../xmldae/" title="XMLDAE : raw G4DAE node structure"
             >next</a> |</li>
        <li class="right" >
          <a href="../tools/" title="DAE TOOLS"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../../" >geant4</a> &raquo;</li>
          <li><a href="../../" >Geant4 Geometry Export</a> &raquo;</li>
          <li><a href="../" >Geant4 Geometry in Collada</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>