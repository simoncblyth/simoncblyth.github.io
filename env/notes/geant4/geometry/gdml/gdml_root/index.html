<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>GDML from ROOT &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../../../" />
    <link rel="up" title="GDML" href="../" />
    <link rel="next" title="GDML from Geant4Py" href="../gdml_g4py/" />
    <link rel="prev" title="GDML Examination" href="../gdml_examine/" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../gdml_g4py/" title="GDML from Geant4Py"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../gdml_examine/" title="GDML Examination"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../../" >geant4</a> &raquo;</li>
          <li><a href="../../" >Geant4 Geometry Export</a> &raquo;</li>
          <li><a href="../" accesskey="U">GDML</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scm/">SCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../trac/">Trac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pycuda/">pycuda</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../">geant4</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../release_notes/">Geant4 Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_gpu/">Geant4 GPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_profiling/">Geant4 Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../release_notes/">Geant4 Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../verbosity/">Verbosity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../docs/">Geant4 Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../giga/">GiGa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/">Geant4 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../opticalphoton/">Geant4 Optical Photon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../processes/">Geant4 Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../medical/">Medical Communities Using Geant4 (esp. optical photon)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../">Geant4 Geometry Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../g4py/">g4py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nuwa/">nuwa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../event/">Geant4 Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_future_doe/">Geant4</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../llvm/">llvm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../graphics/">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../javascript/">javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nuwa/">nuwa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../hg/">hg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../simoncblyth.bitbucket.org/">simoncblyth.bitbucket.org</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../../_sources/geant4/geometry/gdml/gdml_root.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../gdml_examine/"
                        title="previous chapter">GDML Examination</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../gdml_g4py/"
                        title="next chapter">GDML from Geant4Py</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="gdml-from-root">
<span id="gdml-root"></span><h1>GDML from ROOT<a class="headerlink" href="#gdml-from-root" title="Permalink to this headline">¶</a></h1>
<div class="section" id="not-enabled-by-default">
<h2>Not enabled by default<a class="headerlink" href="#not-enabled-by-default" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>root [1] TGeoManager::Import("/data1/env/local/env/geant4/geometry/gdml/g4_01.gdml")
Info in &lt;TGeoManager::Import&gt;: Reading geometry from file: /data1/env/local/env/geant4/geometry/gdml/g4_01.gdml
Error: Function StartGDML("/data1/env/local/env/geant4/geometry/gdml/g4_01.gdml") is not defined in current scope  (tmpfile):1:
*** Interpreter error recovered ***
Error in &lt;TGeoManager::Import&gt;: Cannot open file
(class TGeoManager*)0x0
root [2]</pre>
</div>
</div>
<div class="section" id="rebuild-root">
<h2>rebuild root<a class="headerlink" href="#rebuild-root" title="Permalink to this headline">¶</a></h2>
<p>The dybinst externals order has ROOT before geant4, so cannot depend on
G4 includes for the standard ROOT build.
BUT checking <cite>geom/gdml/inc/TGDMLParse.h</cite> seems to be no G4 dependency, thats good.</p>
<p>Check for anything non-standard with the ROOT build:</p>
<div class="highlight-python"><pre>[blyth@belle7 ROOT]$ cd $DYB/NuWa-trunk/lcgcmt/LCG_Builders/ROOT
[blyth@belle7 ROOT]$ grep do_configure scripts/ROOT_config.sh
do_configure ${LCG_ROOT_CONFIG_ARCH} ${LCG_ROOT_CONFIG_OPTIONS}

[blyth@belle7 ROOT]$ cd $DYB/NuWa-trunk/lcgcmt/LCG_Builders/geant4</pre>
</div>
<p>A lot, but not GDML:</p>
<div class="highlight-python"><pre>cd $DYB/external/build/LCG/root
./configure ${LCG_ROOT_CONFIG_ARCH} ${LCG_ROOT_CONFIG_OPTIONS} --enable-gdml</pre>
</div>
<div class="highlight-python"><pre>[blyth@belle7 root]$ vi geom/gdml/inc/TGDMLParse.h
[blyth@belle7 root]$ make install
Installing binaries in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/bin
Installing libraries in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/lib
Installing headers in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/include
Installing main/src/rmain.cxx in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/include
Installing cint/cint/include cint/cint/lib and cint/cint/stl in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/cint
Installing icons in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/icons
Installing fonts in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/fonts
Installing misc docs in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root
Installing tutorials in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/tutorials
Installing tests in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/test
Installing macros in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/macros
Installing man(1) pages in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/man/man1
Installing config files in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/etc
Installing Autoconf macro in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/build/misc
Installing Emacs Lisp library in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/build/misc
Installing GDML conversion scripts in /data1/env/local/dyb/NuWa-trunk/../external/ROOT/5.26.00e/i686-slc5-gcc41-dbg/root/lib
[blyth@belle7 root]$</pre>
</div>
</div>
<div class="section" id="test-gdml-load-into-root">
<h2>test GDML load into ROOT<a class="headerlink" href="#test-gdml-load-into-root" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>ROOT 5.26/00e (tags/v5-26-00e@36332, Oct 13 2010, 12:40:14 on linux)

CINT/ROOT C/C++ Interpreter version 5.17.00, Dec 21, 2008
Type ? for help. Commands must be C++ statements.
Enclose multiple statements between { }.
root [0]
root [0]  TGeoManager::Import("/data1/env/local/env/geant4/geometry/gdml/g4_01.gdml")
Info in &lt;TGeoManager::Import&gt;: Reading geometry from file: /data1/env/local/env/geant4/geometry/gdml/g4_01.gdml
Info in &lt;TGeoManager::TGeoManager&gt;: Geometry Geometry, default geometry created
Error: Unsupported GDML Tag Used :isotope. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :atom. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :fraction. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :isotope. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :atom. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :fraction. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :isotope. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :atom. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :fraction. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :isotope. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :atom. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :fraction. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :isotope. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :atom. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :fraction. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :isotope. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :atom. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :fraction. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :isotope. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :atom. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :fraction. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :isotope. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :atom. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :fraction. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :isotope. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :atom. Please Check Geometry/Schema.
Error: Unsupported GDML Tag Used :fraction. Please Check Geometry/Schema.
Info in &lt;TGeoManager::SetTopVolume&gt;: Top volume is World. Master volume is World
Info in &lt;TGeoManager::CheckGeometry&gt;: Fixing runtime shapes...
Info in &lt;TGeoManager::CheckGeometry&gt;: ...Nothing to fix
Info in &lt;TGeoManager::CloseGeometry&gt;: Counting nodes...
Info in &lt;TGeoManager::Voxelize&gt;: Voxelizing...
Info in &lt;TGeoManager::CloseGeometry&gt;: Building cache...
Info in &lt;TGeoNavigator::BuildCache&gt;: --- Maximum geometry depth set to 100
Info in &lt;TGeoManager::CloseGeometry&gt;: 12230 nodes/ 249 volume UID's in default geometry
Info in &lt;TGeoManager::CloseGeometry&gt;: ----------------modeler ready----------------
(class TGeoManager*)0x89be148</pre>
</div>
</div>
<div class="section" id="root-gl-viewer">
<h2>ROOT GL Viewer<a class="headerlink" href="#root-gl-viewer" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>[blyth@belle7 graf3d]$ vi $DYB/external/build/LCG/root/graf3d/gl/src/TGLSAViewer.cxx</pre>
</div>
<div class="highlight-python"><pre>DIRECT SCENE INTERACTIONS

Press:

`w`
      wireframe mode
`e`
      switch between dark/light color-set
`r`
      filled polygons mode
`t`
      outline mode
`j`
      ZOOM in
`k`
      ZOOM out
Arrow Keys
      PAN (TRUCK) across scene
Home
      reset current camera

LEFT mouse button -- ROTATE (ORBIT) the scene by holding the mouse button and moving
the mouse (perspective camera, needs to be enabled in menu for orthograpic cameras).
By default, the scene will be rotated about its center. To select arbitrary center
bring up the viewer-editor (e.g., shift-click into empty background) and use
'Camera center' controls in the 'Guides' tab.

MIDDLE mouse button or arrow keys --  PAN (TRUCK) the camera.

RIGHT mouse button action depends on camera type:
     orthographic -- zoom,
     perspective  -- move camera forwards / backwards

By pressing Ctrl and Shift keys the mouse precision can be changed:
     Shift      -- 10 times less precise
     Ctrl       -- 10 times more precise
     Ctrl Shift -- 100 times more precise

Mouse wheel action depends on camera type:
     orthographic -- zoom,
     perspective  -- change field-of-view (focal length)

Double clik will show GUI editor of the viewer (if assigned).

RESET the camera via the button in viewer-editor or Home key.

SELECT a shape with Shift+Left mouse button click.

SELECT the viewer with Shift+Left mouse button click on a free space.

MOVE a selected shape using Shift+Mid mouse drag.

Invoke the CONTEXT menu with Shift+Right mouse click.n"
"Secondary selection and direct render object interaction is initiated
by Alt+Left mouse click (Mod1, actually). Only few classes support this option.
When 'Alt' is taken by window manager, try Alt-Ctrl-Left.

CAMERA

The "Camera" menu is used to select the different projections from
the 3D world onto the 2D viewport. There are three perspective cameras:

* Perspective (Floor XOZ)
* Perspective (Floor YOZ)
* Perspective (Floor XOY)

In each case the floor plane (defined by two axes) is kept level.</pre>
</div>
</div>
<div class="section" id="root-gdml-docs">
<h2>ROOT GDML DOCS<a class="headerlink" href="#root-gdml-docs" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><cite>$DYB/external/build/LCG/root/geom/gdml/README</cite></li>
</ul>
<p>The GDML to TGeo converter uses the TXMLEngine to parse
the GDML files. This XML parser is a DOM parser and returns the DOM
tree to the class TGDMLParse.  This class then interprets the GDML file
and adds the bindings in their TGeo equivilent.</p>
<ul class="simple">
<li><cite>$DYB/external/build/LCG/root/geom/gdml/inc/TGDMLParse.h</cite></li>
<li><cite>$DYB/external/build/LCG/root/geom/gdml/src/TGDMLParse.cxx</cite></li>
</ul>
<div class="sidebar">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../gdml_g4py/" title="GDML from Geant4Py"
             >next</a> |</li>
        <li class="right" >
          <a href="../gdml_examine/" title="GDML Examination"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../../" >geant4</a> &raquo;</li>
          <li><a href="../../" >Geant4 Geometry Export</a> &raquo;</li>
          <li><a href="../" >GDML</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>