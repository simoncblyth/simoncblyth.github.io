<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Geant4 CAD interface &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../../../" />
    <link rel="up" title="Geant4 Geometry Others" href="../" />
    <link rel="next" title="Geant4 Geometry and Visualization" href="../visualisation/" />
    <link rel="prev" title="DetDesc Creation of Geometry" href="../detdesc/" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../visualisation/" title="Geant4 Geometry and Visualization"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../detdesc/" title="DetDesc Creation of Geometry"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../../" >geant4</a> &raquo;</li>
          <li><a href="../../" >Geant4 Geometry Export</a> &raquo;</li>
          <li><a href="../" accesskey="U">Geant4 Geometry Others</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scm/">SCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../trac/">Trac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pycuda/">pycuda</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../">geant4</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../release_notes/">Geant4 Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_gpu/">Geant4 GPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_profiling/">Geant4 Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../release_notes/">Geant4 Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../verbosity/">Verbosity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../docs/">Geant4 Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../giga/">GiGa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/">Geant4 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../opticalphoton/">Geant4 Optical Photon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../processes/">Geant4 Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../medical/">Medical Communities Using Geant4 (esp. optical photon)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../">Geant4 Geometry Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../g4py/">g4py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nuwa/">nuwa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../event/">Geant4 Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_future_doe/">Geant4</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../llvm/">llvm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../graphics/">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../javascript/">javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nuwa/">nuwa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../hg/">hg</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../../_sources/geant4/geometry/other/cad.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../detdesc/"
                        title="previous chapter">DetDesc Creation of Geometry</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../visualisation/"
                        title="next chapter">Geant4 Geometry and Visualization</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="geant4-cad-interface">
<h1>Geant4 CAD interface<a class="headerlink" href="#geant4-cad-interface" title="Permalink to this headline">¶</a></h1>
<p>Usually the direction is from CAD files into Geant4.
I want to go the other way, to allow using Geant4 geometries on GPUs.</p>
<div class="section" id="importing-cad-models-as-tesselated-solids">
<h2>Importing CAD models as tesselated solids<a class="headerlink" href="#importing-cad-models-as-tesselated-solids" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://geant4.web.cern.ch/geant4/UserDocumentation/UsersGuides/ForApplicationDeveloper/html/ch04.html">http://geant4.web.cern.ch/geant4/UserDocumentation/UsersGuides/ForApplicationDeveloper/html/ch04.html</a></li>
</ul>
<p>Tessellated solids can also be used to import geometrical models from CAD
systems (see Figure 4.1). In order to do this, it is required to convert first
the CAD shapes into tessellated surfaces. A way to do this is to save the
shapes in the geometrical model as STEP files and convert them to tessellated
(faceted surfaces) solids, using a tool which allows such conversion. At the
time of writing, at least two tools are available for such purpose: STViewer
(part of the STEP-Tools development suite) or FASTRAD. This strategy allows to
import any shape with some degree of approximation; the converted CAD models
can then be imported through GDML (Geometry Description Markup Language) into
Geant4 and be represented as G4TessellatedSolid shapes.</p>
<p>Other tools which can be used to generate meshes to be then imported in Geant4 as tessellated solids are:</p>
<ul class="simple">
<li>STL2GDML - A free STL to GDML conversion tool.</li>
<li>SALOME - Open-source software allowing to import STEP/BREP/IGES/STEP/ACIS formats, mesh them and export to STL.</li>
<li>ESABASE2 - Space environment analysis CAD, basic modules free for academic non-commercial use. Can import STEP files and export to GDML shapes or complete geometries.</li>
<li>CADMesh - Tool based on the VCG Library to read STL files and import in Geant4.</li>
<li>Cogenda - Commercial TCAD software for generation of 3D meshes through the module Gds2Mesh and final export to GDML.</li>
</ul>
</div>
<div class="section" id="step-export-from-geant4">
<h2>STEP export from Geant4 ?<a class="headerlink" href="#step-export-from-geant4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://www.google.com/search?q=geant4 export STEP EXPRESS">google:geant4 export STEP EXPRESS</a></li>
<li><a class="reference external" href="http://deslab.mit.edu/DesignLab/dicpm/step.html">http://deslab.mit.edu/DesignLab/dicpm/step.html</a>  STEP and EXPRESS</li>
</ul>
</div>
<div class="section" id="g4tgb">
<h2>G4tgb<a class="headerlink" href="#g4tgb" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>[blyth@cms01 ascii]$ vi include/G4tgbGeometryDumper.hh
[blyth@cms01 ascii]$ pwd
/data/env/local/dyb/trunk/external/build/LCG/geant4.9.2.p01/source/persistency/ascii
[blyth@cms01 ascii]$</pre>
</div>
<div class="highlight-python"><pre>G4tgbVolumeMgr* volmgr = G4tgbVolumeMgr::GetInstance()
volmgr-&gt;AddTextFile(theFileName)</pre>
</div>
<div class="highlight-python"><pre>G4tgbGeometryDumper::GetInstance()-&gt;DumpGeometry(theFilename)</pre>
</div>
</div>
<div class="section" id="freecad">
<h2>FreeCAD<a class="headerlink" href="#freecad" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://cad-gdml.in2p3.fr/">http://cad-gdml.in2p3.fr/</a></li>
<li><a class="reference external" href="https://edms.in2p3.fr/file/I-026238/2/CAD-GDML_17-06-2011.pdf">https://edms.in2p3.fr/file/I-026238/2/CAD-GDML_17-06-2011.pdf</a></li>
<li><a class="reference external" href="http://csrsrv1.fynu.ucl.ac.be/csr_web/geant/step-gdml.php">http://csrsrv1.fynu.ucl.ac.be/csr_web/geant/step-gdml.php</a></li>
<li><a class="reference external" href="http://minimalcms.sourceforge.net/demo/proxy/apps/phpbb/free-cad/viewforum.php?f=10&amp;sid=2cf1eca707ab5e7e8b6fad536af0c6dc">http://minimalcms.sourceforge.net/demo/proxy/apps/phpbb/free-cad/viewforum.php?f=10&amp;sid=2cf1eca707ab5e7e8b6fad536af0c6dc</a></li>
<li><a class="reference external" href="http://en.wikipedia.org/wiki/FreeCAD">http://en.wikipedia.org/wiki/FreeCAD</a></li>
</ul>
</div>
<div class="section" id="esa-uses-restrictive-licences">
<h2>ESA uses restrictive licences<a class="headerlink" href="#esa-uses-restrictive-licences" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://cao-gdml.in2p3.fr/presentations/GSantin_CAD_Geant4_ESA_v10.pdf">http://cao-gdml.in2p3.fr/presentations/GSantin_CAD_Geant4_ESA_v10.pdf</a></li>
</ul>
<p>CAD interfaces for simulation and analysis tools in the space domain,
Giovanni Santin
Geant4 CAD interface development meeting
Orsay, 23 March 2010</p>
</div>
<div class="section" id="cadmesh">
<h2>CADMesh<a class="headerlink" href="#cadmesh" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://code.google.com/p/cadmesh/">http://code.google.com/p/cadmesh/</a></li>
</ul>
<p>Importing predefined CAD models into GEANT4 is not always possible or requires
intermediate file format conversion to Geometry Description Markup Language
(GDML) using commercial or third party software. CADMesh is a direct CAD model
import interface for GEANT4 optionally leveraging VCGLIB, and ASSIMP by
default. Currently it supports the import of triangular facet surface meshes
defined in formats such as STL and PLY. A G4TessellatedSolid is returned and
can be included in a standard user detector constructor.</p>
<p>Additional functionality is included for the fast navigation of tessellated
solids by automatically creating equivalent tetrahedral meshes thereby making
smart voxelisation available for the solid.</p>
<p>Based on VCGLIB</p>
</div>
<div class="section" id="meshlab">
<h2>Meshlab<a class="headerlink" href="#meshlab" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://meshlab.sourceforge.net/">http://meshlab.sourceforge.net/</a></li>
</ul>
<p>Can import/export: VRML, X3D, COLLADA, STL, PLY
Based on VCGLIB</p>
</div>
<div class="section" id="vcglib">
<h2>VCGLIB<a class="headerlink" href="#vcglib" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://vcg.isti.cnr.it/~cignoni/newvcglib/html/">http://vcg.isti.cnr.it/~cignoni/newvcglib/html/</a></p>
</div>
<div class="section" id="salome">
<h2>salome<a class="headerlink" href="#salome" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://www.salome-platform.org/">http://www.salome-platform.org/</a></li>
</ul>
<ol class="arabic simple">
<li>Create/modify, import/export (IGES, STEP, BREP), repair/clean CAD models</li>
<li>Mesh CAD models, edit mesh, check mesh quality, import/export mesh (MED, UNV, DAT, STL)</li>
<li>Handle physical properties and quantities attached to geometrical items</li>
</ol>
<div class="sidebar">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../visualisation/" title="Geant4 Geometry and Visualization"
             >next</a> |</li>
        <li class="right" >
          <a href="../detdesc/" title="DetDesc Creation of Geometry"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../../" >geant4</a> &raquo;</li>
          <li><a href="../../" >Geant4 Geometry Export</a> &raquo;</li>
          <li><a href="../" >Geant4 Geometry Others</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>