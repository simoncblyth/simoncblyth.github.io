<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>VRML2FILE export debugging &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../../../" />
    <link rel="up" title="VRML2" href="../" />
    <link rel="next" title="Polyhedron" href="../polyhedron/" />
    <link rel="prev" title="Fully Overlapping volumes, due to imprecise export" href="../overlapping_volumes/" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../polyhedron/" title="Polyhedron"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../overlapping_volumes/" title="Fully Overlapping volumes, due to imprecise export"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../../" >geant4</a> &raquo;</li>
          <li><a href="../../" >Geant4 Geometry Export</a> &raquo;</li>
          <li><a href="../" accesskey="U">VRML2</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scm/">SCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../trac/">Trac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pycuda/">pycuda</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../">geant4</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../release_notes/">Geant4 Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_gpu/">Geant4 GPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_profiling/">Geant4 Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../release_notes/">Geant4 Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../verbosity/">Verbosity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../docs/">Geant4 Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../giga/">GiGa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/">Geant4 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../opticalphoton/">Geant4 Optical Photon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../processes/">Geant4 Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../medical/">Medical Communities Using Geant4 (esp. optical photon)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../">Geant4 Geometry Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../g4py/">g4py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nuwa/">nuwa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../event/">Geant4 Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../geant4_future_doe/">Geant4</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../llvm/">llvm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../graphics/">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../javascript/">javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nuwa/">nuwa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../hg/">hg</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../../_sources/geant4/geometry/vrml2/booleanprocessor_warnings.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../overlapping_volumes/"
                        title="previous chapter">Fully Overlapping volumes, due to imprecise export</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../polyhedron/"
                        title="next chapter">Polyhedron</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="vrml2file-export-debugging">
<h1>VRML2FILE export debugging<a class="headerlink" href="#vrml2file-export-debugging" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#todo" id="id1">TODO</a></li>
<li><a class="reference internal" href="#observations-summary" id="id2">Observations Summary</a></li>
<li><a class="reference internal" href="#examining-raw-export-log-with-pv-dumping" id="id3">Examining raw export log with pv dumping</a><ul>
<li><a class="reference internal" href="#ordering-check" id="id4">Ordering Check</a></li>
<li><a class="reference internal" href="#parse-the-log" id="id5">parse the log</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exportdbg-txt" id="id6">exportdbg.txt</a></li>
<li><a class="reference internal" href="#noisy-15" id="id7">Noisy 15</a><ul>
<li><a class="reference internal" href="#skip-the-big-3-lowz-2" id="id8">Skip the big 3 + lowZ 2</a></li>
<li><a class="reference internal" href="#subtraction-tubs-with-holes" id="id9">4539 subtraction tubs with holes</a></li>
<li><a class="reference internal" href="#are-cables" id="id10">4550 + 4565 are cables</a></li>
<li><a class="reference internal" href="#scene-for-the-noisy-ones" id="id11">scene for the noisy ones</a></li>
<li><a class="reference internal" href="#noisy-15-with-4550-highlighted" id="id12">noisy 15 with 4550 highlighted</a></li>
<li><a class="reference internal" href="#detdesc" id="id13">4550 detdesc</a></li>
<li><a class="reference internal" href="#at-the-point-level" id="id14">4550 at the point level</a></li>
</ul>
</li>
<li><a class="reference internal" href="#viscinity" id="id15">Viscinity</a></li>
</ul>
</div>
<div class="section" id="todo">
<h2><a class="toc-backref" href="#id1">TODO</a><a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">look for shared surfaces for the squealing volumes</p>
</li>
<li><p class="first">investigate VRML2 metadata support</p>
<blockquote>
<div><ul class="simple">
<li>succeeded to make volume labels via anchors, but that impedes navigation somewhat</li>
<li>need material info to be carried, presented?</li>
</ul>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="observations-summary">
<h2><a class="toc-backref" href="#id2">Observations Summary</a><a class="headerlink" href="#observations-summary" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>15 volumes yield warnings, many are very thin in one or more directions, BUT several big volumes too</li>
<li>all volumes traversed are output, contrary to initial expectation than volumes would be dropped</li>
<li>suspected causes<ul>
<li>sharing of surfaces with other volumes (eg source assembly union poking through holes in a plate)</li>
<li>very thin cables</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="examining-raw-export-log-with-pv-dumping">
<h2><a class="toc-backref" href="#id3">Examining raw export log with pv dumping</a><a class="headerlink" href="#examining-raw-export-log-with-pv-dumping" title="Permalink to this headline">¶</a></h2>
<p>Via adding debug dumping of the pv name to the VRML2FILE exporter determine the volumes that yield BooleanProcessor warnings.</p>
<div class="highlight-python"><pre>[blyth@belle7 export]$ grep ^SCB exportdbg.log | head -5
SCB Universe.0
SCB /dd/Structure/Sites/db-rock.1000
SCB /dd/Geometry/Sites/lvNearSiteRock#pvNearHallTop.1000
SCB /dd/Geometry/Sites/lvNearHallTop#pvNearTopCover.1000
SCB /dd/Geometry/Sites/lvNearHallTop#pvNearTeleRpc#pvNearTeleRpc:1.1

[blyth@belle7 export]$ grep ^SCB exportdbg.log | wc -l
12230
[blyth@belle7 export]$ grep ^SCB exportdbg.log | cut -d" " -f2 - | wc -l
12230
[blyth@belle7 export]$ grep ^SCB exportdbg.log | cut -d" " -f2 - | sort | uniq | wc -l
5643

[blyth@belle7 export]$ echo "select count(*) from shape ;" | sqlite3 g4_01.db
12229
[blyth@belle7 export]$ echo "select count(distinct(name)) from shape ;" | sqlite3 g4_01.db
5642</pre>
</div>
<ol class="arabic simple">
<li>all volumes are output despite the warnings, except Universe.0 which got culled in my original g4_01.wrl</li>
</ol>
<div class="section" id="ordering-check">
<h3><a class="toc-backref" href="#id4">Ordering Check</a><a class="headerlink" href="#ordering-check" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>blyth@belle7 export]$ grep ^SCB exportdbg.log | head -1 | tail -1
SCB Universe.0

[blyth@belle7 export]$ grep ^SCB exportdbg.log | head -2 | tail -1
SCB /dd/Structure/Sites/db-rock.1000

[blyth@belle7 export]$ echo "select id, name from shape where id in (2-1) ;" | sqlite3 g4_01.db
1|/dd/Structure/Sites/db-rock.1000

[blyth@belle7 export]$ echo "select id, name from shape where id in (9999,10000,10001) ;" | sqlite3 g4_01.db
9999|/dd/Geometry/PMT/lvPmtHemiVacuum#pvPmtHemiCathode.1000
10000|/dd/Geometry/PMT/lvPmtHemiVacuum#pvPmtHemiBottom.1001
10001|/dd/Geometry/PMT/lvPmtHemiVacuum#pvPmtHemiDynode.1002

[blyth@belle7 export]$ grep ^SCB exportdbg.log | head -10000 | tail -1
SCB /dd/Geometry/PMT/lvPmtHemiVacuum#pvPmtHemiCathode.1000</pre>
</div>
<ol class="arabic simple">
<li>the order matches that in the DB for that one at least</li>
</ol>
</div>
<div class="section" id="parse-the-log">
<h3><a class="toc-backref" href="#id5">parse the log</a><a class="headerlink" href="#parse-the-log" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>[blyth@belle7 export]$ ./exportdbg.py &gt; exportdbg.txt
INFO:__main__:opening /home/blyth/env/geant4/geometry/export/g4_01.db</pre>
</div>
</div>
</div>
<div class="section" id="exportdbg-txt">
<h2><a class="toc-backref" href="#id6">exportdbg.txt</a><a class="headerlink" href="#exportdbg-txt" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>
2435
/dd/Geometry/RPCSupport/lvNearHbeamBigUnit#pvNearRightSpanHbeam2.1003
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (2435) ; 
sid         npo         ax                 ay          az          dx          dy          dz          name                                                                 
----------  ----------  -----------------  ----------  ----------  ----------  ----------  ----------  ---------------------------------------------------------------------
2435        24          -20103.8666666667  -796552.0   -1583.37    9892.5      6398.0      294.4       /dd/Geometry/RPCSupport/lvNearHbeamBigUnit#pvNearRightSpanHbeam2.1003


3149
/dd/Geometry/Pool/lvNearPoolDead#pvNearPoolLiner.1000
BooleanProcessor::triangulateFace : too small contour
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (3149) ; 
sid         npo         ax          ay          az          dx          dy          dz          name                                                 
----------  ----------  ----------  ----------  ----------  ----------  ----------  ----------  -----------------------------------------------------
3149        50          -16048.293  -803091.86  -7067.9982  13644.59    15422.0     9916.0      /dd/Geometry/Pool/lvNearPoolDead#pvNearPoolLiner.1000


3151
/dd/Geometry/Pool/lvNearPoolOWS#pvNearPoolCurtain.1000
BooleanProcessor::triangulateFace : too small contour
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (3151) ; 
sid         npo         ax          ay          az          dx          dy          dz          name                                                  
----------  ----------  ----------  ----------  ----------  ----------  ----------  ----------  ------------------------------------------------------
3151        50          -16085.48   -802990.16  -6565.9996  11506.8     13286.0     8912.0      /dd/Geometry/Pool/lvNearPoolOWS#pvNearPoolCurtain.1000


3199
/dd/Geometry/AD/lvOIL#pvAdPmtArray#pvAdPmtArrayRotated#pvAdPmtRingInCyl:1#pvAdPmtInRing:1#pvAdPmtUnit#pvAdPmt.1
BooleanProcessor::assembleFace(74) : could not find next edge of the contour
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (3199) ; 
sid         npo         ax                 ay                 az                 dx                dy          dz                name                                                                                                           
----------  ----------  -----------------  -----------------  -----------------  ----------------  ----------  ----------------  ---------------------------------------------------------------------------------------------                  
3199        362         -16595.8593922652  -801442.651933702  -8842.50027624308  270.200000000001  286.0       200.580000000002  /dd/Geometry/AD/lvOIL#pvAdPmtArray#pvAdPmtArrayRotated#pvAdPmtRingInCyl:1#pvAdPmtInRing:1#pvAdPmtUnit#pvAdPmt.1


4356
/dd/Geometry/PMT/lvHeadonPmtAssy#pvHeadonPmtBase.1001
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4356) ; 
sid         npo         ax          ay          az          dx                dy          dz          name                                                 
----------  ----------  ----------  ----------  ----------  ----------------  ----------  ----------  -----------------------------------------------------
4356        50          -18289.832  -800004.44  -4826.5     60.7999999999993  61.0        53.0        /dd/Geometry/PMT/lvHeadonPmtAssy#pvHeadonPmtBase.1001


4447
/dd/Geometry/AD/lvOIL#pvSstBotCirRib#SstBotCirRib:7.7
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4447) ; 
sid         npo         ax           ay           az          dx          dy          dz          name                                                 
----------  ----------  -----------  -----------  ----------  ----------  ----------  ----------  -----------------------------------------------------
4447        16          -18423.7625  -797823.375  -9355.0     1481.6      330.0       430.0       /dd/Geometry/AD/lvOIL#pvSstBotCirRib#SstBotCirRib:7.7


4463
/dd/Geometry/AD/lvOIL#pvSstTopTshapeRibs#SstTopTshapeRibs:7#SstTopTshapeRot.7
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4463) ; 
sid         npo         ax                 ay                 az                 dx                dy          dz                name                                                                         
----------  ----------  -----------------  -----------------  -----------------  ----------------  ----------  ----------------  -----------------------------------------------------------------------------
4463        22          -17784.9136363636  -798325.590909091  -4814.55772727273  553.700000000001  2147.0      258.730000000001  /dd/Geometry/AD/lvOIL#pvSstTopTshapeRibs#SstTopTshapeRibs:7#SstTopTshapeRot.7


4539
/dd/Geometry/CalibrationBox/lvDomeInterior#pvTurntableLowerPlate.1002
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseEE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::execute : unknown faces !!!
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4539) ; 
sid         npo         ax                 ay                 az                 dx                dy          dz                name                                                                 
----------  ----------  -----------------  -----------------  -----------------  ----------------  ----------  ----------------  ---------------------------------------------------------------------
4539        203         -18014.5467980295  -799605.369458128  -4226.93871921181  525.299999999999  525.0       12.6999999999998  /dd/Geometry/CalibrationBox/lvDomeInterior#pvTurntableLowerPlate.1002


4540
/dd/Geometry/CalibrationBox/lvDomeInterior#pvLedSourceAssyInAcu.1003
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4540) ; 
sid         npo         ax                 ay               az                 dx                dy          dz          name                                                                
----------  ----------  -----------------  ---------------  -----------------  ----------------  ----------  ----------  --------------------------------------------------------------------
4540        629         -18079.3666136725  -799699.3354531  -4117.22529411766  20.0999999999985  20.0        204.61      /dd/Geometry/CalibrationBox/lvDomeInterior#pvLedSourceAssyInAcu.1003


4542
/dd/Geometry/CalibrationSources/lvLedSourceShell#pvDiffuserBall.1000
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4542) ; 
sid         npo         ax                 ay                 az                 dx                dy          dz                name                                                                
----------  ----------  -----------------  -----------------  -----------------  ----------------  ----------  ----------------  --------------------------------------------------------------------
4542        267         -18079.4528089888  -799699.445692884  -4157.12000000001  15.9000000000015  15.0        15.8800000000001  /dd/Geometry/CalibrationSources/lvLedSourceShell#pvDiffuserBall.1000


4550
/dd/Geometry/CalibrationSources/lvLedSourceAssy#pvLedWeightCableBot.1004
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::execute : unknown faces !!!
BooleanProcessor: boolean operation failed
BooleanProcessor::execute : unknown faces !!!
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateFace : too small contour
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::execute : unknown faces !!!
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4550) ; 
sid         npo         ax          ay          az                 dx                 dy          dz                name                                                                    
----------  ----------  ----------  ----------  -----------------  -----------------  ----------  ----------------  ------------------------------------------------------------------------
4550        50          -18079.46   -799699.44  -4194.72000000001  0.599999999998545  1.0         25.3999999999996  /dd/Geometry/CalibrationSources/lvLedSourceAssy#pvLedWeightCableBot.1004


4551
/dd/Geometry/CalibrationBox/lvDomeInterior#pvGe68SourceAssyInAcu.1004
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4551) ; 
sid         npo         ax                 ay                 az                 dx          dy          dz          name                                                                 
----------  ----------  -----------------  -----------------  -----------------  ----------  ----------  ----------  ---------------------------------------------------------------------
4551        357         -17900.4431372549  -799614.672268908  -4125.39173669466  20.0        20.0        204.61      /dd/Geometry/CalibrationBox/lvDomeInterior#pvGe68SourceAssyInAcu.1004


4565
/dd/Geometry/CalibrationSources/lvGe68SourceAssy#pvWeightCableBot.1004
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::execute : unknown faces !!!
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::execute : unknown faces !!!
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4565) ; 
sid         npo         ax          ay          az                 dx                 dy          dz                name                                                                  
----------  ----------  ----------  ----------  -----------------  -----------------  ----------  ----------------  ----------------------------------------------------------------------
4565        50          -17900.608  -799614.56  -4194.72000000001  0.600000000002183  1.0         25.3999999999996  /dd/Geometry/CalibrationSources/lvGe68SourceAssy#pvWeightCableBot.1004


4566
/dd/Geometry/CalibrationBox/lvDomeInterior#pvAmCCo60SourceAssyInAcu.1005
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseEE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4566) ; 
sid         npo         ax                 ay                 az                 dx          dy          dz          name                                                                    
----------  ----------  -----------------  -----------------  -----------------  ----------  ----------  ----------  ------------------------------------------------------------------------
4566        296         -18063.5753378378  -799502.097972973  -4106.41881756756  20.0        20.0        204.61      /dd/Geometry/CalibrationBox/lvDomeInterior#pvAmCCo60SourceAssyInAcu.1005


4605
/dd/Geometry/OverflowTanks/lvOflTnkContainer#pvOflTnkCnrSpace.1000
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4605) ; 
sid         npo         ax                 ay                 az                 dx          dy          dz          name                                                              
----------  ----------  -----------------  -----------------  -----------------  ----------  ----------  ----------  ------------------------------------------------------------------
4605        172         -18056.4389534884  -799666.110465117  -4389.40313953487  1845.7      1845.0      299.99      /dd/Geometry/OverflowTanks/lvOflTnkContainer#pvOflTnkCnrSpace.1000

select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (2435,3149,3151,3199,4356,4447,4463,4539,4540,4542,4550,4551,4565,4566,4605) ; 
sid         npo         ax                 ay          az          dx          dy          dz          name                                                                 
----------  ----------  -----------------  ----------  ----------  ----------  ----------  ----------  ---------------------------------------------------------------------
2435        24          -20103.8666666667  -796552.0   -1583.37    9892.5      6398.0      294.4       /dd/Geometry/RPCSupport/lvNearHbeamBigUnit#pvNearRightSpanHbeam2.1003
3149        50          -16048.293         -803091.86  -7067.9982  13644.59    15422.0     9916.0      /dd/Geometry/Pool/lvNearPoolDead#pvNearPoolLiner.1000                
3151        50          -16085.48          -802990.16  -6565.9996  11506.8     13286.0     8912.0      /dd/Geometry/Pool/lvNearPoolOWS#pvNearPoolCurtain.1000               
3199        362         -16595.8593922652  -801442.65  -8842.5002  270.200000  286.0       200.580000  /dd/Geometry/AD/lvOIL#pvAdPmtArray#pvAdPmtArrayRotated#pvAdPmtRingInC
4356        50          -18289.832         -800004.44  -4826.5     60.7999999  61.0        53.0        /dd/Geometry/PMT/lvHeadonPmtAssy#pvHeadonPmtBase.1001                
4447        16          -18423.7625        -797823.37  -9355.0     1481.6      330.0       430.0       /dd/Geometry/AD/lvOIL#pvSstBotCirRib#SstBotCirRib:7.7                
4463        22          -17784.9136363636  -798325.59  -4814.5577  553.700000  2147.0      258.730000  /dd/Geometry/AD/lvOIL#pvSstTopTshapeRibs#SstTopTshapeRibs:7#SstTopTsh
4539        203         -18014.5467980295  -799605.36  -4226.9387  525.299999  525.0       12.6999999  /dd/Geometry/CalibrationBox/lvDomeInterior#pvTurntableLowerPlate.1002
4540        629         -18079.3666136725  -799699.33  -4117.2252  20.0999999  20.0        204.61      /dd/Geometry/CalibrationBox/lvDomeInterior#pvLedSourceAssyInAcu.1003 
4542        267         -18079.4528089888  -799699.44  -4157.1200  15.9000000  15.0        15.8800000  /dd/Geometry/CalibrationSources/lvLedSourceShell#pvDiffuserBall.1000 
4550        50          -18079.46          -799699.44  -4194.7200  0.59999999  1.0         25.3999999  /dd/Geometry/CalibrationSources/lvLedSourceAssy#pvLedWeightCableBot.1
4551        357         -17900.4431372549  -799614.67  -4125.3917  20.0        20.0        204.61      /dd/Geometry/CalibrationBox/lvDomeInterior#pvGe68SourceAssyInAcu.1004
4565        50          -17900.608         -799614.56  -4194.7200  0.60000000  1.0         25.3999999  /dd/Geometry/CalibrationSources/lvGe68SourceAssy#pvWeightCableBot.100
4566        296         -18063.5753378378  -799502.09  -4106.4188  20.0        20.0        204.61      /dd/Geometry/CalibrationBox/lvDomeInterior#pvAmCCo60SourceAssyInAcu.1
4605        172         -18056.4389534884  -799666.11  -4389.4031  1845.7      1845.0      299.99      /dd/Geometry/OverflowTanks/lvOflTnkContainer#pvOflTnkCnrSpace.1000   

shapedb.py -c 2435 3149 3151 3199 4356 4447 4463 4539 4540 4542 4550 4551 4565 4566 4605
</pre>
</div>
</div>
<div class="section" id="noisy-15">
<h2><a class="toc-backref" href="#id7">Noisy 15</a><a class="headerlink" href="#noisy-15" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (2435,3149,3151,3199,4356,4447,4463,4539,4540,4542,4550,4551,4565,4566,4605) ;
sid         npo         ax                 ay          az          dx          dy          dz          name
----------  ----------  -----------------  ----------  ----------  ----------  ----------  ----------  ---------------------------------------------------------------------
2435        24          -20103.8666666667  -796552.0   -1583.37    9892.5      6398.0      294.4       /dd/Geometry/RPCSupport/lvNearHbeamBigUnit#pvNearRightSpanHbeam2.1003
3149        50          -16048.293         -803091.86  -7067.9982  13644.59    15422.0     9916.0      /dd/Geometry/Pool/lvNearPoolDead#pvNearPoolLiner.1000
3151        50          -16085.48          -802990.16  -6565.9996  11506.8     13286.0     8912.0      /dd/Geometry/Pool/lvNearPoolOWS#pvNearPoolCurtain.1000
3199        362         -16595.8593922652  -801442.65  -8842.5002  270.200000  286.0       200.580000  /dd/Geometry/AD/lvOIL#pvAdPmtArray#pvAdPmtArrayRotated#pvAdPmtRingInC
4447        16          -18423.7625        -797823.37  -9355.0     1481.6      330.0       430.0       /dd/Geometry/AD/lvOIL#pvSstBotCirRib#SstBotCirRib:7.7

4356        50          -18289.832         -800004.44  -4826.5     60.7999999  61.0        53.0        /dd/Geometry/PMT/lvHeadonPmtAssy#pvHeadonPmtBase.1001
4463        22          -17784.9136363636  -798325.59  -4814.5577  553.700000  2147.0      258.730000  /dd/Geometry/AD/lvOIL#pvSstTopTshapeRibs#SstTopTshapeRibs:7#SstTopTsh

4539        203         -18014.5467980295  -799605.36  -4226.9387  525.299999  525.0       12.6999999  /dd/Geometry/CalibrationBox/lvDomeInterior#pvTurntableLowerPlate.1002
4542        267         -18079.4528089888  -799699.44  -4157.1200  15.9000000  15.0        15.8800000  /dd/Geometry/CalibrationSources/lvLedSourceShell#pvDiffuserBall.1000


4566        296         -18063.5753378378  -799502.09  -4106.4188  20.0        20.0        204.61      /dd/Geometry/CalibrationBox/lvDomeInterior#pvAmCCo60SourceAssyInAcu.1
4540        629         -18079.3666136725  -799699.33  -4117.2252  20.0999999  20.0        204.61      /dd/Geometry/CalibrationBox/lvDomeInterior#pvLedSourceAssyInAcu.1003
4550        50          -18079.46          -799699.44  -4194.7200  0.59999999  1.0         25.3999999  /dd/Geometry/CalibrationSources/lvLedSourceAssy#pvLedWeightCableBot.1
4551        357         -17900.4431372549  -799614.67  -4125.3917  20.0        20.0        204.61      /dd/Geometry/CalibrationBox/lvDomeInterior#pvGe68SourceAssyInAcu.1004
4565        50          -17900.608         -799614.56  -4194.7200  0.60000000  1.0         25.3999999  /dd/Geometry/CalibrationSources/lvGe68SourceAssy#pvWeightCableBot.100

4605        172         -18056.4389534884  -799666.11  -4389.4031  1845.7      1845.0      299.99      /dd/Geometry/OverflowTanks/lvOflTnkContainer#pvOflTnkCnrSpace.1000</pre>
</div>
<div class="section" id="skip-the-big-3-lowz-2">
<h3><a class="toc-backref" href="#id8">Skip the big 3 + lowZ 2</a><a class="headerlink" href="#skip-the-big-3-lowz-2" title="Permalink to this headline">¶</a></h3>
<img alt="../../../../_images/abooleans.png" src="../../../../_images/abooleans.png" />
<div class="highlight-python"><pre>[blyth@belle7 export]$ shapedb.py -e 4000 -c --  -4356 -4463 -4539 -4540 -4542 -4550 -4551 -4565 -4566 -4605 &gt; $(nginx-htdocs)/wrl/abooleans.wrl
2013-09-19 18:19:12,686 env.geant4.geometry.export.shapecnf INFO     /home/blyth/env/bin/shapedb.py -e 4000 -c -- -4356 -4463 -4539 -4540 -4542 -4550 -4551 -4565 -4566 -4605
2013-09-19 18:19:12,687 env.geant4.geometry.export.shapedb INFO     opening /usr/lib/python2.4/site-packages/env/geant4/geometry/export/g4_01.db
2013-09-19 18:19:12,687 env.geant4.geometry.export.shapedb INFO     Operate on 10 shapes [negated 10], selected by args : ['-4356', '-4463', '-4539', '-4540', '-4542', '-4550', '-4551', '-4565', '-4566', '-4605']
2013-09-19 18:19:12,713 env.geant4.geometry.export.shapedb INFO     opts.center selected, will translate all 10 shapes such that centroid of all is at origin, original coordinate centroid at (-18036.181106870226, -799636.08730916027, -4183.0695324427443)
2013-09-19 18:19:12,713 env.geant4.geometry.export.shapedb INFO     presence of negated ids signals split print, negated ids will be annotated (useful for small volumes, not so good with big ones as interferes with navigation)

2013-09-19 18:19:12,713 env.geant4.geometry.export.shapedb INFO     #        sid        npo          ax          ay          az          dx          dy          dz

# three complicated union source assemblies
2013-09-19 18:19:12,724 env.geant4.geometry.export.shapedb INFO     #       4540        629   -18079.37  -799699.34    -4117.23       20.10       20.00      204.61  /dd/Geometry/CalibrationBox/lvDomeInterior#pvLedSourceAssyInAcu.1003
2013-09-19 18:19:12,725 env.geant4.geometry.export.shapedb INFO     #       4566        296   -18063.58  -799502.10    -4106.42       20.00       20.00      204.61  /dd/Geometry/CalibrationBox/lvDomeInterior#pvAmCCo60SourceAssyInAcu.1005
2013-09-19 18:19:12,724 env.geant4.geometry.export.shapedb INFO     #       4551        357   -17900.44  -799614.67    -4125.39       20.00       20.00      204.61  /dd/Geometry/CalibrationBox/lvDomeInterior#pvGe68SourceAssyInAcu.1004
# all three assemblies poke thru this plate : yellow | eai-edit -emissiveColor 1,1,0 4539
2013-09-19 18:19:12,723 env.geant4.geometry.export.shapedb INFO     #       4539        203   -18014.55  -799605.37    -4226.94      525.30      525.00       12.70  /dd/Geometry/CalibrationBox/lvDomeInterior#pvTurntableLowerPlate.1002

# ball inside 4540 : red : eai-edit -emissiveColor 1,0,0 4542
2013-09-19 18:19:12,724 env.geant4.geometry.export.shapedb INFO     #       4542        267   -18079.45  -799699.45    -4157.12       15.90       15.00       15.88  /dd/Geometry/CalibrationSources/lvLedSourceShell#pvDiffuserBall.1000

# cables lines up with assemblies
2013-09-19 18:19:12,724 env.geant4.geometry.export.shapedb INFO     #       4550         50   -18079.46  -799699.44    -4194.72        0.60        1.00       25.40  /dd/Geometry/CalibrationSources/lvLedSourceAssy#pvLedWeightCableBot.1004
2013-09-19 18:19:12,725 env.geant4.geometry.export.shapedb INFO     #       4565         50   -17900.61  -799614.56    -4194.72        0.60        1.00       25.40  /dd/Geometry/CalibrationSources/lvGe68SourceAssy#pvWeightCableBot.1004

# union of tubs? : red : eai-edit -emissiveColor 1,0,0 4605
2013-09-19 18:19:12,736 env.geant4.geometry.export.shapedb INFO     #       4605        172   -18056.44  -799666.11    -4389.40     1845.70     1845.00      299.99  /dd/Geometry/OverflowTanks/lvOflTnkContainer#pvOflTnkCnrSpace.1000

# small low tubs
2013-09-19 18:19:12,723 env.geant4.geometry.export.shapedb INFO     #       4356         50   -18289.83  -800004.44    -4826.50       60.80       61.00       53.00  /dd/Geometry/PMT/lvHeadonPmtAssy#pvHeadonPmtBase.1001

# long beam
2013-09-19 18:19:12,723 env.geant4.geometry.export.shapedb INFO     #       4463         22   -17784.91  -798325.59    -4814.56      553.70     2147.00      258.73  /dd/Geometry/AD/lvOIL#pvSstTopTshapeRibs#SstTopTshapeRibs:7#SstTopTshapeRot.7</pre>
</div>
</div>
<div class="section" id="subtraction-tubs-with-holes">
<h3><a class="toc-backref" href="#id9">4539 subtraction tubs with holes</a><a class="headerlink" href="#subtraction-tubs-with-holes" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>[blyth@cms01 DDDB]$ find . -name '*.xml' -exec grep -H pvTurntableLowerPlate {} \;
./CalibrationBox/calib-box.xml:  &lt;physvol name="pvTurntableLowerPlate" logvol="/dd/Geometry/CalibrationBox/lvTurntable"&gt;</pre>
</div>
<div class="highlight-python"><pre>192  &lt;!-- Dome Interior --&gt;
193  &lt;logvol name="lvDomeInterior" material="Nitrogen"&gt;
194   &lt;tubs name="DomeInterior" sizeZ="CalibrationDomeTotalHeight-CalibrationDomeWallThickness" outerRadius="CalibrationDomeRadius-CalibrationDomeWallThickness" /&gt;
195
196   &lt;physvol name="pvShieldingPuck" logvol="/dd/Geometry/CalibrationBox/lvShieldingPuck"&gt;
197   &lt;posRPhiZ r="CalibPortOffsetR" phi="NeutronShieldCylinderPhi"
198         z="ShieldingPuckZ" /&gt;
199   &lt;/physvol&gt;
200
201
202   &lt;physvol name="pvBearingRing" logvol="/dd/Geometry/CalibrationBox/lvBearingRing"&gt;
203   &lt;posXYZ x="0*cm" y="0*cm" z="BearingRingZ" /&gt;
204   &lt;/physvol&gt;
205
206   &lt;physvol name="pvTurntableLowerPlate" logvol="/dd/Geometry/CalibrationBox/lvTurntable"&gt;
207   &lt;posXYZ x="0*cm" y="0*cm" z="TurntableLowerPlateZ" /&gt;
208   &lt;/physvol&gt;
209
...
265  &lt;!-- Turntable --&gt;
266  &lt;logvol name="lvTurntable" material="StainlessSteel"&gt;
267    &lt;subtraction name="turntable"&gt;
268      &lt;tubs name="Turntable"
269            sizeZ="TurntablePlateThickness"
270            outerRadius="TurntableRadius" /&gt;
271      &lt;tubs name="LedTurntableHole"
272            sizeZ="TurntablePlateThickness"
273            outerRadius="TurntableHoleRadius" /&gt;
274      &lt;posRPhiZ r="CalibPortOffsetR" phi="LEDSourcePhi"
275            z="0*cm" /&gt;
276      &lt;tubs name="Ge68TurntableHole"
277            sizeZ="TurntablePlateThickness"
278            outerRadius="TurntableHoleRadius" /&gt;
279      &lt;posRPhiZ r="CalibPortOffsetR" phi="GammaShieldCylinderPhi"
280            z="0*cm" /&gt;
281      &lt;tubs name="AmCTurntableHole"
282            sizeZ="TurntablePlateThickness"
283            outerRadius="TurntableHoleRadius" /&gt;
284      &lt;posRPhiZ r="CalibPortOffsetR" phi="NeutronShieldCylinderPhi"
285            z="0*cm" /&gt;
286    &lt;/subtraction&gt;
287  &lt;/logvol&gt;</pre>
</div>
</div>
<div class="section" id="are-cables">
<h3><a class="toc-backref" href="#id10">4550 + 4565 are cables</a><a class="headerlink" href="#are-cables" title="Permalink to this headline">¶</a></h3>
<img alt="../../../../_images/cables.png" src="../../../../_images/cables.png" />
</div>
<div class="section" id="scene-for-the-noisy-ones">
<h3><a class="toc-backref" href="#id11">scene for the noisy ones</a><a class="headerlink" href="#scene-for-the-noisy-ones" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>[blyth@belle7 export]$ shapedb.py -c 2435 3149 3151 3199 4356 4447 4463 4539 4540 4542 4550 4551 4565 4566 4605 &gt; $(nginx-htdocs)/wrl/booleans.wrl
2013-09-19 13:03:12,090 env.geant4.geometry.export.shapecnf INFO     /home/blyth/env/bin/shapedb.py -c 2435 3149 3151 3199 4356 4447 4463 4539 4540 4542 4550 4551 4565 4566 4605
2013-09-19 13:03:12,090 env.geant4.geometry.export.shapedb INFO     opening /usr/lib/python2.4/site-packages/env/geant4/geometry/export/g4_01.db
2013-09-19 13:03:12,091 env.geant4.geometry.export.shapedb INFO     Operate on 15 shapes, selected by args : [2435, 3149, 3151, 3199, 4356, 4447, 4463, 4539, 4540, 4542, 4550, 4551, 4565, 4566, 4605]
2013-09-19 13:03:12,120 env.geant4.geometry.export.shapedb INFO     opts.center selected, will translate all 15 shapes such that centroid of all is at origin, original coordinate centroid at (-17781.177193995383, -799979.21555042337, -4941.5240993071557)
2013-09-19 13:03:12,120 env.geant4.geometry.export.shapedb INFO     #        sid        npo          ax          ay          az          dx          dy          dz
2013-09-19 13:03:12,125 env.geant4.geometry.export.shapedb INFO     #       2435         24   -20103.87  -796552.00    -1583.37     9892.50     6398.00      294.40  /dd/Geometry/RPCSupport/lvNearHbeamBigUnit#pvNearRightSpanHbeam2.1003
2013-09-19 13:03:12,125 env.geant4.geometry.export.shapedb INFO     #       3149         50   -16048.29  -803091.86    -7068.00    13644.59    15422.00     9916.00  /dd/Geometry/Pool/lvNearPoolDead#pvNearPoolLiner.1000
2013-09-19 13:03:12,125 env.geant4.geometry.export.shapedb INFO     #       3151         50   -16085.48  -802990.16    -6566.00    11506.80    13286.00     8912.00  /dd/Geometry/Pool/lvNearPoolOWS#pvNearPoolCurtain.1000
2013-09-19 13:03:12,127 env.geant4.geometry.export.shapedb INFO     #       3199        362   -16595.86  -801442.65    -8842.50      270.20      286.00      200.58  /dd/Geometry/AD/lvOIL#pvAdPmtArray#pvAdPmtArrayRotated#pvAdPmtRingInCyl:1#pvAdPmtInRing:1#pvAdPmtUnit#pvAdPmt.1
2013-09-19 13:03:12,127 env.geant4.geometry.export.shapedb INFO     #       4356         50   -18289.83  -800004.44    -4826.50       60.80       61.00       53.00  /dd/Geometry/PMT/lvHeadonPmtAssy#pvHeadonPmtBase.1001
2013-09-19 13:03:12,127 env.geant4.geometry.export.shapedb INFO     #       4447         16   -18423.76  -797823.38    -9355.00     1481.60      330.00      430.00  /dd/Geometry/AD/lvOIL#pvSstBotCirRib#SstBotCirRib:7.7
2013-09-19 13:03:12,127 env.geant4.geometry.export.shapedb INFO     #       4463         22   -17784.91  -798325.59    -4814.56      553.70     2147.00      258.73  /dd/Geometry/AD/lvOIL#pvSstTopTshapeRibs#SstTopTshapeRibs:7#SstTopTshapeRot.7
2013-09-19 13:03:12,127 env.geant4.geometry.export.shapedb INFO     #       4539        203   -18014.55  -799605.37    -4226.94      525.30      525.00       12.70  /dd/Geometry/CalibrationBox/lvDomeInterior#pvTurntableLowerPlate.1002
2013-09-19 13:03:12,128 env.geant4.geometry.export.shapedb INFO     #       4540        629   -18079.37  -799699.34    -4117.23       20.10       20.00      204.61  /dd/Geometry/CalibrationBox/lvDomeInterior#pvLedSourceAssyInAcu.1003
2013-09-19 13:03:12,128 env.geant4.geometry.export.shapedb INFO     #       4542        267   -18079.45  -799699.45    -4157.12       15.90       15.00       15.88  /dd/Geometry/CalibrationSources/lvLedSourceShell#pvDiffuserBall.1000
2013-09-19 13:03:12,128 env.geant4.geometry.export.shapedb INFO     #       4550         50   -18079.46  -799699.44    -4194.72        0.60        1.00       25.40  /dd/Geometry/CalibrationSources/lvLedSourceAssy#pvLedWeightCableBot.1004
2013-09-19 13:03:12,128 env.geant4.geometry.export.shapedb INFO     #       4551        357   -17900.44  -799614.67    -4125.39       20.00       20.00      204.61  /dd/Geometry/CalibrationBox/lvDomeInterior#pvGe68SourceAssyInAcu.1004
2013-09-19 13:03:12,128 env.geant4.geometry.export.shapedb INFO     #       4565         50   -17900.61  -799614.56    -4194.72        0.60        1.00       25.40  /dd/Geometry/CalibrationSources/lvGe68SourceAssy#pvWeightCableBot.1004
2013-09-19 13:03:12,128 env.geant4.geometry.export.shapedb INFO     #       4566        296   -18063.58  -799502.10    -4106.42       20.00       20.00      204.61  /dd/Geometry/CalibrationBox/lvDomeInterior#pvAmCCo60SourceAssyInAcu.1005
2013-09-19 13:03:12,140 env.geant4.geometry.export.shapedb INFO     #       4605        172   -18056.44  -799666.11    -4389.40     1845.70     1845.00      299.99  /dd/Geometry/OverflowTanks/lvOflTnkContainer#pvOflTnkCnrSpace.1000
2013-09-19 13:03:12,140 env.geant4.geometry.export.shapedb INFO     select src_head||x'0A'||group_concat(x'09'||x'09'||x'09'||x'09'||x'09'||(1*(x-(-17781.177194)))||' '||(1*(y-(-799979.21555)))||' '||(1*(z-(-4941.52409931)))||',',x'0A')||x'0A'||src_tail from point join shape on shape.id = point.sid where sid in (2435,3149,3151,3199,4356,4447,4463,4539,4540,4542,4550,4551,4565,4566,4605) group by sid ;</pre>
</div>
</div>
<div class="section" id="noisy-15-with-4550-highlighted">
<h3><a class="toc-backref" href="#id12">noisy 15 with 4550 highlighted</a><a class="headerlink" href="#noisy-15-with-4550-highlighted" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>[blyth@belle7 export]$ shapedb.py -c 2435 3149 3151 3199 4356 4447 4463 4539 4540 4542 4550 4551 4565 4566 4605 &gt; $(nginx-htdocs)/wrl/booleans.wrl
simon:geometry blyth$ eai-edit -emissiveColor 1,0,0 4550</pre>
</div>
<img alt="../../../../_images/booleans_4550.png" src="../../../../_images/booleans_4550.png" />
</div>
<div class="section" id="detdesc">
<h3><a class="toc-backref" href="#id13">4550 detdesc</a><a class="headerlink" href="#detdesc" title="Permalink to this headline">¶</a></h3>
<p>NuWa-trunk/dybgaudi/Detector/XmlDetDesc/DDDB/CalibrationSources/parameters.xml:</p>
<div class="highlight-python"><pre>91 &lt;parameter name="WeightLength" value="4.755*cm"/&gt;
92 &lt;parameter name="WeightAcrylicLength" value="5.702*cm"/&gt;
93 &lt;parameter name="WeightRadius" value="6.35*mm"/&gt;
94 &lt;parameter name="WeightAcrylicRadius" value="1.0035*cm"/&gt;
95 &lt;parameter name="WeightCableLength" value="2.54*cm"/&gt;
96 &lt;parameter name="WeightCableLengthInAcr"
97        value="0.5*(WeightAcrylicLength-WeightLength)"/&gt;
98 &lt;parameter name="WeightCableRadius" value="0.3*mm"/&gt;</pre>
</div>
<p>NuWa-trunk/dybgaudi/Detector/XmlDetDesc/DDDB/CalibrationSources/sources.xml:</p>
<div class="highlight-python"><pre>067  &lt;logvol name="lvWeightCable" material="StainlessSteel"&gt;
068    &lt;tubs name="WeightCable" sizeZ="WeightCableLength"
069      outerRadius="WeightCableRadius" /&gt;
070  &lt;/logvol&gt;
...
108 &lt;!-- The LED diffuser ball source assembly with weights --&gt;
109  &lt;logvol name="lvLedSourceAssy" material="Vacuum"&gt;
110    &lt;union name="led-source-assy"&gt;
111      &lt;tubs name="led-cylinder"
112            sizeZ="LedSourceAcrylicHeight-2*LedSourceAcrylicRadius"
113            outerRadius="LedSourceAcrylicRadius"/&gt;
...
151      &lt;sphere name="led-weighthemi2bot"
152            deltaThetaAngle="90*degree"
153            outerRadius="WeightAcrylicRadius"/&gt;
154      &lt;posXYZ z="-0.5*(WeightAcrylicLength-2*WeightAcrylicRadius)-(0.5*LedSourceAcrylicHeight+WeightCableLength+0.5*WeightAcrylicLength)"/&gt;
155      &lt;rotXYZ rotX="180*degree" rotY="180*degree"/&gt;
156      &lt;tubs name="led-weightcablebot"
157            sizeZ="WeightCableLength"
158            outerRadius="WeightCableRadius"/&gt;
159      &lt;posXYZ z="-0.5*LedSourceAcrylicHeight-0.5*WeightCableLength"/&gt;
160      &lt;rotXYZ rotY="180*degree" /&gt;
161    &lt;/union&gt;
162
163
164    &lt;physvol name="pvLedSourceShell"
165             logvol="/dd/Geometry/CalibrationSources/lvLedSourceShell" /&gt;
166
167    &lt;physvol name="pvLedWeightShellTop"
168             logvol="/dd/Geometry/CalibrationSources/lvWeightShell"&gt;
169      &lt;posXYZ z="0.5*LedSourceAcrylicHeight+WeightCableLength+0.5*WeightAcrylicLength"/&gt;
170    &lt;/physvol&gt;
171
172    &lt;physvol name="pvLedWeightCableTop"
173             logvol="/dd/Geometry/CalibrationSources/lvWeightCable"&gt;
174      &lt;posXYZ z="0.5*LedSourceAcrylicHeight+0.5*WeightCableLength"/&gt;
175    &lt;/physvol&gt;
176
177    &lt;physvol name="pvLedWeightShellBot"
178             logvol="/dd/Geometry/CalibrationSources/lvWeightShell"&gt;
179      &lt;posXYZ z="-(0.5*LedSourceAcrylicHeight+WeightCableLength+0.5*WeightAcrylicLength)"/&gt;
180      &lt;rotXYZ rotY="180*degree" /&gt;
181    &lt;/physvol&gt;
182
183    &lt;physvol name="pvLedWeightCableBot"
184             logvol="/dd/Geometry/CalibrationSources/lvWeightCable"&gt;
185       &lt;posXYZ z="-0.5*LedSourceAcrylicHeight-0.5*WeightCableLength"/&gt;
186    &lt;/physvol&gt;
187
188  &lt;/logvol&gt;</pre>
</div>
</div>
<div class="section" id="at-the-point-level">
<h3><a class="toc-backref" href="#id14">4550 at the point level</a><a class="headerlink" href="#at-the-point-level" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>4550
/dd/Geometry/CalibrationSources/lvLedSourceAssy#pvLedWeightCableBot.1004
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor::caseIE : unimplemented case
BooleanProcessor: boolean operation failed
BooleanProcessor::execute : unknown faces !!!
BooleanProcessor: boolean operation failed
BooleanProcessor::execute : unknown faces !!!
BooleanProcessor: boolean operation failed
BooleanProcessor::triangulateFace : too small contour
BooleanProcessor::triangulateContour : could not generate a triangle (infinite loop)
BooleanProcessor: boolean operation failed
BooleanProcessor::execute : unknown faces !!!
BooleanProcessor: boolean operation failed
select sid,npo,ax,ay,az,dx,dy,dz,name from xshape where sid in (4550) ;
sid         npo         ax          ay          az                 dx                 dy          dz                name
----------  ----------  ----------  ----------  -----------------  -----------------  ----------  ----------------  ------------------------------------------------------------------------
4550        50          -18079.46   -799699.44  -4194.72000000001  0.599999999998545  1.0         25.3999999999996  /dd/Geometry/CalibrationSources/lvLedSourceAssy#pvLedWeightCableBot.1004</pre>
</div>
<p>Many duplicated points, looks like a precision issue:</p>
<div class="highlight-python"><pre>#---------- SOLID: /dd/Geometry/CalibrationSources/lvLedSourceAssy#pvLedWeightCableBot.1004
        Shape {
                appearance Appearance {
                        material Material {
                                diffuseColor 1 1 1
                                transparency 0.7
                        }
                }
                geometry IndexedFaceSet {
                        coord Coordinate {
                                point [
                                        -18079.6 -799700 -4182.02,
                                        -18079.6 -799700 -4182.02,
                                        -18079.5 -799700 -4182.02,
                                        -18079.4 -799700 -4182.02,
                                        -18079.3 -799700 -4182.02,
                                        -18079.3 -799700 -4182.02,
                                        -18079.2 -799700 -4182.02,
                                        -18079.2 -799700 -4182.02,
                                        -18079.2 -799699 -4182.02,</pre>
</div>
</div>
</div>
<div class="section" id="viscinity">
<h2><a class="toc-backref" href="#id15">Viscinity</a><a class="headerlink" href="#viscinity" title="Permalink to this headline">¶</a></h2>
<p>The warnings mostly come from the lid of one AD</p>
<img alt="../../../../_images/bbooleans.png" src="../../../../_images/bbooleans.png" />
<div class="highlight-python"><pre>[blyth@belle7 export]$ shapedb.py -e 7000 -ca -18036.18,-799636.09,-4183.07,3000,3000,5000 &gt; $(nginx-htdocs)/wrl/bbooleans.wrl
2013-09-19 20:05:12,072 env.geant4.geometry.export.shapecnf INFO     /home/blyth/env/bin/shapedb.py -e 7000 -ca -18036.18,-799636.09,-4183.07,3000,3000,5000
2013-09-19 20:05:12,072 env.geant4.geometry.export.shapedb INFO     opening /usr/lib/python2.4/site-packages/env/geant4/geometry/export/g4_01.db
2013-09-19 20:05:12,103 env.geant4.geometry.export.shapedb INFO     Operate on 2298 shapes, selected by opts.around "-18036.18,-799636.09,-4183.07,3000,3000,5000" opts.like "None" query
2013-09-19 20:05:12,137 env.geant4.geometry.export.shapedb INFO     opts.center selected, will translate all 2298 shapes such that centroid of all is at origin, original coordinate centroid at (-17927.96754400769, -799862.64262462966, -6781.3555457005978)
2013-09-19 20:05:12,137 env.geant4.geometry.export.shapedb INFO     #        sid        npo          ax          ay          az          dx          dy          dz
2013-09-19 20:05:12,139 env.geant4.geometry.export.shapedb INFO     #         88          8   -16544.54  -802110.00    -1288.62    20239.92    21988.00      293.51  /dd/Geometry/Sites/lvNearHallTop#pvNearRPCRoof.1003
2013-09-19 20:05:12,139 env.geant4.geometry.export.shapedb INFO     #        677          8   -15785.54  -801624.00    -1342.51     3023.90     3014.00      185.71  /dd/Geometry/RPC/lvNearRPCRoof#pvNearUnSlopModArray#pvNearUnSlopModOne:3#pvNearUnSlopMod:3#pvNearSlopModUnit.3
2013-09-19 20:05:12,139 env.geant4.geometry.export.shapedb INFO     #        678          8   -15784.35  -801635.00    -1342.76     2915.70     2916.00      178.30  /dd/Geometry/RPC/lvRPCMod#pvRPCFoam.1000</pre>
</div>
<div class="highlight-python"><pre>eai-edit -emissiveColor 1,0,0 4356 4447 4463 4539 4540 4542 4550 4551 4565 4566 4605</pre>
</div>
<div class="sidebar">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../polyhedron/" title="Polyhedron"
             >next</a> |</li>
        <li class="right" >
          <a href="../overlapping_volumes/" title="Fully Overlapping volumes, due to imprecise export"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../../" >geant4</a> &raquo;</li>
          <li><a href="../../" >Geant4 Geometry Export</a> &raquo;</li>
          <li><a href="../" >VRML2</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>