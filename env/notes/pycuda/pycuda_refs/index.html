<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PyCUDA References &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../" />
    <link rel="up" title="pycuda" href="../" />
    <link rel="next" title="PyCUDA Debugging" href="../pycuda_debugging/" />
    <link rel="prev" title="PYCUDA" href="../pycuda_bash/" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../pycuda_debugging/" title="PyCUDA Debugging"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../pycuda_bash/" title="PYCUDA"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../">Env  documentation</a> &raquo;</li>

          <li><a href="../" accesskey="U">pycuda</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scm/">SCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trac/">Trac</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cuda/">cuda</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">pycuda</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../pycuda_bash/">PYCUDA</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">PyCUDA References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pycuda_debugging/">PyCUDA Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pycuda_error_handling/">PyCUDA Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pycuda_pyopengl_interop/">pycuda_pyopengl_interop</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../geant4/">geant4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../llvm/">llvm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../graphics/">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../javascript/">javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nuwa/">nuwa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hg/">hg</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/pycuda/pycuda_refs.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../pycuda_bash/"
                        title="previous chapter">PYCUDA</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../pycuda_debugging/"
                        title="next chapter">PyCUDA Debugging</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pycuda-references">
<h1>PyCUDA References<a class="headerlink" href="#pycuda-references" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference external" href="http://wiki.tiker.net/PyCuda/FrequentlyAskedQuestions">http://wiki.tiker.net/PyCuda/FrequentlyAskedQuestions</a></li>
<li><a class="reference external" href="https://pypi.python.org/pypi/pudb">https://pypi.python.org/pypi/pudb</a></li>
</ul>
<div class="section" id="how-about-multiple-gpus">
<h2>How about multiple GPUs?<a class="headerlink" href="#how-about-multiple-gpus" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://wiki.tiker.net/PyCuda/FrequentlyAskedQuestions#How_about_multiple_GPUs.3F">http://wiki.tiker.net/PyCuda/FrequentlyAskedQuestions#How_about_multiple_GPUs.3F</a></li>
</ul>
<p>Two ways:</p>
<ul class="simple">
<li>Allocate two contexts, juggle (pycuda.driver.Context.push and
pycuda.driver.Context.pop) them from that one process.</li>
<li>Work with several processes or threads, using MPI, multiprocesing or
threading. As of Version 0.90.2, PyCUDA will release the Global Interpreter
Lock while it is waiting for CUDA operations to finish. As of version 0.93,
PyCUDA will actually work when used together with threads. Also see threading,
below.</li>
</ul>
</div>
<div class="section" id="how-does-pycuda-handle-threading">
<h2>How does PyCUDA handle threading?<a class="headerlink" href="#how-does-pycuda-handle-threading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://wiki.tiker.net/PyCuda/FrequentlyAskedQuestions#How_does_PyCUDA_handle_threading.3F">http://wiki.tiker.net/PyCuda/FrequentlyAskedQuestions#How_does_PyCUDA_handle_threading.3F</a></li>
</ul>
<p>As of version 0.93, PyCUDA supports threading. There is an example of how this
can be done in examples/multiple_threads.py in the PyCUDA distribution. When
you use threading in PyCUDA, you should be aware of one peculiarity, though.
Contexts in CUDA are a per-thread affair, and as such all contexts associated
with a thread as well as GPU memory, arrays and other resources in that context
will be automatically freed when the thread exits. PyCUDA will notice this and
will not try to free the corresponding resource&#8211;it&#8217;s already gone after all.</p>
<p>There is another, less intended consequence, though: If Python&#8217;s garbage
collector finds a PyCUDA object it wishes to dispose of, and PyCUDA, upon
trying to free it, determines that the object was allocated outside of the
current thread of execution, then that object is quietly leaked. This properly
handles the above situation, but it mishandles a situation where:</p>
<ul class="simple">
<li>You use reference cycles in a GPU driver thread, necessitating the GC (over
just regular reference counts).</li>
<li>You require cleanup to be performed before thread exit.</li>
<li>You rely on PyCUDA to perform this cleanup.</li>
</ul>
<p>To entirely avoid the problem, do one of the following:</p>
<ul class="simple">
<li>Use multiprocessing instead of threading.</li>
<li>Explicitly call free on the objects you want cleaned up.</li>
</ul>
</div>
<div class="section" id="how-do-i-use-the-nvidia-visual-profiler-with-pycuda-applications">
<h2>How do I use the NVidia Visual Profiler with PyCUDA applications?<a class="headerlink" href="#how-do-i-use-the-nvidia-visual-profiler-with-pycuda-applications" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://wiki.tiker.net/PyCuda/FrequentlyAskedQuestions#How_do_I_use_the_NVidia_Visual_Profiler_with_PyCUDA_applications.3F">http://wiki.tiker.net/PyCuda/FrequentlyAskedQuestions#How_do_I_use_the_NVidia_Visual_Profiler_with_PyCUDA_applications.3F</a></li>
</ul>
<p>In the Visual Profiler, create a new session with File set to your Python
executable and Arguments set to your main Python script.</p>
<p>There is one more important change you have to make before the timeline will
show any events. Before your application quits, make the call</p>
<p>pycuda.driver.stop_profiler() so that the profiling data buffers get flushed to
file.</p>
<div class="sidebar">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../pycuda_debugging/" title="PyCUDA Debugging"
             >next</a> |</li>
        <li class="right" >
          <a href="../pycuda_bash/" title="PYCUDA"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../">Env  documentation</a> &raquo;</li>

          <li><a href="../" >pycuda</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>