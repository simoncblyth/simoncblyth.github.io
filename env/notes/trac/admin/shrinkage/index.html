<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Shrinkage &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../../" />
    <link rel="up" title="Trac Admin" href="../" />
    <link rel="next" title="Migrating Trac Contents Elsewhere" href="../../migration/" />
    <link rel="prev" title="Trac Admin" href="../" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../migration/" title="Migrating Trac Contents Elsewhere"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../" title="Trac Admin"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >Trac</a> &raquo;</li>
          <li><a href="../" accesskey="U">Trac Admin</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scm/">SCM</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Trac</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../">Trac Admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../migration/">Migrating Trac Contents Elsewhere</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pycuda/">pycuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../geant4/">geant4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../llvm/">llvm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../graphics/">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../javascript/">javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nuwa/">nuwa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hg/">hg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../simoncblyth.bitbucket.org/">simoncblyth.bitbucket.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../numpy/">numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../presentation/">Muon Simulation Presentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../optix/">optix</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/trac/admin/shrinkage.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../"
                        title="previous chapter">Trac Admin</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../migration/"
                        title="next chapter">Migrating Trac Contents Elsewhere</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="shrinkage">
<h1>Shrinkage<a class="headerlink" href="#shrinkage" title="Permalink to this headline">Â¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#fat-trac-db" id="id1">Fat Trac DB</a></li>
<li><a class="reference internal" href="#how-to-slim" id="id2">How to slim</a></li>
<li><a class="reference internal" href="#adding-arbitary-tracadmin-command" id="id3">Adding arbitary tracadmin command</a></li>
<li><a class="reference internal" href="#transactions-at-pysqlite-level" id="id4">Transactions at pysqlite level</a></li>
<li><a class="reference internal" href="#transaction-control-at-the-sql-level" id="id5">Transaction Control At The SQL Level</a><ul>
<li><a class="reference internal" href="#using-sqlite-transactions" id="id6">Using SQLite transactions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dev-shrink-sql" id="id7">dev shrink sql</a></li>
<li><a class="reference internal" href="#dev-do-arbitary-on-c2" id="id8">dev do_arbitary on C2</a></li>
<li><a class="reference internal" href="#caution-uncommitted-on-c2" id="id9">Caution uncommitted on C2</a></li>
<li><a class="reference internal" href="#testing-on-c2" id="id10">testing on C2</a></li>
</ul>
</div>
<div class="section" id="fat-trac-db">
<h2><a class="toc-backref" href="#id1">Fat Trac DB</a><a class="headerlink" href="#fat-trac-db" title="Permalink to this headline">Â¶</a></h2>
<p>The Trac DB needs to be shrunk, currently at 5.5G
Extract trac.db from tarball and interactively check with:</p>
<div class="highlight-python"><pre>[dayabay] /tmp/tt &gt; tar zxf dybsvn.tar.gz dybsvn/db/trac.db
[dayabay] /tmp/tt &gt; du -h dybsvn/db/trac.db
5.5G    dybsvn/db/trac.db
[dayabay] /tmp/tt &gt; sqlite3 dybsvn/db/trac.db
SQLite version 3.3.3
Enter ".help" for instructions
sqlite&gt; .tables
attachment          bitten_report       node_change         ticket
auth_cookie         bitten_report_item  permission          ticket_change
bitten_build        bitten_rule         report              ticket_custom
bitten_config       bitten_slave        revision            version
bitten_error        bitten_step         session             wiki
bitten_log          component           session_attribute
bitten_log_message  enum                system
bitten_platform     milestone           tags
sqlite&gt;</pre>
</div>
<p>Which tables hold the fat:</p>
<div class="highlight-python"><pre>./count.py /tmp/tt/dybsvn/db/trac.db

bitten_config                  : 5
bitten_platform                : 16
bitten_rule                    : 16
bitten_error                   : 8164
bitten_build                   : 13170
bitten_report                  : 98520
bitten_slave                   : 162784
bitten_log                     : 298469
bitten_step                    : 300033
bitten_report_item             : 18051235     ## more than 18M
bitten_log_message             : 39656123     ## almost 40M</pre>
</div>
<p>Schema of fatties:</p>
<div class="highlight-python"><pre>sqlite&gt; .schema bitten_log_message
CREATE TABLE bitten_log_message (
    log integer,
    line integer,
    level text,
    message text,
    UNIQUE (log,line)
);

sqlite&gt; .schema bitten_report_item
CREATE TABLE bitten_report_item (
    report integer,
    item integer,
    name text,
    value text,
    UNIQUE (report,item,name)
);

sqlite&gt; select max(length(message)) from bitten_log_message ;
3571

sqlite&gt; select sum(length(message)) from bitten_log_message ;
2048409596      ## 2 billion chars of log messages</pre>
</div>
<p>Work out the query:</p>
<div class="highlight-python"><pre>sqlite&gt; select count(*) FROM bitten_log_message WHERE log &lt; (SELECT max(id) FROM bitten_log WHERE build &lt; 10000 ) ;
10478700

sqlite&gt; SELECT max(id) FROM bitten_log WHERE build &lt; 10000 ;
148781

sqlite&gt; select count(*) FROM bitten_log_message ;
39656123
sqlite&gt;

sqlite&gt; select cast(rev as integer) from bitten_build limit 10 ;
3953
3952
3957

sqlite&gt; select count(*) from bitten_build where cast(rev as int) &lt; 10000 ;
3175

sqlite&gt; select count(distinct(id)) from bitten_build where cast(rev as int) &lt; 10000 ;
3175

sqlite&gt; select count(distinct(id)) from bitten_build where cast(rev as int) &gt; 10000 ;
9995

sqlite&gt; SELECT min(rev+0),max(rev+0) FROM bitten_build  ;
3952|17979</pre>
</div>
<p>Hmm will killing all of a configs builds cause problems for Trac/Bitten web interface:</p>
<div class="highlight-python"><pre>sqlite&gt; select distinct(config) from bitten_build;
detdesc
dybinst
dybdoc
dybdaily
opt.dybinst</pre>
</div>
</div>
<div class="section" id="how-to-slim">
<h2><a class="toc-backref" href="#id2">How to slim</a><a class="headerlink" href="#how-to-slim" title="Permalink to this headline">Â¶</a></h2>
<p>The 10 slaves are calling home every 5 minutes so lots of contention potential
for what is probably an expensive sequence of deletes, and the probable vacuuming.
Slave death during this operation would not be surprising : however their supervisord
should auto-restart them.</p>
<blockquote>
<div><ul>
<li><p class="first">need to lock ? like trac admin hotcopy does</p>
<blockquote>
<div><ul class="simple">
<li>nope : locking would mean cannot do the deletes, whats needed is to do a long running sequence of several queries transactionally</li>
<li><a class="reference external" href="http://www.sqlite.org/transactional.html">http://www.sqlite.org/transactional.html</a></li>
<li><a class="reference external" href="http://www.sqlite.org/atomiccommit.html">http://www.sqlite.org/atomiccommit.html</a></li>
<li><a class="reference external" href="http://www.sqlite.org/lockingv3.html">http://www.sqlite.org/lockingv3.html</a></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">best to do via a patch to tracadmin that allows arbitary sql to be run agains the DB in a lock/unlock manner</p>
<blockquote>
<div><ul class="simple">
<li>/data/env/local/env/trac/package/tractrac/trac-0.11/trac/admin/console.py do_hotcopy</li>
<li>create a do_arbitary following example of do_hotcopy that runs arbitary sql from a path given</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">peer into the future of trac/bitten to see if such things are implemented</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://trac.edgewall.org/browser/trunk/trac/admin/console.py">http://trac.edgewall.org/browser/trunk/trac/admin/console.py</a>  a great deal of divergence</li>
<li><a class="reference external" href="http://trac.edgewall.org/log/trunk/trac/admin/console.py">http://trac.edgewall.org/log/trunk/trac/admin/console.py</a></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">open question : maybe need to vacuum sqlite DB for size decrease after deletions are done</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://www.sqlite.org/lang_vacuum.html">http://www.sqlite.org/lang_vacuum.html</a>  needs twice DB size in free space</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="adding-arbitary-tracadmin-command">
<h2><a class="toc-backref" href="#id3">Adding arbitary tracadmin command</a><a class="headerlink" href="#adding-arbitary-tracadmin-command" title="Permalink to this headline">Â¶</a></h2>
<p>Need a backup trac environment dir to test, just the db is insufficient as
need the config file.</p>
<div class="highlight-python"><pre>[blyth@cms02 trac-0.11]$ TRAC_INSTANCE=toysvn trac-admin-</pre>
</div>
<p>Hmm difficult develop at trac admin level first, so do at pysqlite level to allow practicing on a copy of the DB.</p>
</div>
<div class="section" id="transactions-at-pysqlite-level">
<h2><a class="toc-backref" href="#id4">Transactions at pysqlite level</a><a class="headerlink" href="#transactions-at-pysqlite-level" title="Permalink to this headline">Â¶</a></h2>
<p>But pysqlite already using this it seems.:</p>
<div class="highlight-python"><pre>       [blyth@cms02 trac-0.11]$ which trac-admin
       /data/env/system/python/Python-2.5.6/bin/trac-admin

* :google:`pysqlite try except finally rollback commit`</pre>
</div>
</div>
<div class="section" id="transaction-control-at-the-sql-level">
<h2><a class="toc-backref" href="#id5">Transaction Control At The SQL Level</a><a class="headerlink" href="#transaction-control-at-the-sql-level" title="Permalink to this headline">Â¶</a></h2>
<p>Quoting from  <a class="reference external" href="http://www.sqlite.org/lockingv3.html">http://www.sqlite.org/lockingv3.html</a></p>
<p>The changes to locking and concurrency control in SQLite version 3 also
introduce some subtle changes in the way transactions work at the SQL language
level. By default, SQLite version 3 operates in autocommit mode. In autocommit
mode, all changes to the database are committed as soon as all operations
associated with the current database connection complete.</p>
<p>The SQL command &#8220;BEGIN TRANSACTION&#8221; (the TRANSACTION keyword is optional) is
used to take SQLite out of autocommit mode. Note that the BEGIN command does
not acquire any locks on the database. After a BEGIN command, a SHARED lock
will be acquired when the first SELECT statement is executed. A RESERVED lock
will be acquired when the first INSERT, UPDATE, or DELETE statement is
executed. No EXCLUSIVE lock is acquired until either the memory cache fills up
and must be spilled to disk or until the transaction commits. In this way, the
system delays blocking read access to the file file until the last possible
moment.</p>
<p>The SQL command &#8220;COMMIT&#8221; does not actually commit the changes to disk. It just
turns autocommit back on. Then, at the conclusion of the command, the regular
autocommit logic takes over and causes the actual commit to disk to occur. The
SQL command &#8220;ROLLBACK&#8221; also operates by turning autocommit back on, but it also
sets a flag that tells the autocommit logic to rollback rather than commit.</p>
<p>If the SQL COMMIT command turns autocommit on and the autocommit logic then
tries to commit change but fails because some other process is holding a SHARED
lock, then autocommit is turned back off automatically. This allows the user to
retry the COMMIT at a later time after the SHARED lock has had an opportunity
to clear.</p>
<p>If multiple commands are being executed against the same SQLite database
connection at the same time, the autocommit is deferred until the very last
command completes. For example, if a SELECT statement is being executed, the
execution of the command will pause as each row of the result is returned.
During this pause other INSERT, UPDATE, or DELETE commands can be executed
against other tables in the database. But none of these changes will commit
until the original SELECT statement finishes.</p>
<div class="section" id="using-sqlite-transactions">
<h3><a class="toc-backref" href="#id6">Using SQLite transactions</a><a class="headerlink" href="#using-sqlite-transactions" title="Permalink to this headline">Â¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://www.sqlite.org/lang_transaction.html">http://www.sqlite.org/lang_transaction.html</a></li>
</ul>
</div></blockquote>
<div class="highlight-python"><pre>BEGIN EXCLUSIVE TRANSACTION ;
    select ...
COMMIT TRANSACTION ;</pre>
</div>
</div>
</div>
<div class="section" id="dev-shrink-sql">
<h2><a class="toc-backref" href="#id7">dev shrink sql</a><a class="headerlink" href="#dev-shrink-sql" title="Permalink to this headline">Â¶</a></h2>
<p>Objective : come up with SQL that does the desired shrinkage</p>
<blockquote>
<div><ul class="simple">
<li>env/sqlite/shrink.py</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="dev-do-arbitary-on-c2">
<h2><a class="toc-backref" href="#id8">dev do_arbitary on C2</a><a class="headerlink" href="#dev-do-arbitary-on-c2" title="Permalink to this headline">Â¶</a></h2>
<p>Objective : add arbitary command allowing execution of arbitary SQL from a file specified from trac admin console or command line with locking/unlocking based on the hotcopy command</p>
<p>Get there:</p>
<div class="highlight-python"><pre>tractrac-
tractrac-cd
vi trac/admin/console.py</pre>
</div>
<p>No motivation to stuff into git for cleaner maintenance that current patch approach as this my first change to console.py:</p>
<div class="highlight-python"><pre>[blyth@cms02 trac-0.11]$ svn st trac/admin/console.py
[blyth@cms02 trac-0.11]$ svn log trac/admin/console.py
------------------------------------------------------------------------
r7236 | jonas | 2008-06-22 23:43:50 +0800 (Sun, 22 Jun 2008) | 1 line

Tagging trac-0.11
------------------------------------------------------------------------
r6940 | jonas | 2008-05-01 01:44:57 +0800 (Thu, 01 May 2008) | 1 line

Creating branch 0.11-stable
------------------------------------------------------------------------</pre>
</div>
</div>
<div class="section" id="caution-uncommitted-on-c2">
<h2><a class="toc-backref" href="#id9">Caution uncommitted on C2</a><a class="headerlink" href="#caution-uncommitted-on-c2" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-python"><pre>[blyth@cms02 trac-0.11]$ svn diff trac/admin/console.py
Index: trac/admin/console.py
===================================================================
--- trac/admin/console.py       (revision 7236)
+++ trac/admin/console.py       (working copy)
@@ -254,7 +254,7 @@
     _help_help = [('help', 'Show documentation')]

     def all_docs(cls):
-        return (cls._help_help + cls._help_initenv + cls._help_hotcopy +
+        return (cls._help_help + cls._help_initenv + cls._help_hotcopy + cls._help_arbitary +
                 cls._help_resync + cls._help_upgrade + cls._help_deploy +
                 cls._help_permission + cls._help_wiki +
                 cls._help_ticket + cls._help_ticket_type +
@@ -1151,6 +1151,35 @@

         print 'Hotcopy done.'

+    _help_arbitary = [('arbitary &lt;path/to/sql/script&gt;',
+                      'Run arbitary sql script against the SQLite DB (expensive/dangerous query sequences should use transactions)')]
+    def do_arbitary(self, line):
+        arg = self.arg_tokenize(line)
+        if arg[0]:
+            script = arg[0]
+        else:
+            self.do_help('arbitary')
+            return
+
+        if not os.path.exists(script):
+            raise TracError(_("arbitary can't read script '%(script)s'",
+                              script=script))
+
+        sql = open(script,"r").read()
+        cnx = self.db_open()
+        cursor = cnx.cursor()
+        try:
+            print 'Running arbitary script %s sql %s against %s ...' % (script, sql, self.__env.path),
+            self.db_update(sql, cursor)
+        except:
+            cursor.close()
+            cnx.rollback()
+        finally:
+            cnx.commit()
+        print 'Arbitary done.'
+
+
+
     _help_deploy = [('deploy &lt;directory&gt;',
                      'Extract static resources from Trac and all plugins.')]</pre>
</div>
</div>
<div class="section" id="testing-on-c2">
<h2><a class="toc-backref" href="#id10">testing on C2</a><a class="headerlink" href="#testing-on-c2" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-python"><pre>[root@cms02 dayabay]# pwd
/var/scm/backup/dayabay
[root@cms02 dayabay]# mkdir -p tracs/dybsvn/2012/09/18/120001
[root@cms02 dayabay]# scp WW:/home/scm/backup/dayabay/tracs/dybsvn/2012/09/18/120001/dybsvn.tar.gz.dna tracs/dybsvn/2012/09/18/120001/
[root@cms02 dayabay]# screen time scp WW:/home/scm/backup/dayabay/tracs/dybsvn/2012/09/18/120001/dybsvn.tar.gz tracs/dybsvn/2012/09/18/120001/
[screen is terminating]
[root@cms02 dayabay]# time screen scp WW:/home/scm/backup/dayabay/svn/dybsvn/2012/09/18/120001/dybsvn-18208.tar.gz svn/dybsvn/2012/09/18/120001/
[screen is terminating]
real    44m12.252s
user    0m0.001s
sys     0m0.003s</pre>
</div>
<div class="sidebar">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../migration/" title="Migrating Trac Contents Elsewhere"
             >next</a> |</li>
        <li class="right" >
          <a href="../" title="Trac Admin"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >Trac</a> &raquo;</li>
          <li><a href="../" >Trac Admin</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>