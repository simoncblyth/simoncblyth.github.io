<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Migration Overview &mdash; Env  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/highstock/highstock.js"></script>
    <script type="text/javascript" src="../../../_static/highstock/modules/exporting.js"></script>
    <link rel="top" title="Env  documentation" href="../../../" />
    <link rel="up" title="Migrating Trac Contents Elsewhere" href="../" />
    <link rel="next" title="Trac/SVN Migration to SL59" href="../sl59/" />
    <link rel="prev" title="Migrating Trac Contents Elsewhere" href="../" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../sl59/" title="Trac/SVN Migration to SL59"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../" title="Migrating Trac Contents Elsewhere"
             accesskey="P">previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >Trac</a> &raquo;</li>
          <li><a href="../" accesskey="U">Migrating Trac Contents Elsewhere</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Links</h3>
<ul class="this-page-menu">
	<li><a href="/tracs/env"> env </a>  <a href="/tracs/env/timeline"> tl </a> <a href="/repos/env/trunk"> repo </a> <a href="/e"> edocs </a> </li>
	<li><a href="/tracs/heprez"> heprez </a>  <a href="/tracs/heprez/timeline"> tl </a> <a href="/repos/heprez/trunk"> repo</a> <a href="/h">hdocs</a>   </li>
        <li><a href="/e/scm/monitor/" > backup status </a> </li>
</ul>

<h3>Content Skeleton</h3>

<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing <strong>env</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../base/">Base Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../log/May2012/">LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../TODO/">TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sysadmin/">Sys Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../plot/">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scm/">SCM</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Trac</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../admin/">Trac Admin</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../">Migrating Trac Contents Elsewhere</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../root/">ROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sphinxext/">Sphinx Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../matplotlib/">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nose/">nose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../svn/">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../npy/">Numerical Python, numpy et al</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pypy/">PyPy : faster python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysqlhotcopy/">MySQL hotcopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mysql/">MySQL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sqlite/">SQLite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../db/">DB scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../qxml/">QXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fossil/">Fossil</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../java/">Java Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pycuda/">pycuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../geant4/">geant4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../muon_simulation/">muon_simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../chroma/">chroma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../llvm/">llvm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../graphics/">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cuda/">cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../opencl/">opencl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../linux/">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../package_management/">Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ui/">ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debugging/">debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mercurial/">mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../javascript/">javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nuwa/">nuwa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ccgpu/">ccgpu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pygame/">pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../zeromq/">zeromq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc/">doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python/">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../osx/">osx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hg/">hg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../simoncblyth.bitbucket.org/">simoncblyth.bitbucket.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../numpy/">numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../presentation/">Muon Simulation Presentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../optix/">optix</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/trac/migration/overview.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../"
                        title="previous chapter">Migrating Trac Contents Elsewhere</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../sl59/"
                        title="next chapter">Trac/SVN Migration to SL59</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="migration-overview">
<h1>Migration Overview<a class="headerlink" href="#migration-overview" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference external" href="https://confluence.atlassian.com/display/BITBUCKET/Convert+from+Subversion+to+Mercurial">https://confluence.atlassian.com/display/BITBUCKET/Convert+from+Subversion+to+Mercurial</a></li>
</ul>
<div class="section" id="stage-strategy">
<h2>2-stage strategy<a class="headerlink" href="#stage-strategy" title="Permalink to this headline">¶</a></h2>
<p>Attack in two stages:</p>
<ol class="arabic simple">
<li>migrate &#8220;env&#8221; asis into bitbucket</li>
</ol>
</div>
<div class="section" id="split">
<h2>Split<a class="headerlink" href="#split" title="Permalink to this headline">¶</a></h2>
<p>Not really a migration, this is new creation.</p>
<ol class="arabic simple">
<li>create a (3?) new repositories with<ul>
<li>g4dae : just the geant4 exporter</li>
<li>g4daeview : visualization, optional dependency on g4daechroma</li>
<li>g4daechroma : mapping from g4dae into chroma and propagation steering</li>
</ul>
</li>
</ol>
<p>Division to allow users without Chroma/CUDA to still benefit from
the visualization functionality.</p>
<ul class="simple">
<li><cite>hg convert</cite> can extract history of parts of the SVN repo in
its conversion into Mercurial, so can partition into
separate repos.  Which can then be fixed up for the different
python import paths.</li>
</ul>
</div>
<div class="section" id="code-and-revision-history">
<h2>code and revision history<a class="headerlink" href="#code-and-revision-history" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>see <cite>hg-convert</cite> trying hg convert<ul>
<li><a class="reference external" href="http://mercurial.selenic.com/wiki/ConvertExtension">http://mercurial.selenic.com/wiki/ConvertExtension</a></li>
<li>worked OK, 8 mins for env over network</li>
<li>timezone ?</li>
<li>authormap ?</li>
<li>how to verify systematically ?</li>
</ul>
</li>
<li>alternative <a class="reference external" href="http://mercurial.selenic.com/wiki/HgSubversion">http://mercurial.selenic.com/wiki/HgSubversion</a><ul>
<li>TODO: check this recommendation of bitbucket  <a class="reference external" href="http://blogs.atlassian.com/2011/03/goodbye_subversion_hello_mercurial/">http://blogs.atlassian.com/2011/03/goodbye_subversion_hello_mercurial/</a></li>
</ul>
</li>
<li>probably just leave: wiki markup in commit messages</li>
</ol>
</div>
<div class="section" id="wiki">
<h2>wiki<a class="headerlink" href="#wiki" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>see <cite>trac2bitbucket-wiki</cite><ul>
<li>needs a wiki repo first</li>
</ul>
</li>
<li><cite>tracwikidump.py</cite> works, creates txt files for each Trac wikipage<ul>
<li>more of a backup than a migration</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="tickets">
<h2>tickets<a class="headerlink" href="#tickets" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>see <cite>trac2bitbucket-tickets</cite><ul>
<li>tickets have crazy dates from 1970, FIXED</li>
<li><a class="reference external" href="http://www.redmine.org/issues/14567">http://www.redmine.org/issues/14567</a></li>
</ul>
</li>
</ol>
<div class="section" id="trac-timestamps">
<h3>trac timestamps<a class="headerlink" href="#trac-timestamps" title="Permalink to this headline">¶</a></h3>
<p>Using Trac 0.11, so need to remove a factor of 1 million on timestamps.</p>
<p>In Trac API 0.12, the representation of timestamps was changed from seconds since the epoch
to microseconds since the epoch:</p>
<ul class="simple">
<li><a class="reference external" href="http://trac.edgewall.org/wiki/TracDev/ApiChanges/0.12#Timestampstorageindatabase">http://trac.edgewall.org/wiki/TracDev/ApiChanges/0.12#Timestampstorageindatabase</a></li>
</ul>
<div class="sidebar">
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../sl59/" title="Trac/SVN Migration to SL59"
             >next</a> |</li>
        <li class="right" >
          <a href="../" title="Migrating Trac Contents Elsewhere"
             >previous</a> |</li>
    <li><a href="/tracs/env/timeline">env</a> &raquo;</li>
    
        <li><a href="../../../">Env  documentation</a> &raquo;</li>

          <li><a href="../../" >Trac</a> &raquo;</li>
          <li><a href="../" >Migrating Trac Contents Elsewhere</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Simon C Blyth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>